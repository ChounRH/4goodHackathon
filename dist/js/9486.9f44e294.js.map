{"version":3,"file":"js/9486.9f44e294.js","mappings":"6MACOA,MAAM,oB,GACJA,MAAM,iB,GAFf,O,EAAA,Y,GAaaA,MAAM,mB,EAbnB,Q,GAoBaA,MAAM,gB,GACJA,MAAM,qB,GACJA,MAAM,oB,GAtBvB,MAgCkCA,MAAM,U,GAhCxC,O,GAAA,O,GAAA,O,iFACE,QA2CM,MA3CN,EA2CM,EA1CJ,QAEM,MAFN,EAEM,EADJ,QAA+C,UAA3C,wBAAoB,QAAG,EAAAC,aAAc,IAAC,KAGjC,EAAAC,QAAc,S,WAAzB,QAmCM,MAzCV,K,aAOM,QAiCM,WAxCZ,QASkC,EAAAA,SATlC,CASgBC,EAAQC,M,WAFlB,QAiCM,OAhCJJ,MAAM,gBAELK,IAAKD,EACL,QAAK,GAAE,EAAAE,SAASH,EAAOI,O,EAExB,QAMM,MANN,EAMM,EALJ,QAIE,OAHCC,IAAK,EAAAC,OAAOL,IAAU,EAAQ,KAC/BM,IAAI,sBACJV,MAAM,oB,OAjBlB,MAoBQ,QAmBM,MAnBN,EAmBM,EAlBJ,QAUM,MAVN,EAUM,EATJ,QAEM,MAFN,EAEM,EADJ,QAA0B,mBAAnBG,EAAOQ,MAAI,MAElB,QAKE,GAJDC,SAAUT,EAAOI,KACjB,QAAOM,EAAAA,oBACRb,MAAM,sBACL,QAAK,aA7BpB,SA6Bc,QAAW,Y,iCAGNG,EAAa,S,WAAtB,QAA8F,IAA9F,EAA8F,C,aAAvD,QAA+B,KAA5BH,MAAM,mBAAiB,WAhC3E,QAgCgF,KAAC,QAAGG,EAAOW,QAAM,OAhCjG,eAiCmBX,EAAc,U,WAAvB,QAEI,IAnCd,G,aAkCY,QAAgC,KAA7BH,MAAM,oBAAkB,WAlCvC,QAkC4C,KAAC,QAAG,EAAAe,cAAcZ,EAAOa,UAAO,OAlC5E,eAoCmBb,EAAOc,SAASC,mB,WAAzB,QAEI,IAtCd,G,aAqCY,QAA2B,KAAxBlB,MAAM,eAAa,WArClC,QAqCuC,KAAC,QAAGG,EAAOc,QAAQC,kBAAgB,OArC1E,kB,EAAA,M,sBA2CI,QAA+B,IA3CnC,EA2Cc,uB,mCAUd,SACEC,WAAY,CACVC,mBAAkB,KAEpB,KAAAC,GACE,MAAMC,GAAQ,UACRC,GAAS,UACTtB,EAAcqB,EAAME,OAAOvB,YAC3BwB,EAAaH,EAAME,OAAOC,WAC1BC,EAAcJ,EAAME,OAAOG,UAAY,GACvCC,EAAoBF,EAAYG,QAAQ,MAAO,KAC/C3B,GAAU,QAAI,IACdO,GAAS,QAAI,IAEbM,EAAiBC,IACrB,IAAKA,EAAS,MAAO,sBACrB,MAAM,MAAEc,EAAK,WAAEC,EAAU,YAAEC,EAAW,WAAEC,EAAU,WAAEC,GAAelB,EACnE,MAAO,CAACc,EAAOC,EAAYC,EAAaC,EAAYC,GAAYC,OAAOC,SAASC,KAAK,IAAI,EAGrFC,EAAcC,MAAOhC,IACzB,IACE,MAAMiC,QAAiB,QAAcjC,GACrC,OAAOkC,IAAIC,gBAAgBF,EAC7B,CAAE,MAAOG,GAEP,OADAC,QAAQD,MAAM,wBAAyBA,GAChC,EACT,GAGIE,EAAqBN,UACzB,IACE,MAAMO,EAAgBlB,EAAoB,WAAWA,IAAsB,GACrEmB,EAAkBtB,GAAc,8BAChCe,QAAiB,QAAU,kBAAkBO,IAAkBD,aAAyB7C,cAC9FC,EAAQ8C,MAAQR,EAASS,KAEzB,MAAMC,EAAgBhD,EAAQ8C,MAAMG,KAAIZ,MAAOpC,GACzCA,EAAOM,QAAUN,EAAOM,OAAO2C,OAAS,QAC7Bd,EAAYnC,EAAOM,OAAO,GAAGF,MAEnC,KAIXE,EAAOuC,YAAcK,QAAQC,IAAIJ,EACnC,CAAE,MAAOP,GACPC,QAAQD,MAAM,iCAAkCA,EAClD,GAGIrC,EAAYC,IAChBgB,EAAOgC,KAAK,SAAShD,IAAO,EAK9B,OAFA,QAAUsC,GAEH,CACL5C,cACAC,UACAO,SACAM,gBACAT,WACAc,mBAAkB,IAEtB,G,cC/GF,MAAMoC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,I,qICWA,MAAMC,GAAc,QAAI,IAGlBC,EAAgBC,IACpBF,EAAYV,MAAQY,CAAK,E,4KClBrB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,G","sources":["webpack://hiddenkittens/./src/components/SearchResults.vue","webpack://hiddenkittens/./src/components/SearchResults.vue?20e6","webpack://hiddenkittens/./src/views/PostLogin/DiscoverySeach.vue","webpack://hiddenkittens/./src/views/PostLogin/DiscoverySeach.vue?e29b"],"sourcesContent":["<template>\r\n  <div class=\"result-container\">\r\n    <div class=\"result-header\">\r\n      <h1>Search Results for \"{{ searchinput }}\"</h1>\r\n    </div>\r\n\r\n    <div v-if=\"results.length\">\r\n      <div\r\n        class=\"carousel-item\"\r\n        v-for=\"(result, index) in results\"\r\n        :key=\"index\"\r\n        @click=\"goToItem(result.uuid)\"\r\n      >\r\n        <div class=\"image-container\">\r\n          <img\r\n            :src=\"images[index] || require('../assets/img/EmptyImage.jpg')\"\r\n            alt=\"Image not available\"\r\n            class=\"restaurant-image\"\r\n          />\r\n        </div>\r\n        <div class=\"item-details\">\r\n          <div class=\"restaurant-header\">\r\n            <div class=\"restaurant-title\">\r\n              <h3>{{ result.name }}</h3>\r\n            </div>\r\n              <AddToBookmarkList2\r\n              :itemUUID=\"result.uuid\"\r\n              @added=\"handleBookmarkAdded\"\r\n              class=\"add-to-bookmark-btn\"\r\n              @click.stop \r\n              />\r\n          </div>\r\n          <p v-if=\"result.rating\" class=\"rating\"><i class=\"pi pi-star-fill\"></i> {{ result.rating }}</p>\r\n          <p v-if=\"result.address\">\r\n            <i class=\"pi pi-map-marker\"></i> {{ formatAddress(result.address) }}\r\n          </p>\r\n          <p v-if=\"result.contact?.primaryContactNo\">\r\n            <i class=\"pi pi-phone\"></i> {{ result.contact.primaryContactNo }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <p v-else>No results found.</p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { onMounted, ref } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { getPlaces, downloadMedia } from '@/tihServices.js';\r\nimport AddToBookmarkList2 from \"@/components/AddToBookmarkList.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    AddToBookmarkList2,\r\n  },\r\n  setup() {\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    const searchinput = route.params.searchinput;\r\n    const searchtype = route.params.searchtype;\r\n    const rawCategory = route.params.category || \"\";\r\n    const formattedCategory = rawCategory.replace(/\\-/g, \",\");\r\n    const results = ref([]);\r\n    const images = ref([]);\r\n\r\n    const formatAddress = (address) => {\r\n      if (!address) return 'No Address Provided';\r\n      const { block, streetName, floorNumber, unitNumber, postalCode } = address;\r\n      return [block, streetName, floorNumber, unitNumber, postalCode].filter(Boolean).join(' ');\r\n    };\r\n\r\n    const getImageUrl = async (uuid) => {\r\n      try {\r\n        const response = await downloadMedia(uuid);\r\n        return URL.createObjectURL(response);\r\n      } catch (error) {\r\n        console.error('Error fetching media:', error);\r\n        return '';\r\n      }\r\n    };\r\n\r\n    const fetchSearchResults = async () => {\r\n      try {\r\n        const categoryParam = formattedCategory ? `&typeId=${formattedCategory}` : \"\";\r\n        const searchTypeParam = searchtype || 'events,food_beverages,shops';\r\n        const response = await getPlaces(`search?dataset=${searchTypeParam}${categoryParam}&keyword=${searchinput}&limit=15`);\r\n        results.value = response.data;\r\n\r\n        const imagePromises = results.value.map(async (result) => {\r\n          if (result.images && result.images.length > 0) {\r\n            return await getImageUrl(result.images[0].uuid);\r\n          } else {\r\n            return '';\r\n          }\r\n        });\r\n\r\n        images.value = await Promise.all(imagePromises);\r\n      } catch (error) {\r\n        console.error('Error fetching search results:', error);\r\n      }\r\n    };\r\n\r\n    const goToItem = (uuid) => {\r\n      router.push(`/item/${uuid}`);\r\n    };\r\n\r\n    onMounted(fetchSearchResults);\r\n\r\n    return {\r\n      searchinput,\r\n      results,\r\n      images,\r\n      formatAddress,\r\n      goToItem,\r\n      AddToBookmarkList2,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.add-to-bookmark-btn {\r\n  position: absolute;\r\n  top: 25px;\r\n  right: 25px;\r\n  cursor: pointer;\r\n  color: #ffd700;\r\n  font-size: 1.5rem;\r\n  background-color: transparent;\r\n  border: none;\r\n  padding: 0;\r\n}\r\n\r\n.restaurant-title h3 {\r\n  font-size: 1.5rem;\r\n  margin: 0;\r\n  font-weight: bold;\r\n  white-space: nowrap;       /* Prevents wrapping */\r\n  overflow: hidden;          /* Hides overflow text */\r\n  text-overflow: ellipsis;   /* Shows \"...\" for overflowing text */\r\n  max-width: calc(50vw - 80px);          /* Adjust width as needed */\r\n}\r\n\r\n.add-to-bookmark-btn:hover {\r\n  color: #ffcc00;\r\n}\r\n\r\n.result-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center; /* Centers items horizontally */\r\n  height: calc(100vh - 180px);\r\n  overflow-y: auto;\r\n  padding: 20px 20px 40vh 20px;\r\n}\r\n\r\n.result-header {\r\n  padding-bottom: 15px;\r\n}\r\n\r\n.carousel-item {\r\n  display: flex;\r\n  width: 80vw;\r\n  min-width: 600px;\r\n  max-width: 1000px;\r\n  gap: 20px;\r\n  padding: 0;\r\n  border-radius: 10px;\r\n  background-color: #fff;\r\n  cursor: pointer;\r\n  margin-bottom: 20px;\r\n  transition: background-color 0.3s ease;\r\n  border: 1px solid #d9d9d9; /* Add a 1px grey border */\r\n  position: relative;\r\n}\r\n\r\n.carousel-item:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.image-container {\r\n  width: 220px;\r\n  height: 180px;\r\n  overflow: hidden;\r\n  border-radius: 10px 0 0 10px;\r\n}\r\n\r\n.restaurant-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.item-details {\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 15px 20px 10px 20px;\r\n  justify-content: center;\r\n}\r\n\r\n.restaurant-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.item-details h3 {\r\n  font-size: 1.5rem;\r\n  margin: 0;\r\n  font-weight: bold;\r\n}\r\n\r\n.rating {\r\n  display: flex;\r\n  align-items: center; /* Center vertically */\r\n  font-size: 0.85rem;\r\n  color: #666;\r\n  margin-top: 5px;\r\n}\r\n\r\n.rating i {\r\n  color: gold;\r\n  font-size: 1rem;\r\n  padding-bottom: 4px;\r\n}\r\n\r\n.item-details p {\r\n  font-size: 1rem;\r\n  margin: 5px 0;\r\n  color: #333;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.item-details p i {\r\n  margin-right: 8px;\r\n  margin-top: 0px;\r\n}\r\n</style>","import { render } from \"./SearchResults.vue?vue&type=template&id=70cfe7b6&scoped=true\"\nimport script from \"./SearchResults.vue?vue&type=script&lang=js\"\nexport * from \"./SearchResults.vue?vue&type=script&lang=js\"\n\nimport \"./SearchResults.vue?vue&type=style&index=0&id=70cfe7b6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-70cfe7b6\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"discovery-search-container\">\r\n    <!-- Capture the 'search' event from SearchPlaces -->\r\n    <div class=\"search-container\">\r\n      <SearchPlaces @search=\"handleSearch\" />\r\n    </div>\r\n\r\n    <!-- Pass the searchInput to SearchResults as a prop -->\r\n    <div class=\"result-container\">\r\n      <SearchResults :searchInput=\"searchInput\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport SearchPlaces from \"../../components/SearchPlaces.vue\";\r\nimport SearchResults from \"../../components/SearchResults.vue\";\r\n\r\n// Use ref to store the search input\r\nconst searchInput = ref(\"\");\r\n\r\n// Handle the search event from SearchPlaces\r\nconst handleSearch = (query) => {\r\n  searchInput.value = query; // Update the searchInput prop for SearchResults\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.discovery-search-container {\r\n  position: fixed;\r\n  top: 100px;\r\n  left: 0;\r\n  width: 100%;\r\n  height: calc(100vh - 100px); \r\n  overflow: hidden;\r\n}\r\n\r\n.search-container {\r\n  top: 0;\r\n  width: 100%;\r\n  height: 80px; \r\n  background-color: white;\r\n  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Bottom shadow */\r\n  z-index: 2;\r\n}\r\n\r\n.result-container {\r\n  background-color: #f9f9f9;\r\n  overflow-y: auto;\r\n  z-index: 1;\r\n}\r\n\r\n\r\n</style>\r\n","import script from \"./DiscoverySeach.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DiscoverySeach.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DiscoverySeach.vue?vue&type=style&index=0&id=31fe0942&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-31fe0942\"]])\n\nexport default __exports__"],"names":["class","searchinput","results","result","index","key","goToItem","uuid","src","images","alt","name","itemUUID","handleBookmarkAdded","rating","formatAddress","address","contact","primaryContactNo","components","AddToBookmarkList2","setup","route","router","params","searchtype","rawCategory","category","formattedCategory","replace","block","streetName","floorNumber","unitNumber","postalCode","filter","Boolean","join","getImageUrl","async","response","URL","createObjectURL","error","console","fetchSearchResults","categoryParam","searchTypeParam","value","data","imagePromises","map","length","Promise","all","push","__exports__","render","searchInput","handleSearch","query"],"sourceRoot":""}