{"version":3,"file":"js/2108.73926a9c.js","mappings":"6OAcA,MAAMA,GAAQ,UACRC,EAAOD,EAAME,OAAOD,KACpBE,GAAQ,QAAI,MACZC,GAAoB,QAAI,MACxBC,GAAU,SAAI,GAGdC,EAAmBC,GACP,WAAZA,EACK,wDAEO,mBAAZA,EACK,kEAEO,UAAZA,EACK,kEAEF,KAIHC,EAAoBC,UACxB,IACE,MAAMC,QAAiB,QACrB,6BAA6BT,aAE/B,GAAIS,EAASC,MAAQD,EAASC,KAAKC,OAAQ,CACzCT,EAAMU,MAAQH,EAASC,KAAK,GAG5B,MAAMG,QAAkBR,EAAgBH,EAAMU,MAAMN,SAChDO,IACFV,EAAkBS,MAAQC,EAAUC,QAExC,CACF,CAAE,MAAOC,GACPC,QAAQD,MAAM,gCAAiCA,EACjD,CAAE,QACAX,EAAQQ,OAAQ,CAClB,G,OAGF,QAAUL,G,2NClDV,MAAMU,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,G","sources":["webpack://hiddenkittens/./src/views/PostLogin/ItemDetails.vue","webpack://hiddenkittens/./src/views/PostLogin/ItemDetails.vue?3550"],"sourcesContent":["<template>\r\n  <div>\r\n    <div v-if=\"loading\">\r\n      <p>Loading place details...</p>\r\n    </div>\r\n      <component :is=\"selectedComponent\" />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from \"vue\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { getPlaces } from \"@/tihServices.js\"; // Import your API functions\r\n\r\nconst route = useRoute();\r\nconst uuid = route.params.uuid; // Get the uuid from the route params\r\nconst place = ref(null); // Store the place data\r\nconst selectedComponent = ref(null); // Will store the selected component\r\nconst loading = ref(true); // For loading state\r\n\r\n// Dynamically import the necessary component based on the dataset\r\nconst selectComponent = (dataset) => {\r\n  if (dataset === \"events\") {\r\n    return import(\"../../components/Details/EventDetails.vue\");\r\n  }\r\n  if (dataset === \"food_beverages\") {\r\n    return import(\"../../components/Details/RestaurantDetails.vue\");\r\n  }\r\n  if (dataset === \"shops\") {\r\n    return import(\"../../components/Details/ShopDetails.vue\");\r\n  }\r\n  return null; // Fallback if no match\r\n};\r\n\r\n// Fetch the place details\r\nconst fetchPlaceDetails = async () => {\r\n  try {\r\n    const response = await getPlaces(\r\n      `search/uuids?searchValues=${uuid}&limit=1`\r\n    );\r\n    if (response.data && response.data.length) {\r\n      place.value = response.data[0]; // Bind place data\r\n\r\n      // Dynamically import and set the appropriate component based on the dataset\r\n      const component = await selectComponent(place.value.dataset);\r\n      if (component) {\r\n        selectedComponent.value = component.default;\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching place details:\", error);\r\n  } finally {\r\n    loading.value = false;\r\n  }\r\n};\r\n\r\nonMounted(fetchPlaceDetails);\r\n</script>\r\n\r\n<style scoped>\r\n.component-container {\r\n  max-height: calc(100vh - 80px); /* Adjust based on your layout */\r\n  overflow-y: auto;\r\n  padding: 20px; /* Optional padding */\r\n  background-color: #f9f9f9; /* Optional background color */\r\n}\r\n\r\n</style>\r\n","import script from \"./ItemDetails.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ItemDetails.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ItemDetails.vue?vue&type=style&index=0&id=64f11e46&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-64f11e46\"]])\n\nexport default __exports__"],"names":["route","uuid","params","place","selectedComponent","loading","selectComponent","dataset","fetchPlaceDetails","async","response","data","length","value","component","default","error","console","__exports__"],"sourceRoot":""}