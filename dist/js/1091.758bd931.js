"use strict";(self["webpackChunkhiddenkittens"]=self["webpackChunkhiddenkittens"]||[]).push([[1091],{5293:(e,s,t)=>{t.d(s,{A:()=>D});var a=t(641),i=t(3751),o=t(33);const r={class:"container"},l={class:"display"},n={key:0,class:"modal-overlay"},c={class:"modal"},k={class:"modal-header"},u={key:1,class:"null-button"},d={class:"modal-body"},h={class:"item-details"},m={class:"list-info"},v={class:"list-name"},p={class:"item-count"},b=["checked","onChange"];function L(e,s,t,L,g,C){return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",l,[(0,a.Lk)("div",{id:"displayBookmarkListsIcon",class:"circle-icon",onClick:s[0]||(s[0]=(...e)=>C.toggleModal&&C.toggleModal(...e))},"+")]),(0,a.bF)(i.eB,{name:"fade"},{default:(0,a.k6)((()=>[g.isModalVisible?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",c,[(0,a.Lk)("div",k,[(0,a.Lk)("button",{class:"cancel-button",onClick:s[1]||(s[1]=(...e)=>C.toggleModal&&C.toggleModal(...e))},"Cancel"),s[4]||(s[4]=(0,a.Lk)("h3",{class:"modal-title"},"Save to List",-1)),g.bookmarkListNames.length>0?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"save-button",onClick:s[2]||(s[2]=(...e)=>C.saveChanges&&C.saveChanges(...e))},"Save")):(0,a.Q3)("",!0),0===g.bookmarkListNames.length?((0,a.uX)(),(0,a.CE)("button",u,"Save")):(0,a.Q3)("",!0)]),s[6]||(s[6]=(0,a.Lk)("div",{class:"divider-line"},null,-1)),(0,a.Lk)("div",d,[0===g.bookmarkListNames.length?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"create-list-button",onClick:s[3]||(s[3]=(...e)=>C.navigateToBookmark&&C.navigateToBookmark(...e))},"Create a Bookmark List")):((0,a.uX)(!0),(0,a.CE)(a.FK,{key:1},(0,a.pI)(g.bookmarkListNames,((e,t)=>((0,a.uX)(),(0,a.CE)("div",{key:t,class:"modal-item"},[(0,a.Lk)("div",h,[s[5]||(s[5]=(0,a.Lk)("i",{class:"pi pi-objects-column icon"},null,-1)),(0,a.Lk)("div",m,[(0,a.Lk)("span",v,(0,o.v_)(e),1),(0,a.Lk)("span",p,(0,o.v_)(C.bookmarkListCounts[t])+" items",1)])]),(0,a.Lk)("input",{type:"checkbox",class:"styled-checkbox",checked:g.bookmarkListChecks[t],onChange:e=>C.toggleCheckbox(t)},null,40,b)])))),128))])])])):(0,a.Q3)("",!0)])),_:1})])}var g=t(44),C=t(6430),y=t(7391);const f=(0,C.aU)(g.A),w=(0,y.xI)(g.A),E=", Description:",_={props:{itemUUID:{type:String,required:!0}},data(){return{bookmarkListDescriptions:[],bookmarkListNames:[],bookmarkListChecks:[],isModalVisible:!1,userID:"",userDocRef:"",initialChecks:[],bookmarkLists:{}}},async mounted(){await this.fetchBookmarkLists()},computed:{bookmarkListCounts(){return this.bookmarkListNames.map(((e,s)=>{const t=`${e}${E}${this.bookmarkListDescriptions[s]}`;return this.bookmarkLists[t]?.length||0}))}},methods:{toggleModal(){this.isModalVisible=!this.isModalVisible,this.isModalVisible?this.fetchBookmarkLists():this.bookmarkListChecks=[...this.initialChecks]},toggleCheckbox(e){this.bookmarkListChecks[e]=!this.bookmarkListChecks[e]},toggleCheckbox(e){this.bookmarkListChecks[e]=!this.bookmarkListChecks[e]},async fetchBookmarkLists(){try{await(0,y.hg)(w,(e=>{e?(this.userID=e.uid,this.userDocRef=(0,C.H9)(f,"Bookmarks",this.userID)):console.log("User is not authenticated")}));let e=await(0,C.x7)(this.userDocRef);if(e.exists()){const s=e.data().bookmarkLists;this.bookmarkLists=s,this.bookmarkListNames=Object.keys(s).sort().map((e=>e.split(E)[0])),this.bookmarkListDescriptions=Object.keys(s).sort().map((e=>e.split(E)[1])),this.bookmarkListChecks=this.bookmarkListNames.map(((e,t)=>{const a=`${e}${E}${this.bookmarkListDescriptions[t]}`;return s[a]?.includes(this.itemUUID)||!1})),this.initialChecks=[...this.bookmarkListChecks]}else console.log("No such document!")}catch(e){console.error("Error fetching document: ",e)}},navigateToBookmark(){this.$router.push("/bookmark")},async saveChanges(){let e=await(0,C.x7)(this.userDocRef),s=e.data().bookmarkLists||{};this.bookmarkListNames.forEach(((e,t)=>{const a=`${e}${E}${this.bookmarkListDescriptions[t]}`,i=this.bookmarkListChecks[t],o=this.initialChecks[t];i&&!o?(s[a]=s[a]||[],s[a].includes(this.itemUUID)||s[a].push(this.itemUUID)):!i&&o&&(s[a]=s[a].filter((e=>e!==this.itemUUID)))}));try{await(0,C.mZ)(this.userDocRef,{bookmarkLists:s}),this.$emit("added"),await this.fetchBookmarkLists(),this.initialChecks=[...this.bookmarkListChecks],this.isModalVisible=!1}catch(t){console.error("Error updating document: ",t),alert("Failed to save changes. Please try again.")}}}};var I=t(6262);const X=(0,I.A)(_,[["render",L],["__scopeId","data-v-55e7e77c"]]),D=X},45:(e,s,t)=>{t.d(s,{A:()=>b});var a=t(641),i=t(33),o=t(953),r=t(5220),l=t(1670);const n={key:0,class:"popup-overlay"},c={class:"popup-content"},k={key:0,class:"operating-hours-list"},u={class:"day"},d={class:"time"},h={key:1},m={__name:"OperatingHours",setup(e){const s=(0,r.lq)(),t=s.params.uuid,m=(0,o.KR)(!0),v=(0,o.KR)([]),p=(0,o.KR)([]),b=()=>{m.value=!1},L=e=>{const s={};return e.forEach((e=>{const t=g(e.day);s[t]||(s[t]=[]),s[t].push(`${e.openTime} - ${e.closeTime}`)})),Object.keys(s).map((e=>({day:e,times:s[e]})))},g=e=>e.charAt(0).toUpperCase()+e.slice(1).replace("_"," "),C=async()=>{try{const e=await(0,l.hz)(`search/uuids?searchValues=${t}&limit=1`);if(e.data&&e.data.length){const s=e.data[0];v.value=s.businessHour||[],p.value=L(v.value)}}catch(e){console.error("Error fetching place details:",e)}};return(0,a.sV)(C),(e,s)=>m.value?((0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",c,[(0,a.Lk)("span",{class:"close-icon",onClick:b},"×"),s[1]||(s[1]=(0,a.Lk)("h2",null,"Operating Hours",-1)),s[2]||(s[2]=(0,a.Lk)("div",{class:"divider-line"},null,-1)),v.value.length?((0,a.uX)(),(0,a.CE)("ul",k,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(p.value,((e,t)=>((0,a.uX)(),(0,a.CE)("li",{key:t},[(0,a.Lk)("div",u,[s[0]||(s[0]=(0,a.Lk)("i",{class:"pi pi-clock"},null,-1)),(0,a.Lk)("strong",null,(0,i.v_)(e.day)+":",1)]),(0,a.Lk)("div",d,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.times,(e=>((0,a.uX)(),(0,a.CE)("p",{key:e},(0,i.v_)(e),1)))),128))])])))),128))])):((0,a.uX)(),(0,a.CE)("p",h,"No operating hours available."))])])):(0,a.Q3)("",!0)}};var v=t(6262);const p=(0,v.A)(m,[["__scopeId","data-v-82c96cb0"]]),b=p},3907:(e,s,t)=>{t.d(s,{A:()=>D});var a=t(641),i=t(33),o=t(953),r=t(1670);const l={class:"star-rating"},n={__name:"StarRating",props:{modelValue:{type:Number,default:0},stars:{type:Number,default:5}},setup(e){return(s,t)=>((0,a.uX)(),(0,a.CE)("div",l,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.stars,(s=>((0,a.uX)(),(0,a.CE)("span",{key:s,class:(0,i.C4)({filled:s<=e.modelValue})}," ★ ",2)))),128))]))}};var c=t(6262);const k=(0,c.A)(n,[["__scopeId","data-v-15e86870"]]),u=k,d={class:"ratings-and-reviews"},h={class:"rating-section"},m={class:"rating-number-container"},v={class:"rating-number-1"},p={class:"rating-number"},b={class:"rating-number-2"},L={class:"review-list"},g={class:"review-header"},C=["href"],y={class:"review-time"},f={class:"review-text"},w={key:0},E=["onClick"],_=100,I={__name:"RatingsAndReviews",props:{rating:{type:Number,default:0},reviews:{type:Array,default:()=>[]},uniqueid:{type:String,default:""}},emits:["update:rating"],setup(e,{emit:s}){const t=e,l=s,n=(0,o.KR)([]),c=(0,o.KR)([]),k=async()=>{if(t.reviews.length>0)n.value=t.reviews;else try{const e=await(0,r.Jl)(t.uniqueid);e?(n.value=e,c.value=e.map((()=>!1))):console.error("No reviews found in googleReviews response")}catch(e){console.error("Error fetching reviews:",e)}},I=async()=>{try{const e=await(0,r.uX)(t.uniqueid);e?window.open(e,"_blank"):alert("Sorry! We had some troubles accessing their Google Business Profile.")}catch(e){console.error("Error fetching link:",e)}},X=e=>{l("update:rating",e)},D=e=>e.length>_?e.slice(0,_):e,N=e=>{c.value[e]=!c.value[e]},R=e=>{const s=new Date(e);return s.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})};return(0,a.sV)(k),(s,t)=>((0,a.uX)(),(0,a.CE)("div",d,[(0,a.Lk)("div",h,[(0,a.Lk)("div",m,[(0,a.Lk)("div",v,[(0,a.Lk)("p",p,(0,i.v_)(null!==e.rating&&void 0!==e.rating?e.rating.toFixed(1):"N/A"),1)]),(0,a.Lk)("div",b,[(0,a.bF)(u,{modelValue:e.rating,"onUpdate:modelValue":X},null,8,["modelValue"])])]),(0,a.Lk)("div",{class:"leave-review-container"},[(0,a.Lk)("button",{class:"leave-review-button",onClick:I},"Leave a Review")])]),(0,a.Lk)("div",L,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.value,((e,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s,class:"review-item"},[(0,a.Lk)("div",g,[(0,a.Lk)("div",null,[(0,a.Lk)("a",{href:e.authorURL,target:"_blank",class:"author-name"},(0,i.v_)(e.authorName),9,C),(0,a.Lk)("p",y,(0,i.v_)(R(e.time)),1)])]),(0,a.Lk)("p",f,[(0,a.eW)((0,i.v_)(c.value[s]?e.text:D(e.text))+" ",1),!c.value[s]&&e.text.length>_?((0,a.uX)(),(0,a.CE)("span",w,"...")):(0,a.Q3)("",!0),e.text.length>_?((0,a.uX)(),(0,a.CE)("span",{key:1,onClick:e=>N(s),class:"see-more"},(0,i.v_)(c.value[s]?"Show less":"See more"),9,E)):(0,a.Q3)("",!0)])])))),128))])]))}},X=(0,c.A)(I,[["__scopeId","data-v-e78aa840"]]),D=X},44:(e,s,t)=>{t.d(s,{A:()=>l});var a=t(223),i=t(7391);const o={apiKey:"AIzaSyBIvMKxanaRLaXbKNyMjvnrT51qiOXUGUQ",authDomain:"hiddenkittens-ce78f.firebaseapp.com",projectId:"hiddenkittens-ce78f",storageBucket:"hiddenkittens-ce78f.appspot.com",messagingSenderId:"217815978130",appId:"1:217815978130:web:c3060088a75f253434564b",measurementId:"G-QLL1TDRGGH"},r=(0,a.Wp)(o),l=((0,i.xI)(r),r)}}]);
//# sourceMappingURL=1091.758bd931.js.map