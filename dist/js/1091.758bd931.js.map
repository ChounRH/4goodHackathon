{"version":3,"file":"js/1091.758bd931.js","mappings":"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","sources":["webpack://hiddenkittens/./src/components/AddToBookmarkList.vue","webpack://hiddenkittens/./src/components/AddToBookmarkList.vue?cd88","webpack://hiddenkittens/./src/components/Details/OperatingHours.vue","webpack://hiddenkittens/./src/components/Details/OperatingHours.vue?2b11","webpack://hiddenkittens/./src/components/Details/StarRating.vue","webpack://hiddenkittens/./src/components/Details/RatingsAndReviews.vue","webpack://hiddenkittens/./src/components/Details/RatingsAndReviews.vue?96e6","webpack://hiddenkittens/./src/firebase.js"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"display\">\r\n      <div id=\"displayBookmarkListsIcon\" class=\"circle-icon\" @click=\"toggleModal\">+</div>\r\n    </div>\r\n\r\n    <!-- Modal Popup -->\r\n    <transition name=\"fade\">\r\n      <div v-if=\"isModalVisible\" class=\"modal-overlay\">\r\n        <div class=\"modal\">\r\n          <div class=\"modal-header\">\r\n            <button class=\"cancel-button\" @click=\"toggleModal\">Cancel</button>\r\n            <h3 class=\"modal-title\">Save to List</h3>\r\n            <button\r\n              v-if=\"bookmarkListNames.length > 0\"\r\n              class=\"save-button\"\r\n              @click=\"saveChanges\"\r\n            >Save</button>\r\n            <button\r\n              v-if=\"bookmarkListNames.length === 0\"\r\n              class=\"null-button\"\r\n            >Save</button>\r\n          </div>\r\n          <div class=\"divider-line\"></div>\r\n          <div class=\"modal-body\">\r\n            <template v-if=\"bookmarkListNames.length === 0\">\r\n              <button class=\"create-list-button\" @click=\"navigateToBookmark\">Create a Bookmark List</button>\r\n            </template>\r\n            <template v-else>\r\n              <div v-for=\"(name, index) in bookmarkListNames\" :key=\"index\" class=\"modal-item\">\r\n                <div class=\"item-details\">\r\n                  <i class=\"pi pi-objects-column icon\"></i>\r\n                  <div class=\"list-info\">\r\n                    <span class=\"list-name\">{{ name }}</span>\r\n                    <span class=\"item-count\">{{ bookmarkListCounts[index] }} items</span>\r\n                  </div>\r\n                </div>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  class=\"styled-checkbox\"\r\n                  :checked=\"bookmarkListChecks[index]\"\r\n                  @change=\"toggleCheckbox(index)\"\r\n                />\r\n              </div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebaseApp from \"../firebase.js\";\r\nimport { getFirestore, doc, getDoc, updateDoc } from \"firebase/firestore\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\n\r\nconst db = getFirestore(firebaseApp);\r\nconst auth = getAuth(firebaseApp);\r\nconst separator = \", Description:\";\r\n\r\nexport default {\r\n  props: {\r\n    itemUUID: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      bookmarkListDescriptions: [],\r\n      bookmarkListNames: [],\r\n      bookmarkListChecks: [],\r\n      isModalVisible: false,\r\n      userID: \"\",\r\n      userDocRef: \"\",\r\n      initialChecks: [],\r\n      bookmarkLists: {}, // Holds all bookmark lists with their items\r\n    };\r\n  },\r\n  async mounted() {\r\n    await this.fetchBookmarkLists();\r\n  },\r\n  computed: {\r\n    bookmarkListCounts() {\r\n      return this.bookmarkListNames.map((name, index) => {\r\n        const listKey = `${name}${separator}${this.bookmarkListDescriptions[index]}`;\r\n        return this.bookmarkLists[listKey]?.length || 0;\r\n      });\r\n    },\r\n  },\r\n  methods: {\r\n    // decide whether the modal is to be visiable or not\r\n    toggleModal() {\r\n    this.isModalVisible = !this.isModalVisible;\r\n    \r\n    if (this.isModalVisible) {\r\n      // Refresh the bookmark lists each time the modal is opened\r\n      this.fetchBookmarkLists();\r\n    } else {\r\n      // Reset changes if modal is closed without saving\r\n      this.bookmarkListChecks = [...this.initialChecks];\r\n    }\r\n  },\r\n  toggleCheckbox(index) {\r\n    this.bookmarkListChecks[index] = !this.bookmarkListChecks[index];\r\n  },\r\n  // toggle wehther to include the chckbox\r\n  toggleCheckbox(index) {\r\n    this.bookmarkListChecks[index] = !this.bookmarkListChecks[index];\r\n  },\r\n  // get all the bookmark lists you have\r\n  async fetchBookmarkLists() {\r\n    try {\r\n      await onAuthStateChanged(auth, (user) => {\r\n        if (user) {\r\n          this.userID = user.uid;\r\n          this.userDocRef = doc(db, \"Bookmarks\", this.userID);\r\n        } else {\r\n          console.log(\"User is not authenticated\");\r\n        }\r\n      });\r\n\r\n      let docSnap = await getDoc(this.userDocRef);\r\n\r\n      if (docSnap.exists()) {\r\n        const bookmarkLists = docSnap.data().bookmarkLists;\r\n        this.bookmarkLists = bookmarkLists;\r\n\r\n        this.bookmarkListNames = Object.keys(bookmarkLists)\r\n          .sort()\r\n          .map((key) => key.split(separator)[0]);\r\n          \r\n        this.bookmarkListDescriptions = Object.keys(bookmarkLists)\r\n          .sort()\r\n          .map((key) => key.split(separator)[1]);\r\n\r\n        this.bookmarkListChecks = this.bookmarkListNames.map((name, index) => {\r\n          const listKey = `${name}${separator}${this.bookmarkListDescriptions[index]}`;\r\n          return bookmarkLists[listKey]?.includes(this.itemUUID) || false;\r\n        });\r\n\r\n        this.initialChecks = [...this.bookmarkListChecks];\r\n      } else {\r\n        console.log(\"No such document!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching document: \", error);\r\n    }\r\n  },\r\n  // go to the bookmark page\r\n  navigateToBookmark() {\r\n    this.$router.push(\"/bookmark\");\r\n  },\r\n  // save the add bookmarks or remove bookamrks\r\n  async saveChanges() {\r\n    let docSnap = await getDoc(this.userDocRef);\r\n    let bookmarkLists = docSnap.data().bookmarkLists || {};\r\n\r\n    this.bookmarkListNames.forEach((name, index) => {\r\n      const listKey = `${name}${separator}${this.bookmarkListDescriptions[index]}`;\r\n      const isChecked = this.bookmarkListChecks[index];\r\n      const wasInitiallyChecked = this.initialChecks[index];\r\n\r\n      if (isChecked && !wasInitiallyChecked) {\r\n        // Add itemUUID if newly checked\r\n        bookmarkLists[listKey] = bookmarkLists[listKey] || [];\r\n        if (!bookmarkLists[listKey].includes(this.itemUUID)) {\r\n          bookmarkLists[listKey].push(this.itemUUID);\r\n        }\r\n      } else if (!isChecked && wasInitiallyChecked) {\r\n        // Remove itemUUID if unchecked\r\n        bookmarkLists[listKey] = bookmarkLists[listKey].filter(\r\n          (id) => id !== this.itemUUID\r\n        );\r\n      }\r\n    });\r\n\r\n      try {\r\n        await updateDoc(this.userDocRef, { bookmarkLists });\r\n        this.$emit(\"added\");\r\n\r\n        // Refresh the bookmark lists to reflect updated counts\r\n        await this.fetchBookmarkLists();\r\n\r\n        this.initialChecks = [...this.bookmarkListChecks]; // Update initial checks to new state\r\n        this.isModalVisible = false; // Close modal after saving\r\n      } catch (error) {\r\n        console.error(\"Error updating document: \", error);\r\n        alert(\"Failed to save changes. Please try again.\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.circle-icon {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 25px;\r\n  height: 25px;\r\n  border-radius: 50%;\r\n  background-color: #ccc;\r\n  border: 2px solid #999;\r\n  font-size: 1.5rem;\r\n  color: #333;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.circle-icon:hover {\r\n  background-color: #bbb;\r\n}\r\n\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.modal {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 400px; /* Fixed width */\r\n  height: 450px; /* Fixed height */\r\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\r\n  overflow-y: auto;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.modal-title {\r\n  color: #2c3f50;\r\n  margin: 0 auto;\r\n  font-weight: bold;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n.save-button {\r\n  background-color: #f8683b;\r\n  color: white;\r\n  padding: 5px 10px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n}\r\n\r\n.null-button {\r\n  background-color: #ffffff;\r\n  color: white;\r\n  padding: 5px 10px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n}\r\n\r\n.cancel-button {\r\n  background-color: #fff;\r\n  color: #565656;\r\n  padding: 5px 10px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n}\r\n\r\n.divider-line {\r\n  height: 1px;\r\n  background-color: #ccc;\r\n  margin-top: 5px;\r\n}\r\n\r\n.modal-body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.modal-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px 0;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.item-details {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.icon {\r\n  font-size: 1.2rem;\r\n  margin: 0 0 0 15px;\r\n  color: #333;\r\n}\r\n\r\n.list-info {\r\n  margin: 0 0 0 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: left;\r\n}\r\n\r\n.list-name {\r\n  font-size: 1rem;\r\n  color: #333;\r\n}\r\n\r\n.item-count {\r\n  font-size: 0.85rem;\r\n  color: #777;\r\n}\r\n\r\n.styled-checkbox {\r\n  width: 18px;\r\n  height: 18px;\r\n  border-radius: 50%;\r\n  appearance: none;\r\n  margin: 0 15px 0 0;\r\n  background-color: #f0f0f0;\r\n  border: 1px solid #ccc;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.styled-checkbox:checked {\r\n  background-color: #f8683b;\r\n  border: 1px solid #f8683b;\r\n}\r\n\r\n.styled-checkbox:checked::before {\r\n  content: \"✓\";\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  font-size: 0.8rem;\r\n  color: white;\r\n}\r\n\r\n/* Fade transition styles */\r\n.fade-enter-active,\r\n.fade-leave-active {\r\n  transition: opacity 0.3s ease;\r\n}\r\n\r\n.fade-enter,\r\n.fade-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.create-list-button {\r\n  background-color: #f8683b;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 8px 12px;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n  display: block;\r\n  margin: 0 auto;\r\n  margin-top: 150px;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.create-list-button:hover {\r\n  background-color: #fb5321;\r\n}\r\n</style>","import { render } from \"./AddToBookmarkList.vue?vue&type=template&id=55e7e77c&scoped=true\"\nimport script from \"./AddToBookmarkList.vue?vue&type=script&lang=js\"\nexport * from \"./AddToBookmarkList.vue?vue&type=script&lang=js\"\n\nimport \"./AddToBookmarkList.vue?vue&type=style&index=0&id=55e7e77c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-55e7e77c\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"popup-overlay\" v-if=\"showPopup\">\r\n      <div class=\"popup-content\">\r\n        <span class=\"close-icon\" @click=\"closePopup\">&times;</span>\r\n        <h2>Operating Hours</h2>\r\n        <div class=\"divider-line\"></div>\r\n        <ul class=\"operating-hours-list\" v-if=\"businessHours.length\">\r\n          <li v-for=\"(hour, index) in groupedBusinessHours\" :key=\"index\">\r\n            <div class=\"day\">\r\n              <i class=\"pi pi-clock\"></i>\r\n              <strong>{{ hour.day }}:</strong>\r\n            </div>\r\n            <div class=\"time\">\r\n              <p v-for=\"time in hour.times\" :key=\"time\">\r\n                {{ time }}\r\n              </p>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <p v-else>No operating hours available.</p>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup>\r\nimport { onMounted, ref } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { getPlaces } from '@/tihServices.js';\r\n\r\nconst route = useRoute();\r\nconst uuid = route.params.uuid;\r\nconst showPopup = ref(true);\r\nconst businessHours = ref([]);\r\nconst groupedBusinessHours = ref([]);\r\n\r\nconst closePopup = () => {\r\n  showPopup.value = false;\r\n};\r\n\r\n// Group business hours by day\r\nconst groupBusinessHours = (hours) => {\r\n  const grouped = {};\r\n  hours.forEach((hour) => {\r\n    const day = formatDay(hour.day);\r\n    if (!grouped[day]) {\r\n      grouped[day] = [];\r\n    }\r\n    grouped[day].push(`${hour.openTime} - ${hour.closeTime}`);\r\n  });\r\n  return Object.keys(grouped).map((day) => ({\r\n    day,\r\n    times: grouped[day],\r\n  }));\r\n};\r\n\r\nconst formatDay = (day) => {\r\n  return day.charAt(0).toUpperCase() + day.slice(1).replace('_', ' ');\r\n};\r\n\r\nconst fetchPlaceDetails = async () => {\r\n  try {\r\n    const response = await getPlaces(`search/uuids?searchValues=${uuid}&limit=1`);\r\n    if (response.data && response.data.length) {\r\n      const place = response.data[0];\r\n      businessHours.value = place.businessHour || [];\r\n      groupedBusinessHours.value = groupBusinessHours(businessHours.value);\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching place details:', error);\r\n  }\r\n};\r\n\r\nonMounted(fetchPlaceDetails);\r\n</script>\r\n  \r\n<style scoped>\r\n.popup-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.popup-content {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 450px;\r\n  position: relative;\r\n  text-align: left;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\nh2 {\r\n  margin-top: 0;\r\n  font-size: 1.8rem;\r\n  text-align: center;\r\n}\r\n\r\n.divider-line {\r\n  height: 1px;\r\n  background-color: #ccc;\r\n  margin: 10px 0;\r\n}\r\n\r\n.close-icon {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n  font-size: 30px;\r\n  cursor: pointer;\r\n}\r\n\r\n.operating-hours-list {\r\n  list-style: none;\r\n  padding: 5px 90px 0px 90px;\r\n}\r\n\r\n.operating-hours-list li {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.day {\r\n  font-weight: bold;\r\n}\r\n\r\n.time {\r\n  color: #666;\r\n}\r\n\r\n.operating-hours-list i {\r\n  margin-right: 8px;\r\n  color: #333;\r\n}\r\n</style>","import script from \"./OperatingHours.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OperatingHours.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OperatingHours.vue?vue&type=style&index=0&id=82c96cb0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-82c96cb0\"]])\n\nexport default __exports__","import script from \"./StarRating.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StarRating.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StarRating.vue?vue&type=style&index=0&id=15e86870&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-15e86870\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"ratings-and-reviews\">\r\n    <div class=\"rating-section\">\r\n      <div class=\"rating-number-container\">\r\n        <div class=\"rating-number-1\">\r\n          <p class=\"rating-number\">\r\n            {{ rating !== null && rating !== undefined ? rating.toFixed(1) : 'N/A' }}\r\n          </p>\r\n        </div>\r\n        <div class=\"rating-number-2\">\r\n          <StarRating :modelValue=\"rating\" @update:modelValue=\"updateRating\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"leave-review-container\">\r\n        <button class=\"leave-review-button\" @click=\"handleLeaveReview\">Leave a Review</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"review-list\">\r\n      \r\n      <div v-for=\"(review, index) in reviews\" :key=\"index\" class=\"review-item\">\r\n        <div class=\"review-header\">\r\n          <div>\r\n            <a :href=\"review.authorURL\" target=\"_blank\" class=\"author-name\">{{ review.authorName }}</a>\r\n            <p class=\"review-time\">{{ formatTime(review.time) }}</p>\r\n          </div>\r\n        </div>\r\n        <p class=\"review-text\">\r\n          {{ isExpanded[index] ? review.text : truncatedText(review.text) }}\r\n          <span v-if=\"!isExpanded[index] && review.text.length > maxTextLength\">...</span>\r\n          <span v-if=\"review.text.length > maxTextLength\" @click=\"toggleText(index)\" class=\"see-more\">\r\n            {{ isExpanded[index] ? 'Show less' : 'See more' }}\r\n          </span>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, defineEmits, onMounted, watch } from 'vue';\r\nimport { googleLink, googleReviews } from '@/tihServices.js';\r\nimport StarRating from './StarRating.vue';\r\n\r\n// Props to accept rating and reviews from parent\r\nconst props = defineProps({\r\n  rating: {\r\n    type: Number,\r\n    default: 0,\r\n  },\r\n  reviews: {\r\n    type: Array,\r\n    default: () => [],\r\n  },\r\n  uniqueid: {\r\n    type: String,\r\n    default: \"\",\r\n  },\r\n});\r\n\r\nconst emit = defineEmits(['update:rating']);\r\nconst reviews = ref([]);\r\nconst isExpanded = ref([]); // Control expanded state for each review\r\nconst maxTextLength = 100; // Maximum characters to display before truncation\r\n\r\n// Fetch reviews based on the availability of props.reviews\r\nconst fetchReviews = async () => {\r\n  if (props.reviews.length > 0) {\r\n    // Use reviews from props if available\r\n    reviews.value = props.reviews;\r\n  } else {\r\n    try {\r\n      // Fetch reviews using googleReviews if props.reviews is empty\r\n      const fetchedReviews = await googleReviews(props.uniqueid);\r\n      if (fetchedReviews) {\r\n        reviews.value = fetchedReviews;\r\n        isExpanded.value = fetchedReviews.map(() => false); // Initialize expansion states\r\n      } else {\r\n        console.error('No reviews found in googleReviews response');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching reviews:', error);\r\n    }\r\n  }\r\n};\r\n\r\n// Brings the user to the Google Business Profile\r\nconst handleLeaveReview = async () => {\r\n  try {\r\n    const url = await googleLink(props.uniqueid);\r\n    if (url) {\r\n      window.open(url, '_blank');\r\n    } else {\r\n      alert('Sorry! We had some troubles accessing their Google Business Profile.');\r\n    }\r\n  } catch (error) {\r\n    console.error('Error fetching link:', error);\r\n  }\r\n};\r\n\r\nconst updateRating = (newRating) => {\r\n  emit('update:rating', newRating);\r\n};\r\n\r\n// Truncate text if it's too long\r\nconst truncatedText = (text) => {\r\n  return text.length > maxTextLength ? text.slice(0, maxTextLength) : text;\r\n};\r\n\r\n// Toggle text expansion\r\nconst toggleText = (index) => {\r\n  isExpanded.value[index] = !isExpanded.value[index];\r\n};\r\n\r\n// Format time to a readable format\r\nconst formatTime = (time) => {\r\n  const date = new Date(time);\r\n  return date.toLocaleDateString('en-US', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  });\r\n};\r\n\r\n// Run fetchReviews on component mount\r\nonMounted(fetchReviews);\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.author-name {\r\n  display: flex;\r\n  font-weight: bold;\r\n  color: #007bff;\r\n  align-items: flex-start;\r\n  text-decoration: none;\r\n}\r\n\r\n.author-name:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.ratings-and-reviews {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.rating-section {\r\n  margin: 0 0 20px 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.rating-number {\r\n  margin: 0;\r\n  font-size: 2.5rem;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.review-list {\r\n  overflow-y: auto; /* Enable vertical scrolling */\r\n  max-height: calc(100vh - 515px); /* Set maximum height for scrollable area */\r\n  padding-bottom: 40%;\r\n}\r\n\r\n\r\n.review-item {\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 8px;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n.review-header {\r\n  display: flex;\r\n  align-items: flex-start;\r\n  gap: 10px;\r\n}\r\n\r\n.review-time {\r\n  font-size: 0.85rem;\r\n  color: #999;\r\n}\r\n\r\n.review-text {\r\n  margin-top: 10px;\r\n  text-align: left;\r\n  color: #333;\r\n}\r\n\r\n.see-more {\r\n  color: #999;\r\n  cursor: pointer;\r\n  font-weight: bold;\r\n  margin-left: 5px;\r\n}\r\n\r\n.divider-line {\r\n  height: 1px;\r\n  background-color: #ccc;\r\n  margin: 10px 0;\r\n}\r\n\r\n.divider-line-2 {\r\n  height: 1px;\r\n  background-color: #ccc;\r\n  margin: 10px 0;\r\n}\r\n\r\n.leave-review-button {\r\n  background-color: #b4b4b4;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n.leave-review-button:hover {\r\n  background-color: #606060;\r\n}\r\n\r\n.leave-review-container {\r\n  display: flex;\r\n  padding: 12px 0 0 0;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 60%;\r\n}\r\n\r\n.rating-number-container {\r\n  width: 40%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.rating-number-1 {\r\n  width: 100%;\r\n  height: 45px;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n}\r\n\r\n.rating-number-2 {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n</style>","import script from \"./RatingsAndReviews.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RatingsAndReviews.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RatingsAndReviews.vue?vue&type=style&index=0&id=e78aa840&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-e78aa840\"]])\n\nexport default __exports__","import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\n\r\n    const firebaseConfig = {\r\n        // The firebase if from our shared firebase account\r\n        apiKey: \"AIzaSyBIvMKxanaRLaXbKNyMjvnrT51qiOXUGUQ\",\r\n        authDomain: \"hiddenkittens-ce78f.firebaseapp.com\",\r\n        projectId: \"hiddenkittens-ce78f\",\r\n        storageBucket: \"hiddenkittens-ce78f.appspot.com\",\r\n        messagingSenderId: \"217815978130\",\r\n        appId: \"1:217815978130:web:c3060088a75f253434564b\",\r\n        measurementId: \"G-QLL1TDRGGH\"\r\n    };\r\n\r\n    const firebaseApp = initializeApp(firebaseConfig);\r\n    const auth = getAuth(firebaseApp);\r\n\r\n    export default firebaseApp;\r\n\r\n    \r\n"],"names":["class","id","toggleModal","name","bookmarkListNames","length","saveChanges","navigateToBookmark","index","key","bookmarkListCounts","type","checked","bookmarkListChecks","toggleCheckbox","db","firebase","auth","separator","props","itemUUID","String","required","data","bookmarkListDescriptions","isModalVisible","userID","userDocRef","initialChecks","bookmarkLists","mounted","this","fetchBookmarkLists","computed","map","listKey","methods","user","uid","console","log","docSnap","exists","Object","keys","sort","split","includes","error","$router","push","forEach","isChecked","wasInitiallyChecked","filter","$emit","alert","__exports__","render","route","uuid","params","showPopup","businessHours","groupedBusinessHours","closePopup","value","groupBusinessHours","hours","grouped","hour","day","formatDay","openTime","closeTime","times","charAt","toUpperCase","slice","replace","fetchPlaceDetails","async","response","place","businessHour","maxTextLength","emit","reviews","isExpanded","fetchReviews","fetchedReviews","uniqueid","handleLeaveReview","url","window","open","updateRating","newRating","truncatedText","text","toggleText","formatTime","time","date","Date","toLocaleDateString","year","month","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp"],"sourceRoot":""}