{"version":3,"file":"js/7291.ab7fa9f7.js","mappings":"8NAEOA,MAAM,c,GACJA,MAAM,uB,GAEJA,MAAM,kB,GAMJA,MAAM,2B,EAXnB,Y,GAyBiBA,MAAM,a,GAKNA,MAAM,qB,EA9BvB,Y,GAAA,MAgC0DA,MAAM,iB,EAhChE,Y,EAAA,Y,GAAA,MA+CQA,MAAM,6B,GAGDA,MAAM,yB,GACJA,MAAM,8B,GAnDrB,MA8DoCA,MAAM,Y,GAMvBA,MAAM,kC,GAOJA,MAAM,kB,GAENA,MAAM,2B,GASZA,MAAM,+B,GAMRA,MAAM,mB,GA5FnB,MA0GWA,MAAM,wB,GA1GjB,MA4IsCA,MAAM,iB,GACjCA,MAAM,S,GACJA,MAAM,gB,GAMNA,MAAM,c,GAoBFA,MAAM,c,GAxKvB,MA6KgCA,MAAM,c,GAmBrBA,MAAM,gB,EAhMvB,a,2IAEE,QA8MM,MA9MN,EA8MM,EA7MJ,QAoHM,MApHN,EAoHM,EAlHJ,QAsCM,MAtCN,EAsCM,C,eArCJ,QAAwB,UAApB,mBAAe,KACnB,QAES,UAFDA,MAAM,oBAAqB,QAAK,oBAAE,EAAAC,wBAAA,EAAAA,0BAAA,KAAwB,qB,eAGlE,QAAkC,OAA7BD,MAAM,kBAAgB,WAC3B,QA+BM,MA/BN,EA+BM,G,aA7BJ,QA4BM,WAzChB,QAcgC,EAAAE,YAAbC,K,WADT,QA4BM,OA1BHC,IAAKD,EAAUE,GACfL,OAhBb,S,gCAgBuF,oBAAkB,KAAO,EAAU,MAI7G,QAAK,GAAE,EAAAM,cAAcH,I,gBAEtB,QAEM,OAFDH,MAAM,kBAAgB,EACzB,QAAqC,KAAlCA,MAAM,4B,KAEX,QAIM,MAJN,EAIM,EAHJ,QAA6B,mBAAtBG,EAAUI,MAAI,IACrB,QAAoD,SAAjD,aAAS,QAAGJ,EAAUK,SAASC,QAAU,GAAJ,IACxC,QAA0D,SAAvD,gBAAY,QAAGN,EAAUO,YAAYD,QAAU,GAAJ,MAEhD,QAUM,MAVN,EAUM,EATJ,QAA6D,UAApD,SA/BvB,YA+BmC,EAAAE,eAAeR,EAAUE,KAAE,WAAG,IAAC,EA/BlE,GAgCyB,EAAAO,iBAAmBT,EAAUE,K,WAAxC,QAOM,MAPN,EAOM,EANJ,QAES,UAFA,QAAK,GAAE,EAAAQ,sBAAsBV,I,gBACpC,QAA+B,KAA5BH,MAAM,mBAAiB,UAlC5C,QAkCiD,sB,EAlCjD,IAoCgB,QAES,UAFA,QAAK,GAAE,EAAAc,eAAeX,EAAUE,K,gBACvC,QAA8B,KAA3BL,MAAM,kBAAgB,UArC3C,QAqCgD,uB,EArChD,yB,GAAA,M,UAgDc,EAAAE,WAAWO,OAAS,GAAK,EAAAM,mB,WAFjC,QAyDM,MAzDN,EAyDM,EArDJ,QAyCM,MAzCN,EAyCM,EAxCJ,QAkCM,MAlCN,EAkCM,EAhCJ,QAMS,UALPf,MAAM,eACL,YAAS,eAAE,EAAAgB,aAAc,GACzB,aAAU,eAAE,EAAAA,aAAc,K,QAExB,EAAAD,iBAAiBR,MAAI,IAIf,EAAW,c,WAAtB,QAsBM,MAtBN,EAsBM,C,eArBJ,QAGM,OAHDP,MAAM,kBAAgB,EACzB,QAAqC,KAAlCA,MAAM,2BACT,QAAkB,SAAf,iB,mBAEL,QAAkC,OAA7BA,MAAM,kBAAgB,WAC3B,QAeM,MAfN,EAeM,C,eAdJ,QAKM,OALDA,MAAM,iBAAe,EACxB,QAAY,SAAT,UACH,QAAmB,SAAhB,iBACH,QAAsB,SAAnB,oBACH,QAAmB,SAAhB,kB,KAEL,QAOM,MAPN,EAOM,EANJ,QAAkC,kBAA5B,EAAAe,iBAAiBR,MAAI,IAC3B,QAEI,IAFJ,GAEI,QADC,EAAAQ,iBAAiBE,aAAW,IAEjC,QAA+C,kBAAzC,EAAAC,iBAAiB,EAAAH,mBAAgB,IACvC,QAAiD,kBAA3C,EAAAI,mBAAmB,EAAAJ,mBAAgB,WAjF3D,kBAsFU,QAIM,MAJN,EAIM,EAHJ,QAES,UAFDf,MAAM,mBAAoB,QAAK,oBAAE,EAAAoB,qBAAA,EAAAA,uBAAA,KAAqB,yBAKlE,QAUM,MAVN,EAUM,EARJ,QAOE,GANCC,OAAQ,EAAAC,eACT,eAAa,QACZC,MAAM,EACN,gBAAe,CAAC,QAAS,QAC1B,uBAAqB,OACpB,aAAa,EAAAC,kB,oDAMpB,QAYM,MAZN,EAYM,gBAXJ,QAUM,OAVDxB,MAAM,yBAAuB,EAChC,QAIE,OAHAyB,IAAA,EACAC,IAAI,aACJ1B,MAAM,sBAER,QAGI,KAHDA,MAAM,qBAAoB,uF,SAU3B,EAAoB,uB,WAD5B,QAME,GAhIN,MA4HO2B,oBAAqB,EAAAA,oBACrBzB,WAAY,EAAAA,WACZ,QAAO,EAAA0B,WACP,eAAe,EAAAC,c,0EA/HtB,eAoIY,EAAAC,sBAAwB,EAAAC,wB,WADhC,QAME,GAzIN,MAqIOC,iBAAkB,EAAAA,iBAClBC,iBAAkB,EAAAA,iBAClB,QAAO,EAAAL,WACP,gBAAgB,EAAAM,e,8EAxIvB,eA4Ie,EAAqB,wB,WAAhC,QAmEM,MAnEN,EAmEM,EAlEJ,QAiEM,MAjEN,EAiEM,EAhEJ,QAGM,MAHN,EAGM,EAFJ,QAAqE,UAA7DlC,MAAM,gBAAiB,QAAK,oBAAE,EAAAmC,gBAAA,EAAAA,kBAAA,KAAgB,U,eACtD,QAA0C,MAAtCnC,MAAM,eAAc,iBAAa,M,eAEvC,QAAgC,OAA3BA,MAAM,gBAAc,WAEzB,QAyDM,MAzDN,EAyDM,EAxDJ,QAuDO,QAvDA,SAAM,eArJvB,iBAqJiC,EAAAoC,gBAAA,EAAAA,kBAAA,IAAc,e,gBACnC,QAAwC,SAAjCC,IAAI,iBAAgB,SAAK,K,SAChC,QAME,SA7Jd,qCAwJuB,EAAAC,aAAkB,SAC3BC,KAAK,OACLlC,GAAG,gBACHmC,YAAY,QACZC,SAAA,I,iBAJS,EAAAH,aAAaI,S,eAOxB,QAAsC,SAA/BL,IAAI,gBAAe,QAAI,K,SAC9B,QAKE,SArKd,qCAiKuB,EAAgB,oBACzBE,KAAK,OACLlC,GAAG,eACHoC,SAAA,I,iBAHS,EAAAE,oB,eAMX,QAAmC,SAA5BN,IAAI,aAAY,QAAI,KAC3B,QAIM,MAJN,EAIM,E,SAHJ,QAA8D,SAzK5E,qCAyK8B,EAAqB,yBAAEE,KAAK,OAAOE,SAAA,I,iBAAnC,EAAAG,yB,eAChB,QAAyB,KAAtB5C,MAAM,YAAW,KAAC,K,SACrB,QAA4D,SA3K1E,qCA2K8B,EAAmB,uBAAEuC,KAAK,OAAOE,SAAA,I,iBAAjC,EAAAI,yBAET,EAAS,Y,WAAlB,QAA0D,IAA1D,GAA0D,QAAhB,EAAAC,WAAS,KA7K/D,e,eA+KY,QAAsC,SAA/BT,IAAI,YAAW,YAAQ,K,SAC9B,QAKE,SArLd,qCAiLuB,EAAAC,aAAqB,YAC9BC,KAAK,OACLlC,GAAG,WACHmC,YAAY,kB,iBAHH,EAAAF,aAAaS,Y,eAMxB,QACoC,SAD7BV,IAAI,cAAcG,YAAY,eAClC,eAAW,K,SAEd,QAIY,YA9LxB,uCA2LuB,EAAAF,aAAwB,eACjCjC,GAAG,cACHmC,YAAY,e,iBAFH,EAAAF,aAAarB,gBAKxB,QAWM,MAXN,EAWM,EAVJ,QAES,UAFDsB,KAAK,SAASvC,MAAM,cAAegD,WAAY,EAAAF,WAAW,SAElE,EAnMd,IAoMc,QAMS,UALPP,KAAK,SACLvC,MAAM,gBACL,QAAK,sBAAE,EAAAiD,gBAAA,EAAAA,kBAAA,KACT,wB,YAxMf,gB,CCAA,IAAIC,EAAYC,OAAOC,eACnBC,EAAkB,CAACC,EAAKlD,EAAKmD,IAAUnD,KAAOkD,EAAMJ,EAAUI,EAAKlD,EAAK,CAAEoD,YAAY,EAAMC,cAAc,EAAMC,UAAU,EAAMH,UAAWD,EAAIlD,GAAOmD,EACtJI,EAAgB,CAACL,EAAKlD,EAAKmD,IAAUF,EAAgBC,EAAoB,kBAARlD,EAAmBA,EAAM,GAAKA,EAAKmD;;;;;KAOxG,MAAMK,EAAuC,CAACC,EAAMC,EAAMC,KACxD,MAAMC,EAAIH,EAAKC,GACf,OAAIE,EACkB,oBAANA,EAAmBA,IAAMC,QAAQC,QAAQF,GAElD,IAAIC,SAAQ,CAACE,EAAGC,MACM,oBAAnBC,eAAgCA,eAAiBC,YACvDF,EAAOG,KACL,KACA,IAAIC,MACF,oCAAsCV,GAAQA,EAAKW,MAAM,KAAKhE,SAAWsD,EAAO,kEAAoE,MAGzJ,GACD,EAEJ,IAAIW,EAAKC,EAAWC,EAAQ,EACxBC,EAAc,CAAC,EACfC,EAAc,CAAC,EACnB,MAAMC,EACJ,WAAAC,CAAYC,EAAOC,GAAe,GAChCvB,EAAcwB,KAAM,QAAS,CAAC,GAO9BxB,EAAcwB,KAAM,iBAAkBC,GAA2B,GAAlBA,EAAKC,WAAkBD,EAAKE,eAC3E,EAAOH,KACPA,KAAKI,OAASN,EACTC,IAAgBM,MAASA,KAAKC,UAAUC,SAASP,KAAKQ,qBAC7D,CACA,mBAAAA,GACEH,KAAKC,UAAUC,QAAU,SAASE,GAChC,OAAO,EAAKF,QAAQP,KAAMS,EAC5B,EACAJ,KAAKC,UAAUI,aAAe,SAASD,GACrC,OAAO,EAAKC,aAAaV,KAAMS,EACjC,EACAJ,KAAKC,UAAUK,SAAW,SAASC,GACjC,OAAO,EAAKD,SAASX,KAAMY,EAC7B,EACAP,KAAKC,UAAUO,cAAgB,SAASD,GACtC,OAAO,EAAKC,cAAcb,KAAMY,EAClC,EACAP,KAAKC,UAAUQ,WAAa,SAASC,GACnC,OAAO,EAAKD,WAAWd,KAAMe,EAC/B,EACAV,KAAKC,UAAUU,gBAAkB,SAASD,GACxC,OAAO,EAAKC,gBAAgBhB,KAAMe,EACpC,EACAV,KAAKC,UAAUW,QAAU,WACvB,OAAO,EAAKA,QAAQjB,KACtB,EACAK,KAAKC,UAAUY,QAAU,WACvB,OAAO,EAAKA,QAAQlB,KACtB,EACAK,KAAKC,UAAUa,WAAa,WAC1B,OAAO,EAAKA,WAAWnB,KACzB,EACAK,KAAKC,UAAUc,OAAS,SAASA,EAAS,cACxC,OAAO,EAAKC,WAAWrB,KAAMoB,EAC/B,EACAf,KAAKC,UAAUgB,WAAa,SAASF,EAAS,SAC5C,OAAO,EAAKE,WAAWtB,KAAMoB,EAC/B,CACF,CACA,gBAAAG,UACSlB,KAAKC,UAAUC,eACfF,KAAKC,UAAUI,oBACfL,KAAKC,UAAUK,gBACfN,KAAKC,UAAUO,qBACfR,KAAKC,UAAUQ,kBACfT,KAAKC,UAAUU,uBACfX,KAAKC,UAAUW,eACfZ,KAAKC,UAAUY,eACfb,KAAKC,UAAUa,kBACfd,KAAKC,UAAUc,cACff,KAAKC,UAAUgB,UACxB,CACA,WAAAE,CAAY1B,GACVE,KAAKI,OAASN,CAChB,CAGA,eAAA2B,GAME,OALIjC,KAAc,IAAqBa,MAAQqB,YAC7CnC,EAAsB,IAAIc,KAC1Bb,EAAYD,EAAImC,UAChBjC,EAAS,GAAGF,EAAIoC,iBAAiBpC,EAAIqC,cAAcrC,EAAImC,aAElDjC,CACT,CAGA,OAAAc,CAAQN,EAAMQ,GACZ,MAAMoB,EAAI,IAAIxB,KAAKJ,EAAK6B,WAExB,OADAD,EAAEE,QAAQF,EAAEH,UAAYjB,GACjBoB,CACT,CACA,YAAAnB,CAAaT,EAAMQ,GACjB,MAAMoB,EAAI,IAAIxB,KAAKJ,EAAK6B,WAExB,OADAD,EAAEE,QAAQF,EAAEH,UAAYjB,GACjBoB,CACT,CACA,QAAAlB,CAASV,EAAMW,GACb,MAAMiB,EAAI,IAAIxB,KAAKJ,EAAK6B,WAExB,OADAD,EAAEG,SAASH,EAAE3B,WAAaU,GACnBiB,CACT,CACA,aAAAhB,CAAcZ,EAAMW,GAClB,MAAMiB,EAAI,IAAIxB,KAAKJ,EAAK6B,WAExB,OADAD,EAAEG,SAASH,EAAE3B,WAAaU,GACnBiB,CACT,CACA,UAAAf,CAAWb,EAAMc,GACf,MAAMc,EAAI,IAAIxB,KAAKJ,EAAK6B,WAExB,OADAD,EAAEI,WAAWJ,EAAE1B,aAAeY,GACvBc,CACT,CACA,eAAAb,CAAgBf,EAAMc,GACpB,MAAMc,EAAI,IAAIxB,KAAKJ,EAAK6B,WAExB,OADAD,EAAEI,WAAWJ,EAAE1B,aAAeY,GACvBc,CACT,CACA,OAAAZ,CAAQhB,GACN,MAAM4B,EAAI,IAAIxB,KAAKA,KAAK6B,IAAIjC,EAAK0B,cAAe1B,EAAK2B,WAAY3B,EAAKyB,YAChES,EAASN,EAAEO,aAAe,EAChCP,EAAEQ,WAAWR,EAAES,aAAe,EAAIH,GAClC,MAAMI,EAAY,IAAIlC,KAAKA,KAAK6B,IAAIL,EAAEW,iBAAkB,EAAG,IAC3D,OAAOC,KAAKC,OAAOb,EAAIU,GAAa,MAAQ,GAAK,EACnD,CACA,OAAArB,CAAQjB,GACN,MAAO,GAAGA,EAAK0B,iBAAiB1B,EAAK2B,cAAc3B,EAAKyB,cAAgB1B,KAAKyB,iBAC/E,CACA,UAAAN,CAAWlB,GACT,MAAM0C,EAAO1C,EAAK0B,cAClB,QAASgB,EAAO,MAAQA,EAAO,OAASA,EAAO,EACjD,CAEA,yBAAAC,CAA0B3C,EAAO,KAAM4C,GACrC,MAAMC,EAAqB7C,GAAQ,IAAII,KAAKJ,EAAK6B,YAA8B,IAAIzB,KAC7E0C,EAAcF,EAAqB,EAAI,EAE7C,OADAC,EAAmBf,QAAQe,EAAmBpB,WAAaoB,EAAmBE,SAAWD,GAAe,GACjGD,CACT,CAOA,YAAAG,CAAahD,GACX,OAAIA,aAAgBI,KAAaJ,GACb,KAAhBA,EAAK3E,SAAe2E,GAAQ,UACzB,IAAII,KAAKJ,EAAKiD,QAAQ,KAAM,MACrC,CASA,SAAAC,CAAUC,EAAOC,GACM,kBAAVD,IAAoBA,EAAQA,EAAMF,QAAQ,KAAM,MACxC,kBAARG,IAAkBA,EAAMA,EAAIH,QAAQ,KAAM,MACrDE,EAAQ,IAAI/C,KAAK+C,GAAOpB,SAAS,EAAG,EAAG,EAAG,GAC1CqB,EAAM,IAAIhD,KAAKgD,GAAKrB,SAAS,EAAG,EAAG,EAAG,GACtC,MAAMsB,EAA6F,IAA3E,IAAIjD,KAAKgD,GAAKE,oBAAsB,IAAIlD,KAAK+C,GAAOG,qBAA4B,IACxG,OAAOd,KAAKC,MAAMW,EAAMD,EAAQE,GAAkB,MACpD,CAOA,mBAAAE,CAAoBC,EAAOC,EAAOC,GAChC,OAAOlB,KAAKmB,IAAIH,EAAMI,UAAYH,EAAMG,YAAyB,GAAXF,EAAgB,GACxE,CAcA,UAAAtC,CAAWpB,EAAMmB,EAAS,aAActB,EAAQ,MAG9C,GAFKA,IAAOA,EAAQE,KAAKI,QACpBgB,IAAQA,EAAS,cACP,eAAXA,EAAyB,OAAOpB,KAAK8D,eAAe7D,GACxDP,EAAc,CAAC,EACfC,EAAc,CAAC,EACf,MAAMoE,EAAU,CACdC,KAAM,IAAMhE,KAAKiE,mBAAmBhE,EAAMH,GAAOkE,KACjDE,GAAI,IAAMlE,KAAKiE,mBAAmBhE,EAAMH,GAAOoE,KAC/CC,EAAG,IAAMnE,KAAKiE,mBAAmBhE,EAAMH,GAAOqE,EAC9CC,GAAI,IAAMpE,KAAKiE,mBAAmBhE,EAAMH,GAAOsE,KAC/CC,IAAK,IAAMrE,KAAKiE,mBAAmBhE,EAAMH,GAAOuE,MAChDC,KAAM,IAAMtE,KAAKiE,mBAAmBhE,EAAMH,GAAOwE,OACjDC,MAAO,IAAMvE,KAAKiE,mBAAmBhE,EAAMH,GAAOyE,QAClDC,EAAG,IAAMxE,KAAKiE,mBAAmBhE,EAAMH,GAAO0E,EAC9CC,GAAI,IAAMzE,KAAKiE,mBAAmBhE,EAAMH,GAAO2E,KAC/CC,EAAG,IAAM1E,KAAKiE,mBAAmBhE,EAAMH,GAAO4E,IAC9C7C,EAAG,IAAM7B,KAAKiE,mBAAmBhE,EAAMH,GAAO+B,EAC9C8C,GAAI,IAAM3E,KAAKiE,mBAAmBhE,EAAMH,GAAO6E,KAC/CC,IAAK,IAAM5E,KAAKiE,mBAAmBhE,EAAMH,GAAO8E,MAChDC,KAAM,IAAM7E,KAAKiE,mBAAmBhE,EAAMH,GAAO+E,OACjDC,GAAI,IAAM9E,KAAK+E,mBAAmB9E,EAAMH,GAAOgF,GAC/CE,EAAG,IAAMhF,KAAK+E,mBAAmB9E,EAAMH,GAAOkF,EAC9CC,GAAI,IAAMjF,KAAK+E,mBAAmB9E,EAAMH,GAAOmF,GAC/CC,EAAG,IAAMlF,KAAK+E,mBAAmB9E,EAAMH,GAAOoF,EAC9CC,GAAI,IAAMnF,KAAK+E,mBAAmB9E,EAAMH,GAAOqF,GAC/CC,GAAI,IAAMpF,KAAK+E,mBAAmB9E,EAAMH,GAAOsF,GAC/CC,GAAI,IAAMrF,KAAK+E,mBAAmB9E,EAAMH,GAAOuF,GAC/CC,EAAG,IAAMtF,KAAK+E,mBAAmB9E,EAAMH,GAAOwF,GAEhD,OAAOlE,EAAO8B,QAAQ,8BAA8B,CAACoC,EAAGC,KACtD,MAAMC,EAASzB,EAAQwB,EAASrC,QAAQ,SAAU,KAClD,YAAkB,IAAXsC,EAAoBA,IAAWD,CAAQ,GAElD,CAEA,cAAAzB,CAAe7D,GACb,MAAMqF,EAAIrF,EAAK2B,WAAa,EACtBC,EAAI5B,EAAKyB,UACf,MAAO,GAAGzB,EAAK0B,iBAAiB2D,EAAI,GAAK,IAAM,KAAKA,KAAKzD,EAAI,GAAK,IAAM,KAAKA,GAC/E,CAYA,UAAAP,CAAWrB,EAAMmB,EAAS,QAAStB,EAAQ,KAAM2F,GAAQ,GACvD,IAAIC,GAAc,EAClB,GAAID,EAAO,CACT,MAAOP,EAAGI,EAAGK,GAAK,CAAC1F,EAAKC,WAAYD,EAAKE,aAAcF,EAAK2F,cACxDV,EAAII,EAAIK,IAAM,MAAcD,GAAc,EAChD,CACA,GAAIzF,aAAgBI,MAAmB,UAAXe,EAAoB,OAAOsE,EAAc,QAAU1F,KAAK6F,eAAe5F,GACnGN,EAAc,CAAC,EACVG,IAAOA,EAAQE,KAAKI,QACzB,MAAM0F,EAAU9F,KAAK+E,mBAAmB9E,EAAMH,GACxCiG,EAAY3E,EAAO8B,QAAQ,8BAA8B,CAACoC,EAAGC,KACjE,MAAMC,EAASM,EAAQP,EAASrC,QAAQ,SAAU,KAClD,YAAkB,IAAXsC,EAAoBA,EAASD,CAAQ,IAE9C,OAAOG,EAAcK,EAAU7C,QAAQ,QAAS,SAAW6C,CAC7D,CAOA,cAAAF,CAAe5F,GACb,MAAMiF,EAAIjF,EAAKC,WACToF,EAAIrF,EAAKE,aACf,MAAO,IAAI+E,EAAI,GAAK,IAAM,IAAMA,MAAMI,EAAI,GAAK,IAAM,IAAMA,GAC7D,CACA,IAAAU,CAAKnE,GACH,GAAIA,EAAI,GAAKA,EAAI,GAAI,MAAO,KAC5B,OAAQA,EAAI,IACV,KAAK,EACH,MAAO,KACT,KAAK,EACH,MAAO,KACT,KAAK,EACH,MAAO,KACT,QACE,MAAO,KAEb,CACA,kBAAAoC,CAAmBhE,EAAMH,GACvB,GAAIJ,EAAY8E,EAAG,OAAO9E,EAC1B,MAAMsE,EAAO/D,EAAK0B,cACZwC,EAAIlE,EAAK2B,WAAa,EACtB4C,EAAIvE,EAAKyB,UACTuE,EAAMhG,EAAK+C,SACXkD,GAAaD,EAAM,EAAI,GAAK,EAmClC,OAlCAvG,EAAc,CAEZsE,OAEAE,GAAI,IAAMF,EAAKmC,WAAWC,UAAU,GAGpCjC,IAEAC,GAAI,KAAOD,EAAI,GAAK,IAAM,IAAMA,EAEhCE,IAAK,IAAMvE,EAAMuG,OAAOlC,EAAI,GAAGiC,UAAU,EAAG,GAE5C9B,KAAM,IAAMxE,EAAMuG,OAAOlC,EAAI,GAE7BI,MAAO,KAAOzE,EAAMwG,gBAAkBxG,EAAMuG,QAAQlC,EAAI,GAGxDK,IAEAC,GAAI,KAAOD,EAAI,GAAK,IAAM,IAAMA,EAEhCE,EAAG,IAAM1E,KAAKgG,KAAKxB,GAGnB3C,EAAGqE,EAAY,EAEfvB,GAAI,IAAM7E,EAAMyG,SAASL,GAAW,GAEpCtB,IAAK,IAAM9E,EAAMyG,SAASL,GAAWM,OAAO,EAAG,GAE/C3B,KAAM,IAAM/E,EAAMyG,SAASL,IAGtBxG,CACT,CACA,kBAAAqF,CAAmB9E,EAAMH,GACvB,GAAIH,EAAYwF,GAAI,OAAOxF,EAC3B,IAAIqF,EAAGM,EACHrF,aAAgBI,MAClB2E,EAAI/E,EAAKC,WACToF,EAAIrF,EAAKE,eAET6E,EAAIvC,KAAKgE,MAAMxG,EAAO,IACtBqF,EAAI7C,KAAKgE,MAAMxG,EAAO,KAExB,MAAMiF,EAAIF,EAAI,GAAKA,EAAI,GAAK,GACtBG,GAAMrF,GAAS,CAAEqF,GAAI,KAAMuB,GAAI,OAAc,KAAN1B,GAAYA,EAAI,GAAK,KAAO,MAWzE,OAVArF,EAAc,CACZqF,IACAE,IACAJ,IAAKE,EAAI,GAAK,IAAM,IAAMA,EAC1BC,IAAKC,EAAI,GAAK,IAAM,IAAMA,EAC1BC,KACAC,GAAID,EAAGwB,cACPrB,IACAD,IAAKC,EAAI,GAAK,IAAM,IAAMA,GAErB3F,CACT,EAGF,MAAMiH,EAAkB,KACxB,MAAMC,EACJ,WAAAhH,CAAYiH,GACVtI,EAAcwB,KAAM,UAAW,MAQ/BxB,EAAcwB,KAAM,cAAc,CAAC+G,GAAQ,EAAO9G,EAAMX,KACtDU,KAAKgH,QAAQC,MAAM,aAAc3H,EAAQ,CAAEW,OAAMX,SAAUW,GACvDD,KAAKgH,QAAQE,iBAAmBH,EAAO/G,KAAKgH,QAAQG,uBAC/CnH,KAAKgH,QAAQI,oBAAsB,iBAAkBC,SAC5DrH,KAAKgH,QAAQM,UAAUC,YAAYC,OACnCrI,YAAW,IAAMa,KAAKgH,QAAQM,UAAUC,YAAYC,KAAO,GAAGxH,KAAKgH,QAAQM,UAAUC,YAAYE,SAC7FzH,KAAKgH,QAAQM,UAAUC,YAAYC,MAAQ,IAC7CxH,KAAKgH,QAAQM,UAAUC,YAAYC,KAAO,EAC1CxH,KAAKgH,QAAQG,uBACbnH,KAAKgH,QAAQC,MAAM,gBAAiB3H,EAAQ,CAAEW,OAAMX,SAAUW,IAElE,IASFzB,EAAcwB,KAAM,qBAAqB,CAACC,EAAMX,KAC9CU,KAAKgH,QAAQC,MAAM,sBAAuB3H,EAAQ,CAAEW,OAAMX,SAAUW,GACpED,KAAKgH,QAAQG,sBAAsB,IASrC3I,EAAcwB,KAAM,eAAgB0H,IAClC,MAAM,KAAEC,EAAI,IAAEC,GAAQ5H,KAAKgH,QAAQa,QAAQC,yBACrC,QAAEC,EAAO,QAAEC,GAAY,iBAAkBX,QAAUK,EAAEO,QAAUP,EAAEO,QAAQ,GAAKP,EACpF,MAAO,CAAEQ,EAAGH,EAAUJ,EAAMQ,EAAGH,EAAUJ,EAAK,IAShDpJ,EAAcwB,KAAM,mBAAoB0H,IACtC,IAAI3G,EAAU,EACVqH,EAAe,CAAEF,EAAG,EAAGC,EAAG,GAC9B,MAAM,SAAExE,EAAQ,eAAE0E,EAAc,SAAEC,GAAatI,KAAKgH,QAAQuB,OAM5D,MALiB,kBAANb,EAAgB3G,EAAU2G,EACf,kBAANA,IACdU,EAAepI,KAAKwI,YAAYd,GAChC3G,EAAU0B,KAAKgD,MAAM2C,EAAaD,EAAIxE,EAAW8E,SAASJ,GAAkBC,IAEvE,CAAEvH,QAAS0B,KAAKiG,IAAIjG,KAAKkG,IAAI5H,EAAS6F,GAAkB,GAAIwB,eAAc,IAEnFpI,KAAKgH,QAAUF,CACjB,EAEF,MAAM8B,EAAuB,EACvBC,EAAkB,KACxB,IAAIC,EACAC,EAAeC,GACnB,MAAMC,GACJ,WAAApJ,CAAYiH,EAAQoC,GAClB1K,EAAcwB,KAAM,UAAW,MAC/BxB,EAAcwB,KAAM,gBAAiB,CACnCmJ,KAAM,KACN/F,MAAO,GAEPgG,iBAAkB,EAClB/F,IAAK,GAELgG,eAAgB,EAChB9L,MAAO,GACP+L,QAAS,GACTC,YAAY,EACZC,QAAQ,EACRC,SAAU,KACVC,OAAQ,KACRC,UAAW,EACXC,WAAW,EACXC,UAAU,EACVC,eAAe,EACfC,WAAW,EACXC,UAAU,EACVC,WAAW,EACXC,UAAU,EACVC,gBAAgB,EAEhBC,SAAS,EACTvP,MAAO,KAETmF,KAAKgH,QAAUF,EACfgC,EAAKI,CACP,CASA,aAAAmB,CAAcC,EAAUC,EAAUC,GAEhC,GADwB,kBAAbF,IAAuBA,EAAWxB,EAAG7F,aAAaqH,MACvDA,aAAoBjK,MAAO,OAAO,EACxC,MAAM+I,EAAmBN,EAAG2B,cAAcH,GAC1CC,EAAsB,EAAXA,GAAuC,GAAvB3B,EAC3B,MAAMS,EAAiBD,EAAmBmB,EACpClH,EAAMyF,EAAGhI,WAAW,IAAIT,KAAKiK,GAAWC,GAC1CC,EAAanH,MACiB,kBAArBmH,EAAanH,MAAkBmH,EAAanH,IAAMyF,EAAG7F,aAAauH,EAAanH,MAC1FmH,EAAanB,eAAiBP,EAAG2B,cAAcD,EAAanH,MAE9D,MAAMqH,EAAQ,IACT1K,KAAK2K,cACRxB,KAAM,GAAGnJ,KAAKgH,QAAQhI,EAAE4L,OAAO5K,KAAKgH,QAAQ6D,qBAC5CzH,MAAOkH,EACPlB,mBACA/F,MACAgG,iBACAI,SAAU,QACPe,GAEL,MAA0C,oBAA/BxK,KAAKgH,QAAQ8D,eACjB9K,KAAKgH,QAAQ8D,cAAcJ,GAAO,IAAM1K,KAAK+K,cAAcL,MAE9DA,EAAMM,aAAeN,EAAMO,WAC7BP,EAAMf,UAAYb,EAAG3F,UAAUuH,EAAMtH,MAAOsH,EAAMrH,MAEpDrD,KAAKgH,QAAQkE,cAAcC,KAAKT,GAChC1K,KAAKgH,QAAQoE,gBAAgB,CAACV,IAC9B1K,KAAKgH,QAAQqE,cAAc,eAAgBX,GAC3C1K,KAAKgH,QAAQC,MAAM,eAAgB,CAAEyD,MAAO1K,KAAKgH,QAAQsE,aAAaZ,GAAQa,cAAe,OACtFb,QAVP,CAWF,CAMA,eAAAc,CAAgB9D,GACTA,EAAE+B,WACL/B,EAAE+B,SAAW,CAAC,EACd/B,EAAE+B,SAASX,EAAGhF,eAAe4D,EAAEtE,QAAU,CACvCA,MAAOsE,EAAEtE,MACTgG,iBAAkB1B,EAAE0B,iBACpBC,eAAgBR,EAChB4C,YAAY,EACZC,WAAW,IAGf,MAAMC,EAAkBjE,EAAE+B,SAASX,EAAGhF,eAAe4D,EAAErE,MACnDsI,IACFA,EAAgBD,WAAY,EAC5BC,EAAgBtC,eAAiBR,GAEnC,MAAMzF,EAAQ0F,EAAGvI,QAAQmH,EAAErE,IAAK,GAC1BuI,EAAgB9C,EAAGhF,eAAeV,GAWxC,OAVAA,EAAMpB,SAAS,EAAG,EAAG,EAAG,GACxB0F,EAAE+B,SAASmC,GAAiB,CAC1BxI,QACAgG,iBAAkB,EAClBC,eAAgB3B,EAAE2B,eAClBoC,YAAY,EACZC,WAAW,GAEbhE,EAAErE,IAAMyF,EAAGhI,WAAWsC,EAAOsE,EAAE2B,gBAC/B3B,EAAEiC,UAAY3L,OAAO6N,KAAKnE,EAAE+B,UAAUnO,OAC/BsQ,CACT,CAMA,kBAAAE,CAAmBpE,GACjB,IAAIqE,EAAgB/N,OAAO6N,KAAKnE,EAAE+B,UAAUnO,OAC5C,GAAIyQ,GAAiB,EAAG,OAAOjD,EAAGhF,eAAe4D,EAAErE,YAC5CqE,EAAE+B,SAASX,EAAGhF,eAAe4D,EAAErE,MACtC0I,IACA,MAAM1I,EAAMyF,EAAGpI,aAAagH,EAAErE,IAAK,GAC7BuI,EAAgB9C,EAAGhF,eAAeT,GAClCsI,EAAkBjE,EAAE+B,SAASmC,GAQnC,OAPKG,EACIJ,IACPA,EAAgBD,WAAY,EAC5BC,EAAgBtC,eAAiB3B,EAAE2B,gBAHjB3B,EAAE+B,SAAW,KAKjC/B,EAAEiC,UAAYoC,GAAiB,EAC/BrE,EAAErE,IAAMA,EACDuI,CACT,CAWA,mBAAAI,CAAoBtE,EAAGuE,EAAeC,GACpC,MAAMC,EAAqBF,EAAcpI,UACnCuI,EAAmBF,EAAYrI,UACrC,IAGIwI,EAAWhJ,EAAKiJ,EAHhBC,EAAa7E,EAAEtE,MAAMS,UACrB2I,EAAW9E,EAAErE,IAAIQ,UACjB4I,GAA0B,EAEzB/E,EAAErE,IAAInD,YAAewH,EAAErE,IAAIlD,eAAcqM,GAAY,KAC1D9E,EAAE+B,SAAW,CAAC,EACT/B,EAAEgC,QAIL2C,EAAYF,EACZ9I,EAAMZ,KAAKkG,IACTyD,EACA1E,EAAEgC,OAAOgD,MAAQ5D,EAAG7F,aAAayE,EAAEgC,OAAOgD,OAAO7I,UAAYuI,KAN/DC,EAAY5J,KAAKiG,IAAIyD,EAAoBI,GACzClJ,EAAMZ,KAAKkG,IAAIyD,EAAkBI,IAQnC,MAAOH,GAAahJ,EAAK,CACvB,IAAIsJ,GAAgB,EACpB,MAAMC,EAAe9D,EAAGvI,QAAQ,IAAIF,KAAKgM,GAAY,GAAGrK,SAAS,EAAG,EAAG,EAAG,GAC1E,IAAIyJ,EAAYC,EAAWtI,EAAOwI,EAClC,GAAIlE,EAAEgC,OAAQ,CACZ,MAAMmD,EAAU,IAAIxM,KAAKgM,GACnBS,EAAmBhE,EAAGhF,eAAe+I,IACvCJ,GAA2B/E,EAAEqF,aAAerF,EAAEqF,YAAYD,MACvDL,IACHF,EAAa7E,EAAEqF,YAAYD,GAAkB1J,MAC7CkJ,EAAuB,IAAIjM,KAAKkM,GAAYvK,SAAS,EAAG,EAAG,EAAG,GAC9DwK,EAAW9E,EAAEqF,YAAYD,GAAkBzJ,KAE7CoJ,GAA0B,EAC1BE,GAAgB,GAElBlB,EAAaY,IAAcC,EAC3BZ,EAAYoB,IAAqBhE,EAAGhF,eAAe,IAAIzD,KAAKmM,IAC5DpJ,EAAQ,IAAI/C,KAAKoL,EAAac,EAAaF,GAC3CT,EAAgB9C,EAAGhF,eAAeV,GAC9BsI,IAAWe,GAA0B,EAC3C,MACEE,GAAgB,EAChBlB,EAAaY,IAAcE,EAC3Bb,EAAYrI,IAAQmJ,GAAYI,EAAevJ,EAC/CD,EAAQqI,EAAa/D,EAAEtE,MAAQ,IAAI/C,KAAKgM,GACxCT,EAAgB9C,EAAGhF,eAAe2H,EAAa/D,EAAEtE,MAAQA,GAEvDuJ,IACFjF,EAAE+B,SAASmC,GAAiB,CAC1BxI,QACAgG,iBAAkBqC,EAAa/D,EAAE0B,iBAAmB,EACpDC,eAAgBqC,EAAYhE,EAAE2B,eAAiBR,EAC/C4C,aACAC,cAGJW,EAAYO,CACd,CACA,OAAOlF,CACT,CAMA,aAAAqD,CAAcL,GACZ1K,KAAKgH,QAAQqE,cAAc,eAAgBX,GAC3C1K,KAAKgH,QAAQkE,cAAgBlL,KAAKgH,QAAQkE,cAAc8B,QAAQtF,GAAMA,EAAEyB,OAASuB,EAAMvB,OACvFnJ,KAAKgH,QAAQiG,KAAK/Q,OAAS8D,KAAKgH,QAAQiG,KAAK/Q,OAAO8Q,QAAQtF,GAAMA,EAAEyB,OAASuB,EAAMvB,MACrF,CAKA,0BAAA+D,CAA2BC,EAAYC,GACrCpE,GAAmBmE,EAAWE,MAAM,GACpCtE,EAAgB,CAAC,EACjBoE,EAAWG,SAAS5F,IAClBsB,GAAiBuE,QACZxE,EAAcrB,EAAEyB,QAAOJ,EAAcrB,EAAEyB,MAAQ,CAAEqE,SAAU,GAAIpK,MAAOsE,EAAEtE,MAAOqK,SAAU,IAC9F1E,EAAcrB,EAAEyB,MAAMsE,SAAW,EACjCzE,GAAiBsE,SAASI,IACnB3E,EAAc2E,EAAGvE,QAAOJ,EAAc2E,EAAGvE,MAAQ,CAAEqE,SAAU,GAAIpK,MAAOsK,EAAGtK,MAAOqK,SAAU,IACjG,MAAME,EAAiB3N,KAAK4N,aAAaF,EAAIhG,EAAEtE,MAAOsE,EAAErE,KAClDwK,EAAuBT,EAAQU,oBAAsBhF,EAAGtF,oBAAoBkE,EAAEtE,MAAOsK,EAAGtK,MAAOgK,EAAQzJ,UAAY,EACzH,GAAK+D,EAAE6B,YAAe7B,EAAE8B,QAAWkE,EAAGnE,YAAemE,EAAGlE,SAAUmE,IAAkBE,EAM7E,CACL,IAAIE,EAAMC,GACLD,GAAQhF,EAAcrB,EAAEyB,OAAS,CAAEqE,SAAU,KAAMA,SAASS,QAAQP,EAAGvE,QAAU,GAAGJ,EAAcrB,EAAEyB,MAAMqE,SAASU,OAAOH,EAAM,IAChIC,GAAQjF,EAAc2E,EAAGvE,OAAS,CAAEqE,SAAU,KAAMA,SAASS,QAAQvG,EAAEyB,QAAU,GAAGJ,EAAc2E,EAAGvE,MAAMqE,SAASU,OAAOF,EAAM,GACtIjF,EAAc2E,EAAGvE,MAAMsE,UACzB,MAVE1E,EAAcrB,EAAEyB,MAAMqE,SAASrC,KAAKuC,EAAGvE,MACvCJ,EAAcrB,EAAEyB,MAAMqE,SAAW,IAAI,IAAIW,IAAIpF,EAAcrB,EAAEyB,MAAMqE,WACnEzE,EAAc2E,EAAGvE,MAAMqE,SAASrC,KAAKzD,EAAEyB,MACvCJ,EAAc2E,EAAGvE,MAAMqE,SAAW,IAAI,IAAIW,IAAIpF,EAAc2E,EAAGvE,MAAMqE,WACrEzE,EAAc2E,EAAGvE,MAAMsE,UAMzB,GACA,IAEJ,IAAIW,EAAgB,EACpB,IAAK,MAAMlT,KAAM6N,EAAe,CAC9B,MAAMsF,EAAOtF,EAAc7N,GACrBoT,EAAcD,EAAKb,SAASe,KAAKC,IAAQ,CAAGtT,GAAIsT,EAAKpL,MAAO2F,EAAcyF,GAAKpL,UACrFkL,EAAYnD,KAAK,CAAEjQ,KAAIkI,MAAOiL,EAAKjL,QACnCkL,EAAYG,MAAK,CAACC,EAAGC,IAAMD,EAAEtL,MAAQuL,EAAEvL,OAAS,EAAIsL,EAAEtL,MAAQuL,EAAEvL,MAAQ,EAAIsL,EAAExT,GAAKyT,EAAEzT,IAAM,EAAI,IAC/FmT,EAAKZ,SAAWa,EAAYM,WAAWlH,GAAMA,EAAExM,KAAOA,IACtDkT,EAAgB3L,KAAKiG,IAAI1I,KAAK6O,kBAAkBR,EAAMtF,GAAgBqF,EACxE,CACA,MAAO,CAACrF,EAAeqF,EACzB,CAWA,iBAAAS,CAAkBnE,EAAOoE,EAAe,CAAC,GACvC,IAAIC,EAASrE,EAAM8C,SAASlS,OAAS,EACjC0T,EAAmB,GAWvB,OAVAtE,EAAM8C,SAASF,SAASpS,IACtB,IAAK8T,EAAiBC,SAAS/T,GAAK,CAClC,MAAMgU,EAAsBxE,EAAM8C,SAASR,QAAQwB,GAAQA,IAAQtT,IACnEgU,EAAoB5B,SAAS6B,IACtBL,EAAaK,GAAK3B,SAASyB,SAAS/T,IAAK8T,EAAiB7D,KAAKgE,EAAI,GAE5E,KAEFH,EAAmB,IAAI,IAAIb,IAAIa,IAC/BD,GAAUC,EAAiB1T,OACpByT,CACT,CASA,YAAAnB,CAAalD,EAAOtH,EAAOC,GACzB,GAAIqH,EAAMlB,SAAWxJ,KAAKgH,QAAQ5K,KAAM,CACtC,MAAMgT,EAAkB,IAAI/O,KAAKqK,EAAMtH,OAAOpB,SAAS,EAAG,EAAG,EAAG,GAC1DqN,EAAgB,IAAIhP,KAAKqK,EAAMrH,KAAKrB,SAAS,GAAI,GAAI,EAAG,GAC9D,OAAOqN,GAAiB,IAAIhP,KAAK+C,GAAOpB,SAAS,EAAG,EAAG,EAAG,IAAMoN,GAAmB,IAAI/O,KAAKgD,GAAKrB,SAAS,EAAG,EAAG,EAAG,EACrH,CACA,MAAMsN,EAAiB5E,EAAMtH,MAAMS,UAC7B0L,EAAe7E,EAAMrH,IAAIQ,UAC/B,OAAOyL,EAAiBjM,EAAIQ,WAAa0L,EAAenM,EAAMS,SAChE,EAEF,MAAM2L,GAAe,CAAE3U,MAAO,0CACxB4U,GAAe,CAAC,WAChBC,GAAe,CACnB7U,MAAO,6BACP8U,KAAM,IAEFC,GAAe,CAAE/U,MAAO,QACxBgV,GAAe,CAAEhV,MAAO,SACxBiV,GAAe,CAAEjV,MAAO,UACxBkV,GAAe,CAAE9U,IAAK,GACtB+U,GAAe,CACnB/U,IAAK,EACLJ,MAAO,0CACP8U,KAAM,IAER,SAASM,GAASC,EAAMC,EAAQ5H,EAAQ6H,EAAQC,EAAOC,GACrD,OAAO,WAAa,QAAmB,MAAOd,GAAc,GACzD,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAWc,EAASC,UAAU,CAACC,EAASC,MACpF,WAAa,QAAmB,KAAU,CAAExV,IAAKwV,GAAK,CAC1DD,EAAQE,MA+Ce,QAAmB,IAAI,KA/C9B,WAAa,QAAmB,MAAO,CACtDzV,IAAK,EACLJ,OAAO,QAAe,CAAC,+BAAgC,CAAE8V,MAAOH,EAAQG,MAAOC,UAAWN,EAASO,yBACnGC,OAAO,QAAeR,EAASS,mBAC/BC,QAAUC,GAAgC,SAArBX,EAASrD,KAAK/R,IAAiBoV,EAASY,WAAWV,EAAQvQ,KAAMgR,GACtFE,WAAYhB,EAAO,KAAOA,EAAO,GAAMc,GAAgC,SAArBX,EAASrD,KAAK/R,IAAiBoV,EAASxJ,OAAOM,oBAAsBmB,EAAOpB,yBAC7H,EACD,QAAY,KAAY,CACtB/L,KAAM,eAAemN,EAAO6I,sBAC5BC,OAAQf,EAASxJ,OAAOwK,aACvB,CACDC,SAAS,SAAQ,IAAM,GACpB,WAAa,QAAmB,MAAO,CACtC1W,MAAO,eACP2W,OAAQ,GACRvW,MAAKqV,EAASxJ,OAAOwK,aAAc,GAAGb,KAAKD,EAAQiB,cAClD,EACD,QAAmB,MAAO/B,GAAc,EACtC,QAAWQ,EAAKwB,OAAQ,kBAAmB,CACzClB,QAASF,EAASqB,eAAenB,GACjCvD,KAAMqD,EAASrD,OACd,IAAM,EACP,QAAmB,OAAQ2C,IAAc,QAAgBY,EAAQoB,MAAO,IACxE,QAAmB,OAAQ/B,IAAc,QAAgBW,EAAQqB,OAAQ,IACzE,QAAmB,OAAQ/B,IAAc,QAAgBU,EAAQsB,QAAS,GAC1EtB,EAAQiB,aAAc,WAAa,QAAmB,OAAQ1B,GAAc,KAAM,QAAgBS,EAAQiB,YAAa,KAAM,QAAmB,IAAI,QAGxJnB,EAASxJ,OAAOiL,WAAazB,EAASxJ,OAAOkL,oBAAqB,WAAa,QAAmB,MAAOhC,GAAc,GACpH,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAWM,EAASxJ,OAAOmL,WAAW,CAAC3S,EAAO4S,MAC1F,WAAa,QAAmB,MAAO,CAC5CrX,OAAO,QAAe,CAAC,mBAAoByE,EAAMzE,QAAS,IAC1DI,IAAKiX,GACJ,EACD,QAAWhC,EAAKwB,OAAQ,cAAe,CACrCpS,QACA2N,KAAMqD,EAASrD,OACd,IAAM,EACP,SAAgB,QAAgB3N,EAAM6S,OAAQ,OAE/C,MACD,UACA,QAAmB,IAAI,SAGjCnT,EAAG,GACF,KAAM,CAAC,OAAQ,YACjB,GAAIyQ,MACN,OACD,OAER,CACA,MAAM2C,GAAc,CAACC,EAAKC,KACxB,MAAMC,EAASF,EAAIG,WAAaH,EAChC,IAAK,MAAOpX,EAAKwX,KAAQH,EACvBC,EAAOtX,GAAOwX,EAEhB,OAAOF,CAAM,EAETG,GAAc,CAClBC,OAAQ,CAAC,SAAU,QAAS,QAC5BL,MAAO,CACLlB,oBAAqB,CAAEhU,KAAMwV,OAAQrB,QAAS,SAC9ChL,SAAU,CAAEnJ,KAAMyV,MAAOtB,QAAS,IAAM,IACxCpK,qBAAsB,CAAE/J,KAAM0V,SAAUvB,QAAS,SAGnDwB,QAAS,CACP,UAAA7B,CAAWjR,EAAM+S,GACX/S,EAAK4D,YAAc7D,KAAKiN,KAAKgG,aAAapP,YAC5C7D,KAAKiN,KAAKgG,aAAehT,GAE3BD,KAAKkT,MAAMC,KAAKjC,YAAW,EAAOjR,EAAM+S,EAC1C,EACArB,eAAiBnB,IAAY,CAC3B2B,MAAO3B,EAAQoB,KACf3R,KAAMuQ,EAAQvQ,QACXuQ,EAAQG,MAAQ,CAAEA,MAAOH,EAAQG,OAAU,CAAC,KAGnDyC,SAAU,CACR,QAAA7C,GACE,IAAK,CAAC,QAAS,QAAQtB,SAASjP,KAAKiN,KAAK/R,IAAK,MAAO,GACtD,IAAImY,GAAa,EACjB,MAAM9C,EAAWvQ,KAAKuG,SAASgI,KAAI,CAAC4E,EAAM1C,KACxC,MAAMxQ,EAAOD,KAAKkT,MAAMjT,KAAKM,QAAQP,KAAKiN,KAAKqG,UAAWtT,KAAK8G,OAAOyM,mBAAqBvT,KAAK8G,OAAO0M,aAAe/C,EAAI,EAAIA,GAC9H,MAAO,CACLC,KAAMyC,EAAKzC,KACXkB,KAAMuB,EAAKhB,MAGXN,MAAOsB,EAAKM,OAASN,EAAKhB,MAAM3L,OAAO,EAAG,GAC1CsL,OAAQqB,EAAKM,OAASN,EAAKhB,MAAM3L,OAAO,EAAG,MAEvB,SAAjBxG,KAAKiN,KAAK/R,GAAgB,CAC3BuW,WAAYxR,EAAKyB,UACjBzB,OACA0Q,OAAQ0C,GAAcrT,KAAKkT,MAAMjT,KAAKiB,QAAQjB,KAAUoT,KACtD,CAAC,EACN,IAEH,OAAO9C,CACT,EACA,SAAAmD,GACE,OAAO,KAAO,EAAI1T,KAAKuG,SAASoN,QAAO,CAACC,EAAO3N,IAAQ2N,EAAQ3N,EAAIyK,MAAM,GAC3E,EACA,iBAAAK,GACE,MAAO,IACF/Q,KAAK8G,OAAO+M,aAAavY,OAAS,CAAEwY,MAAO,GAAG9T,KAAK0T,cAAiB,CAAC,EAE5E,EACA,qBAAA7C,GACE,MAAwB,SAAjB7Q,KAAKiN,KAAK/R,KAAkB8E,KAAK8G,OAAOI,iBAAmBlH,KAAK8G,OAAOM,mBAChF,IAGE2M,GAAmC3B,GAAYM,GAAa,CAAC,CAAC,SAAUzC,MACxE+D,GAAe,CAAEnZ,MAAO,kBACxBoZ,GAAe,CACnBhZ,IAAK,EACLJ,MAAO,4BACPqZ,KAAM,UACN,aAAc,6BAEVC,GAAe,CAAC,cAAe,cAAe,UAAW,cACzDC,GAAe,CACnBnZ,IAAK,EACLJ,MAAO,qBAEHwZ,GAAe,CAAC,cAChBC,GAAe,CACnBzZ,MAAO,6BACP8U,KAAM,IAEF4E,GAAe,CAAC,cAChBC,GAAe,CACnBvZ,IAAK,EACLJ,MAAO,2CAET,SAAS4Z,GAASvE,EAAMC,EAAQ5H,EAAQ6H,EAAQC,EAAOC,GACrD,MAAMoE,GAA+B,QAAiB,qBACtD,OAAO,WAAa,QAAmB,MAAOV,GAAc,CACzDzL,EAAO6E,QAAQuH,kBAcV,QAAmB,IAAI,KAdO,WAAa,QAAmB,MAAOV,GAAc,GACtF,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAW1L,EAAOqM,UAAUC,OAAO,CAAChW,EAAG3D,MACnF,WAAa,QAAmB,KAAU,CAAED,IAAKC,GAAM,CAC5D2D,EAAEiW,UAAW,WAAa,QAAmB,SAAU,CACrD7Z,IAAK,EACLJ,OAAO,QAAe,CAAC,mBAAoB,CAAE,2BAA4ByV,EAASrD,KAAK/R,KAAOA,EAAI,gCAAiCgV,EAAK6E,qBAAuB7Z,KAC/JkC,KAAM,SACN4X,YAAc/D,GAAW1I,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIC,sBAAsBnE,EAAQ/V,EAAIgV,EAAKG,OACvHgF,YAAcpE,GAAW1I,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIG,sBAAsBrE,EAAQ/V,EAAIgV,EAAKG,OACvHW,QAAUC,GAAWX,EAASiF,WAAWra,EAAI,MAAM,GACnD,aAAc,GAAG2D,EAAEsT,eAClB,QAAgBtT,EAAEsT,OAAQ,GAAIgC,MAAiB,QAAmB,IAAI,IACxE,OACD,SAEL5L,EAAO6E,QAAQoI,cAoDV,QAAmB,IAAI,KApDG,WAAa,QAAmB,MAAOpB,GAAc,EACnF,QAAmB,SAAU,CAC3BvZ,OAAO,QAAe,CAAC,oCAAqC,CAAE,6BAA0D,aAA5BqV,EAAK6E,sBACjG3X,KAAM,SACN4T,QAASb,EAAO,KAAOA,EAAO,GAAK,IAAIsF,IAASnF,EAASoF,UAAYpF,EAASoF,YAAYD,IAC1FT,YAAa7E,EAAO,KAAOA,EAAO,GAAMc,GAAW1I,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIC,sBAAsBnE,EAAQ,WAAYf,EAAKG,QACzJgF,YAAalF,EAAO,KAAOA,EAAO,GAAMc,GAAW1I,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIG,sBAAsBrE,EAAQ,WAAYf,EAAKG,QACzJ,aAAc,YAAYC,EAASrD,KAAK/R,MACvC,EACD,QAAWgV,EAAKwB,OAAQ,eACvB,GAAI2C,KACP,QAAmB,MAAOC,GAAc,EACtC,QAAY,KAAY,CACtBlZ,KAAMmN,EAAO6E,QAAQkE,YAAc,eAAehB,EAASc,sBAAwB,IAClF,CACDG,SAAS,SAAQ,IAAM,GACpB,WAAa,SAAY,QAAwBjB,EAASqF,YAAc,SAAW,QAAS,CAC3FvY,OAAQkT,EAASqF,aAAe,SAChC1a,IAAK,GAAGqV,EAASrD,KAAK/R,KAAKoV,EAASrD,KAAKqG,UAAUnN,aACnD6K,QAASb,EAAO,KAAOA,EAAO,GAAMc,KAAaX,EAASqF,aAAerF,EAASsF,uBAClF,eAAgBtF,EAASqF,aAAe,SAASrF,EAASqF,oBACzD,CACDpE,SAAS,SAAQ,IAAM,EACrB,QAAWrB,EAAKwB,OAAQ,YAE1B1S,EAAG,GACF,EAAG,CAAC,OAAQ,mBAEjBA,EAAG,GACF,EAAG,CAAC,WAETuJ,EAAO6E,QAAQyI,cAAe,WAAa,QAAmB,SAAU,CACtE5a,IAAK,EACLJ,OAAO,QAAe,CAAC,oBAAqB,CAAE,iCAA8D,UAA5BqV,EAAK6E,sBACrF3X,KAAM,SACN4T,QAASb,EAAO,KAAOA,EAAO,GAAK,IAAIsF,IAASnF,EAASwF,WAAaxF,EAASwF,aAAaL,IAC5FT,YAAa7E,EAAO,KAAOA,EAAO,GAAMc,GAAW1I,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIC,sBAAsBnE,EAAQ,QAASf,EAAKG,QACtJgF,YAAalF,EAAO,KAAOA,EAAO,GAAMc,GAAW1I,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIG,sBAAsBrE,EAAQ,QAASf,EAAKG,QACtJ,aAAc,SACb,EACD,QAAWH,EAAKwB,OAAQ,iBACvB,MAAO,QAAmB,IAAI,IACjC,QAAmB,SAAU,CAC3B7W,OAAO,QAAe,CAAC,oCAAqC,CAAE,6BAA0D,SAA5BqV,EAAK6E,sBACjG3X,KAAM,SACN4T,QAASb,EAAO,KAAOA,EAAO,GAAK,IAAIsF,IAASnF,EAASyF,MAAQzF,EAASyF,QAAQN,IAClFT,YAAa7E,EAAO,KAAOA,EAAO,GAAMc,GAAW1I,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIC,sBAAsBnE,EAAQ,OAAQf,EAAKG,QACrJgF,YAAalF,EAAO,KAAOA,EAAO,GAAMc,GAAW1I,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIG,sBAAsBrE,EAAQ,OAAQf,EAAKG,QACrJ,aAAc,QAAQC,EAASrD,KAAK/R,MACnC,EACD,QAAWgV,EAAKwB,OAAQ,eACvB,GAAI6C,OAEThM,EAAOqM,UAAUoB,mBAAoB,WAAa,QAAYtB,EAA8B,CAC1FzZ,IAAK,EACL,YAAasN,EAAOhC,SACpB,uBAAwB+J,EAASc,oBACjC,0BAA2B7I,EAAOpB,uBACjC,QAAY,CAAEnI,EAAG,GAAK,CACvBkR,EAAKwB,OAAO,mBAAqB,CAC/BtW,KAAM,kBACN6a,IAAI,SAAQ,EAAGzF,UAASvD,UAAW,EACjC,QAAWiD,EAAKwB,OAAQ,kBAAmB,CACzClB,UACAvD,YAGJhS,IAAK,UACH,EACJiV,EAAKwB,OAAO,eAAiB,CAC3BtW,KAAM,cACN6a,IAAI,SAAQ,EAAG3W,WAAY,EACzB,QAAW4Q,EAAKwB,OAAQ,cAAe,CACrCpS,QACA2N,KAAMqD,EAASrD,UAGnBhS,IAAK,UACH,IACF,KAAM,CAAC,YAAa,uBAAwB,8BAA+B,QAAmB,IAAI,IACtG,QAAY,KAAY,CACtBG,KAAM,eAAekV,EAASc,uBAC7B,CACDG,SAAS,SAAQ,IAAM,CACrBjB,EAAS4F,gBAAiB,WAAa,QAAmB,MAAO1B,GAAc,GAC5E,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAWjM,EAAO0J,WAAW,CAAC3S,EAAOmR,MACjF,WAAa,QAAmB,MAAO,CAC5C5V,OAAO,QAAe,CAAC,mBAAoByE,EAAMzE,QAAS,IAC1DI,IAAKwV,GACJ,EACD,QAAWP,EAAKwB,OAAQ,cAAe,CACrCpS,QACA2N,KAAMqD,EAASrD,KAAK/R,KACnB,IAAM,EACP,SAAgB,QAAgBoE,EAAM6S,OAAQ,OAE/C,MACD,UACA,QAAmB,IAAI,MAE/BnT,EAAG,GACF,EAAG,CAAC,UAEX,CACA,MAAMmX,GAAc,CAClBxD,OAAQ,CAAC,SAAU,WAAY,OAAQ,aAAc,qBAAsB,UAAW,QACtFyD,WAAY,CAAErC,qBACdzB,MAAO,CAELlF,QAAS,CAAEhQ,KAAMY,OAAQuT,QAAS,KAAM,CAAG,IAC3C0D,WAAY,CAAE7X,KAAMY,OAAQV,UAAU,GACtCyU,UAAW,CAAE3U,KAAM,CAACiZ,QAASC,QAAS/E,SAAS,GAC/CU,UAAW,CAAE7U,KAAMyV,MAAOtB,QAAS,IAAM,IACzCqD,UAAW,CAAExX,KAAMY,OAAQuT,QAAS,KAAM,CAAG,IAC7ChL,SAAU,CAAEnJ,KAAMyV,MAAOtB,QAAS,IAAM,IACxCpK,qBAAsB,CAAE/J,KAAM0V,SAAUvB,QAAS,SAGnDgF,KAAM,KAAM,CACVxB,mBAAoB,OAEtBhC,QAAS,CACP,SAAA+C,GACE9V,KAAKwW,mBAAmB,IAAInW,MAAK,IAAqBA,MAAQ2B,SAAS,EAAG,EAAG,EAAG,IAClF,EACA,mBAAA4T,GACE5V,KAAKoR,oBAAsB,OACvBpR,KAAK2V,aAAa3V,KAAKuV,WAAWvV,KAAK2V,YAC7C,GAEFvC,SAAU,CACRhC,oBAAqB,CACnB,GAAAqF,GACE,OAAOzW,KAAK8G,OAAOsK,mBACrB,EACA,GAAAsF,CAAIC,GACF3W,KAAK8G,OAAOsK,oBAAsBuF,CACpC,GAEF,WAAAhB,GACE,MAAM,aAAEiB,GAAiB5W,KAAK8G,OAC9B,OAAO8P,EAAaA,EAAa3I,QAAQjO,KAAKiN,KAAK/R,IAAM,EAC3D,EACA,aAAAgb,GACE,MAAwB,QAAjBlW,KAAKiN,KAAK/R,IAAgB8E,KAAK+R,WAAa/R,KAAKoN,QAAQ4E,oBAAsBhS,KAAKoN,QAAQyJ,aACrG,EAEA,GAAA1B,GACE,OAAOnV,KAAK8W,QAAQ3B,GACtB,IAGE4B,GAAyB3E,GAAY+D,GAAa,CAAC,CAAC,SAAU1B,MAC9DuC,GAAe,CAAC,aACtB,SAASC,GAAS/G,EAAMC,EAAQ5H,EAAQ6H,EAAQC,EAAOC,GACrD,OAAO,WAAa,QAAmB,MAAO,CAC5CzV,OAAO,QAAe,CAAC,gBAAiByV,EAAS4G,eACjDpG,OAAO,QAAeR,EAAS6G,aAC/BC,SAAU,IACVC,QAASlH,EAAO,KAAOA,EAAO,GAAK,IAAIsF,IAASnF,EAASgH,YAAchH,EAASgH,cAAc7B,IAC9F8B,WAAYpH,EAAO,KAAOA,EAAO,IAAK,SAAS,SAAc,IAAIsF,IAASnF,EAASkH,iBAAmBlH,EAASkH,mBAAmB/B,IAAO,CAAC,SAAU,CAAC,WACrJgC,aAActH,EAAO,KAAOA,EAAO,GAAK,IAAIsF,IAASnF,EAASoH,cAAgBpH,EAASoH,gBAAgBjC,IACvGkC,aAAcxH,EAAO,KAAOA,EAAO,GAAK,IAAIsF,IAASnF,EAASsH,cAAgBtH,EAASsH,gBAAgBnC,IACvGoC,aAAc1H,EAAO,KAAOA,EAAO,IAAK,SAAc,IAAIsF,IAASnF,EAASwH,cAAgBxH,EAASwH,gBAAgBrC,IAAO,CAAC,UAC7HsC,YAAa5H,EAAO,KAAOA,EAAO,GAAMc,GAAWX,EAAS0H,YAAY/G,IACxEgH,UAAW9H,EAAO,MAAQA,EAAO,IAAM,IAAIsF,IAASnF,EAAS4H,WAAa5H,EAAS4H,aAAazC,IAChG0C,WAAYhI,EAAO,MAAQA,EAAO,IAAM,IAAIsF,IAASnF,EAAS4H,WAAa5H,EAAS4H,aAAazC,IACjG2C,YAAajI,EAAO,MAAQA,EAAO,IAAM,IAAIsF,IAASnF,EAAS+H,aAAe/H,EAAS+H,eAAe5C,IACtGtE,WAAYhB,EAAO,MAAQA,EAAO,IAAM,IAAIsF,IAASnF,EAASgI,YAAchI,EAASgI,cAAc7C,IACnGxL,UAAWqG,EAASrG,UACpBsO,YAAapI,EAAO,MAAQA,EAAO,IAAOc,GAAWX,EAASrG,WAAaqG,EAASkI,YAAYvH,IAChGwH,UAAWtI,EAAO,MAAQA,EAAO,IAAOc,GAAWX,EAASrG,WAAaqG,EAASoI,cACjF,CACDpI,EAASxJ,OAAOmO,WAAW0D,QAAUpQ,EAAOmC,MAAMd,YAAa,WAAa,QAAmB,MAAO,CACpG3O,IAAK,EACLJ,MAAO,uBACPmW,QAASb,EAAO,KAAOA,EAAO,IAAK,SAAc,IAAIsF,IAASnF,EAASsI,aAAetI,EAASsI,eAAenD,IAAO,CAAC,UACtHoC,aAAc1H,EAAO,KAAOA,EAAO,IAAK,SAAc,IAAIsF,IAASnF,EAASuI,kBAAoBvI,EAASuI,oBAAoBpD,IAAO,CAAC,YACpI,QAAgBnF,EAASxJ,OAAOhH,MAAM8Y,aAAc,MAAO,QAAmB,IAAI,IACrF,QAAW1I,EAAKwB,OAAQ,QAAS,CAC/BhH,MAAOnC,EAAOmC,MACduC,KAAMqD,EAASrD,KAAK/R,KAEtBoV,EAASvG,YAAa,WAAa,QAAmB,MAAO,CAC3D9O,IAAK,EACLJ,MAAO,8BACPie,gBAAiB,QACjBf,YAAa5H,EAAO,KAAOA,EAAO,IAAK,SAAc,IAAIsF,IAASnF,EAASyI,yBAA2BzI,EAASyI,2BAA2BtD,IAAO,CAAC,OAAQ,aAC1JoC,aAAc1H,EAAO,KAAOA,EAAO,IAAK,SAAc,IAAIsF,IAASnF,EAASyI,yBAA2BzI,EAASyI,2BAA2BtD,IAAO,CAAC,OAAQ,cAC1J,KAAM,MAAO,QAAmB,IAAI,IACtC,GAAIuB,GACT,CACA,MAAMgC,GAAc,CAClBrG,OAAQ,CAAC,SAAU,QAAS,UAAW,OAAQ,YAAa,cAC5DL,MAAO,CACL2G,kBAAmB,CAAE7b,KAAMwV,OAAQrB,QAAS,IAC5C7G,MAAO,CAAEtN,KAAMY,OAAQuT,QAAS,KAAM,CAAG,IACzCpE,WAAY,CAAE/P,KAAMyV,MAAOtB,QAAS,IAAM,IAC1C/D,SAAU,CAAEpQ,KAAMyV,MAAOtB,QAAS,IAAM,IAGxC2H,cAAe,CAAE9b,KAAMkZ,OAAQ/E,QAAS,GACxC4H,eAAgB,CAAE/b,KAAMkZ,OAAQ/E,QAAS,GACzC/H,OAAQ,CAAEpM,KAAMiZ,QAAS9E,SAAS,IAGpCgF,KAAM,KAAM,CAEV6C,MAAO,CACLC,cAAe,GAEfC,OAAQ,EACRC,OAAQ,EAGRC,SAAS,KAGbzG,QAAS,CAKP,WAAAiF,CAAYtQ,EAAG0R,GAAQ,GACrB,GAAI,iBAAkB/R,SAAW+R,EAAO,OAAO,EAC/C,MAAM,iBAAEK,EAAgB,aAAEC,EAAY,cAAEC,EAAa,YAAEC,GAAgB5Z,KAAKsH,UAC5E,GAAIoS,EAAavQ,OAASnJ,KAAK0K,MAAMvB,MAAQsQ,EAAiBtQ,OAASnJ,KAAK0K,MAAMvB,KAChF,OAAO,EAETnJ,KAAKsX,aACLmC,EAAiBtQ,KAAO,KACpBnJ,KAAK8G,OAAOmO,WAAW0D,QAAU3Y,KAAK0K,MAAMd,YAC9C6P,EAAiBI,UAAY1a,YAAW,KACjCwa,EAAcxQ,MAASyQ,EAAYzQ,OACtCsQ,EAAiBtQ,KAAOnJ,KAAK0K,MAAMvB,KACnCnJ,KAAK0K,MAAMb,UAAW,EACxB,GACC4P,EAAiBhS,SAExB,EAOA,SAAAyQ,CAAUxQ,GACJ1H,KAAKsH,UAAUoS,aAAavQ,OAASnJ,KAAK0K,MAAMvB,MAASnJ,KAAKoZ,MAAMI,UACtExZ,KAAKsH,UAAUoS,aAAaI,UAAW,GAEzC9Z,KAAKoZ,MAAMI,SAAU,CACvB,EACA,YAAA9B,CAAahQ,GACXA,EAAEqS,iBACF/Z,KAAK8G,OAAOuE,cAAc,oBAAqBrL,KAAK0K,MACtD,EACA,YAAAkN,CAAalQ,GACXA,EAAEqS,iBACF/Z,KAAK8G,OAAOuE,cAAc,oBAAqBrL,KAAK0K,MACtD,EAEA,WAAA2N,CAAY3Q,GACV,GAAwC,oBAA7B1H,KAAK8G,OAAOkT,aAA6B,OACpD,MAAM,QAAEjS,EAAO,QAAEC,GAAYN,EAAEO,QAAQ,IACjC,OAAEqR,EAAM,OAAEC,EAAM,cAAEF,GAAkBrZ,KAAKoZ,OAC3C3W,KAAKmB,IAAImE,EAAUuR,GAAUD,GAAiB5W,KAAKmB,IAAIoE,EAAUuR,GAAUF,KAC7ErZ,KAAKoZ,MAAMI,SAAU,EAEzB,EACA,YAAA1B,CAAapQ,GACX1H,KAAKoZ,MAAME,OAAS5R,EAAEO,QAAQ,GAAGF,QACjC/H,KAAKoZ,MAAMG,OAAS7R,EAAEO,QAAQ,GAAGD,QACjChI,KAAKgY,YAAYtQ,GAAG,EACtB,EACA,eAAA8P,CAAgB9P,GACd,GAAwC,oBAA7B1H,KAAK8G,OAAOkT,aAA6B,OAAOha,KAAK8G,OAAOkT,aAAaha,KAAK0K,MAAOhD,EAClG,EACA,UAAA4Q,CAAW5Q,GACT,GAA2C,oBAAhC1H,KAAK8G,OAAOmT,gBAAgC,OAAOja,KAAK8G,OAAOmT,gBAAgBja,KAAK0K,MAAOhD,EACxG,EACA,WAAA8Q,CAAY9Q,GACV1H,KAAKmV,KAAOnV,KAAKmV,IAAI+E,eAAexS,EAAG1H,KAAK0K,MAC9C,EACA,SAAAgO,GACE1Y,KAAKmV,KAAOnV,KAAKmV,IAAIgF,aAAana,KAAK0K,MACzC,EACA,uBAAAqO,GACE/Y,KAAKsX,aACLtX,KAAKsH,UAAUsS,YAAYzQ,KAAO,KAClCnJ,KAAKsH,UAAUqS,cAAgB3b,OAAOoc,OAAOpa,KAAKsH,UAAUqS,cAAe,CACzExQ,KAAMnJ,KAAK0K,MAAMvB,KACjB/F,OAAQpD,KAAKqa,SAAWra,KAAK0K,OAAOtH,MACpC9D,MAAOU,KAAK0K,MAAMpL,OAAS,KAC3B+a,UAAWra,KAAKqa,SAAWra,KAAKkT,MAAMjT,KAAK6D,eAAe9D,KAAKqa,QAAQjX,OACvEkX,YAAa,IAAIja,MAAML,KAAKqa,SAAWra,KAAK0K,OAAOrH,KACnDkX,uBAAwBva,KAAK0K,MAAMrB,iBAErCrJ,KAAK0K,MAAMV,UAAW,CACxB,EACA,WAAA4O,CAAYQ,GAAQ,GAClB,GAAI,iBAAkB/R,SAAW+R,EAAO,OAAO,EAC/CpZ,KAAKkT,MAAMxI,MAAMK,cAAc/K,KAAK0K,MACtC,EACA,gBAAAmO,CAAiBnO,GACf1K,KAAK4Y,aAAY,EACnB,EACA,iBAAA4B,GACExa,KAAK0K,MAAMb,UAAW,CACxB,EACA,UAAAyN,GACE,MAAM,aAAEoC,GAAiB1Z,KAAKsH,UACxBmT,EAAef,EAAavQ,KAClC,GAAIsR,IAAiBza,KAAK0K,MAAMvB,KAAhC,CACK,GAAIsR,EAAc,CACrB,MAAM/P,EAAQ1K,KAAKiN,KAAK/Q,OAAOwe,MAAMhT,GAAMA,EAAEyB,OAASsR,IAClD/P,IAAOA,EAAMN,SAAU,EAC7B,CACApK,KAAK8G,OAAO6T,eACZ3a,KAAK8G,OAAOuE,cAAc,cAAerL,KAAK0K,OAC9CgP,EAAavQ,KAAOnJ,KAAK0K,MAAMvB,KAC/BnJ,KAAK0K,MAAMN,SAAU,CAJrB,CAKF,GAEFgJ,SAAU,CACR,eAAAwH,GACE,MAAM,iBAAExR,EAAgB,eAAEC,GAAmBrJ,KAAKqa,SAAWra,KAAK0K,MAClE,IAAImQ,EAAiBzR,EAAmBpJ,KAAK8G,OAAOwB,SACpD,MAAMV,EAAMnF,KAAKiG,IAAIjG,KAAKgD,MAAMoV,EAAiB7a,KAAK8G,OAAOuB,eAAiBrI,KAAK8G,OAAOnD,UAAW,GACrGkX,EAAiBpY,KAAKkG,IAAIU,EAAgBrJ,KAAK8G,OAAOgU,QAAU9a,KAAK8G,OAAOwB,SAC5E,MAAMyS,EAAStY,KAAKgD,MAAMoV,EAAiB7a,KAAK8G,OAAOuB,eAAiBrI,KAAK8G,OAAOnD,UAC9EqX,EAASvY,KAAKiG,IAAIqS,EAASnT,EAAK,GACtC,MAAO,CAAEA,MAAKoT,SAChB,EACA,WAAA7D,GACE,GAAInX,KAAK0K,MAAMlB,SAAWxJ,KAAK8G,OAAO1K,OAAS4D,KAAK0K,MAAMrB,gBAAmC,UAAjBrJ,KAAKiN,KAAK/R,IAAkB8E,KAAKwJ,OAAQ,MAAO,CAAC,EAC7H,IAAIsK,EAAQ,IAAMrR,KAAKkG,IAAI3I,KAAKwN,SAASlS,OAAS,EAAG0E,KAAKmZ,gBACtDxR,EAAO,KAAO3H,KAAKwN,SAASlS,OAAS,GAAK0E,KAAKkZ,cAC/ClZ,KAAK8G,OAAOmU,eAAiBnH,EAAQ9T,KAAK8G,OAAOmU,gBACnDnH,EAAQ9T,KAAK8G,OAAOmU,cACpBtT,GAAQ,IAAM3H,KAAK8G,OAAOmU,eAAiBjb,KAAKwN,SAASlS,OAAS0E,KAAKkZ,eAEzE,MAAM,IAAEtR,EAAG,OAAEoT,GAAWhb,KAAK4a,gBAC7B,MAAO,CACLhT,IAAK,GAAGA,MACRoT,OAAQ,GAAGA,MACXlH,MAAO,GAAGA,KACVnM,KAAM3H,KAAK0K,MAAM/C,MAAQ,GAAG3H,KAAK0K,MAAM/C,UAAY,GAAGA,KAE1D,EAEA,YAAAuP,GACE,MAAM,WAAEzL,EAAU,UAAEC,GAAc1L,KAAKqa,SAAW,CAAC,EACnD,MAAO,CACL,CAACra,KAAK0K,MAAM7P,SAAUmF,KAAK0K,MAAM7P,MACjC,uBAAwBmF,KAAK0K,MAAMN,QACnC,0BAA2BpK,KAAK0K,MAAMV,SACtC,4BAA6BhK,KAAK0K,MAAMnB,WACxC,2BAA4BvJ,KAAK0K,MAAMb,SACvC,yBAA0B7J,KAAK0K,MAAMlB,OAErC,2BAA4BxJ,KAAK0K,MAAMP,gBAAkBnK,KAAK0K,MAAMR,SAIpE,wBAAyBlK,KAAK0K,MAAMR,UAAYlK,KAAK0K,MAAMP,eAE3D,iCAAkCnK,KAAKqa,QACvC,cAAera,KAAKqa,SAAW5O,IAAeC,EAC9C,eAAgB1L,KAAKqa,UAAY5O,IAAeC,EAChD,YAAa1L,KAAKqa,SAAW3O,IAAcD,EAE/C,EAEA,OAAA4O,GACE,OAAOra,KAAK0K,MAAMjB,UAAYzJ,KAAK0K,MAAMjB,SAASzJ,KAAKiZ,oBAAsB,IAC/E,EACA,SAAAhP,GACE,MAAM,UAAEA,EAAS,WAAEV,EAAU,UAAEI,GAAc3J,KAAK0K,MAClD,OAAO1K,KAAK8G,OAAOmO,WAAWC,MAAQjL,IAAcV,GAA4B,IAAdI,CACpE,EACA,SAAAI,GACE,MAAM,WAAEkL,EAAU,KAAE7Y,GAAS4D,KAAK8G,OAClC,OAAOmO,EAAWiG,QAAUlb,KAAK0K,MAAMX,WAAa3N,IAAS4D,KAAKwJ,UAAYxJ,KAAKqa,SAAWra,KAAKqa,SAAWra,KAAKqa,QAAQ3O,YAA+B,UAAjB1L,KAAKiN,KAAK/R,EACrJ,EAEA,GAAAia,GACE,OAAOnV,KAAK8W,QAAQ3B,GACtB,IAGEgG,GAAwB/I,GAAY4G,GAAa,CAAC,CAAC,SAAU/B,MAC7DmE,GAAe,CAAC,aAAc,aAAc,eAAgB,cAAe,aAAc,UACzFC,GAAe,CACnBpgB,IAAK,EACLJ,MAAO,oBAEHygB,GAAe,CAAC,aAChBC,GAAe,CACnBtgB,IAAK,EACLJ,MAAO,uBAEH2gB,GAAe,CAAC,SACtB,SAASC,GAASvL,EAAMC,EAAQ5H,EAAQ6H,EAAQC,EAAOC,GACrD,MAAMoL,GAAmB,QAAiB,SAC1C,OAAO,WAAa,QAAY,IAAiB,CAC/C7gB,OAAO,QAAe,CAAC,eAAgByV,EAASqL,cAChDvgB,KAAM,eAAekV,EAASc,sBAC9BwK,IAAK,MACLvK,OAAQ9I,EAAO6E,QAAQkE,YACvBR,OAAO,QAAeR,EAASuL,aAC9B,CACDtK,SAAS,SAAQ,IAAM,GACpB,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAWjB,EAASwL,YAAcxL,EAASyL,OAAS,GAAG,CAACzc,EAAOmR,MAC3G,WAAa,QAAmB,MAAO,CAC5C5V,OAAO,QAAe,CAAC,oCAAqCyV,EAASwL,aAAexL,EAAS0L,aAAa1c,KAC1GrE,IAAKsN,EAAO6E,QAAQkE,YAAc,GAAGhB,EAASrD,KAAK/R,MAAMqN,EAAOgO,KAAKjN,WAAWmH,IAAMA,EACtF,eAAcH,EAASwL,aAAcxc,EAAMpE,GAC3CsW,OAAQ,GACR4F,SAAU,IACV,aAAc7O,EAAOgO,KAAKjN,QAC1B+N,QAASlH,EAAO,KAAOA,EAAO,GAAMc,GAAWX,EAAS2L,YAAYhL,IACpEsG,WAAYpH,EAAO,KAAOA,EAAO,IAAK,SAAUc,GAAWX,EAAS4L,oBAAoBjL,IAAS,CAAC,WAClG4G,aAAe5G,IAAYX,EAAS6L,YAAc7L,EAAS8L,iBAAiBnL,EAAQX,EAASwL,YAAcxc,EAAMpE,GAAK,MACtH6c,YAAc9G,IAAYX,EAAS6L,YAAc7L,EAAS+L,gBAAgBpL,EAAQX,EAASwL,YAAcxc,EAAMpE,GAAK,MACpH8V,QAASb,EAAO,KAAOA,EAAO,GAAMc,IAAYX,EAAS6L,YAAc7L,EAASgM,YAAYrL,IAC5FE,WAAYhB,EAAO,KAAOA,EAAO,GAAMc,IAAYX,EAAS6L,YAAc7L,EAASiM,eAAetL,IAClGuL,cAAerM,EAAO,KAAOA,EAAO,GAAMc,IAAYX,EAAS6L,YAAc5T,EAAO6E,QAAQqP,iBAAmBnM,EAASoM,kBAAkBzL,IAC1I+D,YAAa7E,EAAO,KAAOA,EAAO,GAAMc,IAAYX,EAAS6L,YAAc5T,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAIwH,cAAc1L,EAAQf,EAAKG,MAAO9H,EAAOgO,KAAKjD,YAChLsJ,WAAa3L,IAAYX,EAAS6L,YAAc5T,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAI0H,aAAa5L,EAAQf,EAAKG,MAAO9H,EAAOgO,KAAKjD,UAAWhD,EAASwL,YAAcxc,EAAMpE,GAAK,MACjMma,YAAalF,EAAO,KAAOA,EAAO,GAAMc,IAAYX,EAAS6L,YAAc5T,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAI2H,cAAc7L,EAAQf,EAAKG,MAAO9H,EAAOgO,KAAKjD,YAChLyJ,OAAS9L,IAAYX,EAAS6L,YAAc5T,EAAO0M,WAAWC,MAAQ5E,EAAS6E,KAAO7E,EAAS6E,IAAI6H,aAAa/L,EAAQf,EAAKG,MAAO9H,EAAOgO,KAAKjD,UAAWhD,EAASwL,YAAcxc,EAAMpE,GAAK,OAC5L,CACDqN,EAAO6E,QAAQ6P,iBAAmB1U,EAAO6E,QAAQhR,MAAQkU,EAAS4M,kBAAoB3U,EAAOiB,SAAU,WAAa,QAAmB,MAAO6R,GAAc,GACzJ,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAW/K,EAASxJ,OAAOqW,WAAW,CAAChK,EAAMjB,MACzF,WAAa,QAAmB,OAAQ,CAC7CrX,MAAO,kBACPI,IAAKiX,IACJ,QAAgBiB,EAAKhB,OAAQ,MAC9B,UACA,QAAmB,IAAI,GAC7B7B,EAAS4M,kBAAoB3U,EAAOiB,QAAU8G,EAAS8M,aAAa9hB,SAAU,SAAU,IAAO,QAAmB,KAAU,CAAEL,IAAK,IAAK,QAAWqV,EAAS8M,cAAc,CAACC,EAAOnL,MACzK,WAAa,QAAmB,MAAO,CAC5CrX,OAAO,QAAe,CAAC,wBAAyB,6BAA6BwiB,EAAMpX,OAAOoX,EAAMxiB,UAChGiW,OAAO,QAAe,WAAWuM,EAAMrC,iBAAiBqC,EAAMzV,UAC7D,CACDyV,EAAMlL,QAAS,WAAa,QAAmB,MAAO,CACpDlX,IAAK,EACLJ,MAAO,sBACPyiB,UAAWD,EAAMlL,OAChB,KAAM,EAAGmJ,MAAiB,QAAmB,IAAI,IACnD,MACD,OAAQ,QAAmB,IAAI,IACnC,QAAWpL,EAAKwB,OAAQ,eAAgB,CACtCxV,OAAQoU,EAASpU,OACjBgV,WAAaD,GAAWX,EAASY,WAAWD,GAAQ,GACpD3R,QAAOgR,EAASwL,aAAcxc,IAEhCgR,EAASiN,cAAgBjN,EAAS4M,iBAAwC,UAArB5M,EAASrD,KAAK/R,IAAkBqN,EAAO6E,QAAQoQ,qBAAsB,WAAa,QAAmB,MAAOjC,GAAc,GAC5K,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAWjL,EAASwL,YAAcxc,EAAMpD,OAASoU,EAASpU,QAAQ,CAACwO,EAAO+S,MACtH,WAAa,QAAY/B,EAAkB,CAChDzgB,IAAKwiB,EACL,sBAAuBlV,EAAOgO,KAAK3K,cACnClB,QACA,UAAWnC,EAAOiB,OAClB,cAAe8G,EAASwL,YAAcxc,EAAMpD,OAASoU,EAASpU,OAC9DsR,WAAY8C,EAASwL,YAAcxc,EAAMkO,SAAS9C,EAAMvB,MAAQ+G,EAAKpB,aAAapE,EAAMvB,QAAU,IAAIqE,SACtG,mBAAoB8C,EAASwL,YAAcxc,EAAMkO,SAAS9C,EAAMvB,MAAQ+G,EAAKpB,aAAapE,EAAMvB,QAAU,IAAIsE,SAC9G,kBAAmB6C,EAASwL,YAAcxc,EAAM6Z,eAAiBjJ,EAAKwN,oBACrE,CACDhT,OAAO,SAAQ,EAAGA,MAAOiT,EAAQ1Q,UAAW,EAC1C,QAAWiD,EAAKwB,OAAQ,QAAS,CAC/BzE,OACAvC,MAAOiT,OAGX3e,EAAG,GACF,KAAM,CAAC,sBAAuB,QAAS,UAAW,cAAe,WAAY,iBAAkB,uBAChG,UACA,QAAmB,IAAI,IAC5B,GAAIoc,OACL,MACJ9K,EAASsN,kBAAmB,WAAa,QAAmB,MAAO,CACjE/iB,MAAO,mBACPiW,OAAO,QAAe,QAAQR,EAASuN,wBACvC5iB,IAAKsN,EAAO6E,QAAQkE,YAAc,GAAGhB,EAASrD,KAAK/R,cAAgB,WACnEqC,MAAO+S,EAAS4C,MAAMjT,KAAKqB,WAAWgP,EAASxJ,OAAOvH,MACrD,KAAM,GAAIic,MAAiB,QAAmB,IAAI,MAEvDxc,EAAG,GACF,EAAG,CAAC,QAAS,OAAQ,SAAU,SACpC,CACA,MAAM8e,GAAc,CAClBnL,OAAQ,CAAC,SAAU,QAAS,UAAW,OAAQ,aAC/CyD,WAAY,CAAE+E,UACd7I,MAAO,CAELlF,QAAS,CAAEhQ,KAAMY,OAAQuT,QAAS,KAAM,CAAG,IAC3C0D,WAAY,CAAE7X,KAAMY,OAAQV,UAAU,GACtCiZ,KAAM,CAAEnZ,KAAMY,OAAQV,UAAU,GAChCygB,WAAY,CAAE3gB,KAAMyV,MAAOtB,QAAS,IAAM,IAC1CyM,aAAc,CAAE5gB,KAAM,CAACkZ,OAAQ,MAAO/E,QAAS,MAC/C0M,aAAc,CAAE7gB,KAAM,CAACkZ,OAAQ,MAAO/E,QAAS,MAC/CmC,UAAW,CAAEtW,KAAM,CAACkZ,OAAQD,SAAU9E,SAAS,GAC/C/H,OAAQ,CAAEpM,KAAMiZ,QAAS9E,SAAS,IAEpCgF,KAAM,KAAM,CACVzH,aAAc,CAAC,EACf4O,mBAAoB,EAIpBQ,aAAc,KACdC,aAAa,EAEbC,iBAAkB,OAEpBrL,QAAS,CACP,gBAAAsL,EAAiB,OAAE9L,IACjB,MAAM+L,EAAgB/L,EAAOgM,UAAUC,SAAS,sBAChD,IAAIlf,EAAQgf,EAAgB/L,EAASvS,KAAK8G,OAAO2X,aAAalM,EAAQ,sBAKtE,OAJIjT,IACFA,EAAQA,EAAMof,WAAW,cAActgB,MACnCqK,SAASnJ,GAAO6G,aAAe7G,EAAM6G,aAAY7G,EAAQmJ,SAASnJ,KAEjEA,GAAS,IAClB,EACA,YAAA0c,CAAa1c,GACX,MAAO,CACL,sBAAsB,EACtB,kCAAmCU,KAAKoe,mBAAqB9e,EAAMpE,GACnE,CAACoE,EAAMzE,SAAUyE,EAAMzE,MAE3B,EACA,0BAAAqS,GACMlN,KAAKoN,QAAQhR,MAAQ4D,KAAKud,cAAgBvd,KAAK8b,cACxB,IAArB9b,KAAKud,aACPvd,KAAK8O,aAAe,GACpB9O,KAAK0d,mBAAqB,IACpB1d,KAAK8O,aAAc9O,KAAK0d,oBAAsB1d,KAAKkT,MAAMxI,MAAMwC,2BAA2BlN,KAAK9D,OAAQ8D,KAAKoN,SAExH,EACA,mBAAAuR,CAAoBC,GAClB,OAAO5e,KAAK8G,OAAO6X,oBAAoBC,EACzC,EAIA,UAAA1N,CAAW8B,EAAUjM,GAAQ,GAC3B,MAAMzH,EAAQU,KAAK8b,YAAc9b,KAAKqe,iBAAiBrL,GAAY,KACnEhT,KAAKkT,MAAMC,KAAKjC,WAAWnK,EAAO/G,KAAKke,aAAc5e,GACrDU,KAAKke,aAAe,IACtB,EACA,mBAAAhC,CAAoBlJ,GACbhT,KAAK6e,YAAY7e,KAAKic,YAAYjJ,GACvC,MAAM1T,EAAQU,KAAK8b,YAAc9b,KAAKqe,iBAAiBrL,GAAY,KACnEhT,KAAKkT,MAAMC,KAAK2L,kBAAkB9e,KAAKke,aAAc5e,GACrDU,KAAKke,aAAe,IACtB,EAMA,WAAAjC,CAAYjJ,GACV,IAAKhT,KAAK6e,aAAe7e,KAAKmc,WAAY,CACxCnc,KAAK6e,WAAa7e,KAAKuW,KAAKjD,UAC5B,MAAMhU,EAAQU,KAAK8b,YAAc9b,KAAKqe,iBAAiBrL,GAAY,KAC7D/S,EAAOD,KAAKke,cAAgBle,KAAKuW,KAAKjD,UAC5CtT,KAAK8G,OAAOG,MAAM,aAAc3H,EAAQ,CAAEW,OAAMX,SAAUW,EAC5D,CACF,EACA,eAAAoc,CAAgBrJ,EAAU1T,EAAQ,KAAM8Z,GAAQ,GAC9C,GAAI,iBAAkB/R,SAAW+R,EAAO,OAAO,EAC1CpZ,KAAK6e,YAAY7e,KAAKic,YAAYjJ,GACvC,MAAM,eAAE+L,EAAc,aAAErF,GAAiB1Z,KAAKsH,UAC9CtH,KAAKsH,UAAU0X,0BAA2B,EAC1CD,EAAeE,cAAe,EAC9Bjf,KAAKke,aAAe,IAAI7d,KAAKL,KAAKuW,KAAKjD,WACvC,MAAM,QAAEvS,EAASqH,cAAc,EAAED,IAAQnI,KAAK8G,OAAOoY,gBAAgBlM,GACrEhT,KAAKke,aAAajc,WAAWlB,GAC7B,MAAMoe,EAAmBnf,KAAK2e,oBAAoB3L,EAAST,SACtD4M,GAAoBzF,EAAavQ,QACnCnJ,KAAKiN,KAAK/Q,OAAOwe,MAAMhT,GAAMA,EAAEyB,OAASuQ,EAAavQ,QAAS,CAAC,GAAGiB,SAAU,GAE3EpK,KAAKiV,WAAWmK,SAAWD,GAAkBnf,KAAKqf,mBAAmBrM,EAAU7K,EACrF,EACA,kBAAAkX,CAAmBrM,EAAUsM,GAC3B,GAAItf,KAAKoN,QAAQmS,mBAAqB,CAAC,OAAQ,OAAOtQ,SAASjP,KAAKiN,KAAK/R,IAAK,CAC5E,MAAM,kBAAEskB,GAAsBxf,KAAKsH,UAInC,GAHAkY,EAAkBF,aAAeA,EACjCE,EAAkBlgB,MAAQU,KAAK8b,YAAc9b,KAAKqe,iBAAiBrL,GAAY,KAC/EwM,EAAkBpc,MAAQpD,KAAKke,aAC3Ble,KAAKoN,QAAQqS,WAAY,CAC3B,IAAIC,EAA6C,GAA/B1f,KAAKke,aAAahe,WAAkBF,KAAKke,aAAa/d,aACxE,MAAMwf,EAAmBD,EAAc1f,KAAKoN,QAAQqS,WAAa,EACjEC,EAAcC,EAAmBA,EAAmB3f,KAAKoN,QAAQqS,WACjED,EAAkBpc,MAAMpB,SAAS,EAAG0d,EAAa,EAAG,EACtD,CACF,MAAW1f,KAAKoN,QAAQwS,eAAiB,CAAC,QAAS,OAAQ,OAAO3Q,SAASjP,KAAKiN,KAAK/R,KACnF8E,KAAK6f,mBAAmB7M,EAE5B,EAEA,kBAAA6M,CAAmB7M,GACjB,MAAM,eAAE+L,GAAmB/e,KAAKsH,UAChCyX,EAAee,OAAS,GAAG9f,KAAK8G,OAAO9H,EAAE4L,OAAO5K,KAAKuW,KAAK3K,gBAC1DmT,EAAezf,MAAQU,KAAK8b,YAAc9b,KAAKqe,iBAAiBrL,GAAY,KAC5E+L,EAAelF,UAAY1a,YAAW,KACpC,GAAI4f,EAAee,SAAW9f,KAAKsH,UAAU0X,yBAA0B,CACrE,MAAM,KAAE7V,GAASnJ,KAAKkT,MAAMxI,MAAML,cAChCrK,KAAKke,aACL,KACAa,EAAezf,MAAQ,CAAEA,MAAOyf,EAAezf,OAAU,CAAC,GAE5Dyf,EAAeE,aAAe9V,CAChC,IACC4V,EAAetX,QACpB,EACA,gBAAA2U,CAAiBpJ,EAAU1T,EAAQ,MACjCU,KAAKqc,gBAAgBrJ,EAAU1T,GAAO,EACxC,EACA,WAAAgd,CAAYtJ,GACLhT,KAAK2e,oBAAoB3L,EAAST,SAASvS,KAAKkR,WAAW8B,EAClE,EACA,cAAAuJ,CAAevJ,GACb,MAAM/S,EAAO,IAAII,KAAKL,KAAKuW,KAAKjD,WAChCrT,EAAKgC,WAAWjC,KAAK8G,OAAOoY,gBAAgBlM,GAAUjS,SACtD,MAAMzB,EAAQU,KAAK8b,YAAc9b,KAAKqe,iBAAiBrL,GAAY,KACnEhT,KAAK8G,OAAOG,MAAM,gBAAiB3H,EAAQ,CAAEW,OAAMX,SAAUW,GACzDD,KAAKoN,QAAQhG,oBAAoBpH,KAAK8G,OAAOK,sBACnD,EACA,iBAAAuV,CAAkB1J,GAChBA,EAAS+M,kBACT/M,EAAS+G,iBACT,MAAM9Z,EAAO,IAAII,KAAKL,KAAKuW,KAAKjD,YAC1B,aAAElL,EAAY,QAAErH,GAAYf,KAAK8G,OAAOoY,gBAAgBlM,GAC9D/S,EAAKgC,WAAWlB,GAChB,MAAMzB,EAAQU,KAAK8b,YAAc9b,KAAKqe,iBAAiBrL,GAAY,KACnEhT,KAAK8G,OAAOG,MAAM,mBAAoB,CAAEhH,UAASmI,KAAiB9I,GAAS,CAAC,EAAGoI,GACjF,GAEF0L,SAAU,CAER,GAAA+B,GACE,OAAOnV,KAAK8W,QAAQ3B,GACtB,EACA,YAAA6K,GACE,OAAOhgB,KAAKkT,MAAMjT,KAAKwK,cAAczK,KAAK8G,OAAOvH,IACnD,EACA,eAAA0gB,GACE,OAA6B,OAAtBjgB,KAAKge,cAAyBhe,KAAKge,aAAehe,KAAKuW,KAAK2J,QAAQrc,SAC7E,EACA,cAAAsc,GACE,OAAOngB,KAAKie,cAAgBje,KAAKie,aAAeje,KAAKuW,KAAKjD,UAAUzP,SACtE,EAEA,UAAAsY,GACE,MAAM,YAAEiE,GAAgBpgB,KAAKoN,SACvB,kBAAEiT,GAAsBrgB,KAAK8G,OACnC,SAAIsZ,EAAY9kB,SAAU8kB,EAAYnR,SAASjP,KAAKuW,KAAK3K,gBAAmByU,KACrErgB,KAAKigB,iBAAmBjgB,KAAKmgB,eACtC,EAEAtB,WAAY,CACV,GAAApI,GACE,IAAI6J,GAAW,EACf,MAAM,aAAErN,GAAiBjT,KAAKiN,KAM9B,OAJEqT,EADmB,UAAjBtgB,KAAKiN,KAAK/R,GACD+X,EAAatR,gBAAkB3B,KAAKuW,KAAKjD,UAAU3R,cACpC,SAAjB3B,KAAKiN,KAAK/R,GACR+X,EAAatR,gBAAkB3B,KAAKuW,KAAKjD,UAAU3R,eAAiBsR,EAAarR,aAAe5B,KAAKuW,KAAKjD,UAAU1R,WAC/GqR,EAAapP,YAAc7D,KAAKuW,KAAKjD,UAAUzP,UAC1Dyc,CACT,EACA,GAAA5J,CAAIzW,GACFD,KAAKiN,KAAKgG,aAAehT,EACzBD,KAAK8G,OAAOG,MAAM,uBAAwBjH,KAAKiN,KAAKgG,aACtD,GAGF,eAAAiK,GACE,MAAO,CAAC,OAAQ,OAAOjO,SAASjP,KAAKiN,KAAK/R,GAC5C,EACA,mBAAAkW,GACE,OAAOpR,KAAK8G,OAAOsK,mBACrB,EACA,YAAAgM,GACE,OAAOpd,KAAKuW,KAAK6G,aAAa7O,KAAK8O,IACjC,IAAI,KAAEkD,EAAI,GAAEC,GAAOnD,EAGnB,OAFAkD,EAAO9d,KAAKiG,IAAI6X,EAAMvgB,KAAKoN,QAAQ9E,UACnCkY,EAAK/d,KAAKkG,IAAI6X,EAAIxgB,KAAKoN,QAAQ0N,QACxB,IACFuC,EACHrC,QAASwF,EAAKD,GAAQvgB,KAAKygB,UAC3B7Y,KAAM2Y,EAAOvgB,KAAKoN,QAAQ9E,UAAYtI,KAAKygB,UAC5C,GAEL,EACA,MAAAvkB,GACE,MAAQoX,UAAWoN,EAAWR,QAASS,GAAY3gB,KAAKuW,KACxD,IAAIra,EAAS,GACb,IAAM,CAAC,QAAS,QAAQ+S,SAASjP,KAAKiN,KAAK/R,KAAQ8E,KAAKoN,QAAQwT,sBAAwB,CAOtF,GANA1kB,EAAS8D,KAAKiN,KAAK/Q,OAAOmR,MAAM,GACX,UAAjBrN,KAAKiN,KAAK/R,IACZgB,EAAOiP,QAAQnL,KAAKiN,KAAK4T,kBAE3B3kB,EAASA,EAAO8Q,QAAQtF,GAAM1H,KAAKkT,MAAMxI,MAAMkD,aAAalG,EAAGgZ,EAAWC,KACtE3gB,KAAKoN,QAAQ0T,kBAAqC,UAAjB9gB,KAAKiN,KAAK/R,KAAgBgB,EAASA,EAAO8Q,QAAQtF,KAAQA,EAAE8B,SAAWxJ,KAAKwJ,UAC7GxJ,KAAKoN,QAAQhR,MAAQ4D,KAAKkd,kBAAoBld,KAAKwJ,OAAQ,CAC7D,MAAM,SAAElB,EAAQ,OAAEwS,GAAW9a,KAAKoN,QAClClR,EAASA,EAAO8Q,QAAQtF,IACtB,MAAM2S,EAAU3S,EAAEiC,UAAY,GAAKjC,EAAE+B,SAASzJ,KAAKuW,KAAK3K,gBAAkB,CAAC,EACrEmV,EAAmC,IAAhBrZ,EAAEiC,WAAmBjC,EAAE0B,iBAAmB0R,GAAUpT,EAAE2B,eAAiBf,EAC1F0Y,EAAqBtZ,EAAEiC,UAAY,GAAM0Q,EAAQjR,iBAAmB0R,GAAUT,EAAQhR,eAAiBf,EACvG2Y,GAAuB,EAC7B,OAAOvZ,EAAE8B,QAAUuX,GAAoBC,GAAsBC,CAAoB,GAErF,EACIjhB,KAAKoN,QAAQhR,OAAQ4D,KAAKkd,iBAAqBld,KAAKoN,QAAQ0T,kBAAoB9gB,KAAKwJ,QACvFtN,EAAOuS,MAAK,CAACC,EAAGC,IAAMD,EAAEtL,MAAQuL,EAAEvL,OAAS,EAAI,IAE5CpD,KAAK+d,WAAWziB,QAAQ0E,KAAKkhB,UAAUlhB,KAAKkN,2BACnD,CACA,OAAOhR,CACT,EACA,WAAAqhB,GACE,OAAOvd,KAAK9D,OAAOZ,MACrB,EACA,MAAAygB,GACE,OAAO/b,KAAK+d,WAAWxP,KAAI,CAACF,EAAMoC,KAChC,MAAMvU,EAAS8D,KAAK9D,OAAO8Q,QAAQtF,GAAMA,EAAEpI,QAAU+O,EAAKnT,MACnDsS,EAAUuB,GAAU/O,KAAKkT,MAAMxI,MAAMwC,2BAA2BhR,EAAO8Q,QAAQtF,IAAOA,EAAE6B,aAAe7B,EAAE8B,SAASxJ,KAAKoN,SAC9H,MAAO,IACFiB,EACHb,WACA2L,eAAgBpK,EAChB7S,SACD,GAEL,EACA,WAAA4f,GACE,OAAO9b,KAAK+b,OAAOzgB,MACrB,EACA,WAAAqgB,GACE,MAAO,CACL,CAAC3b,KAAKuW,KAAK1b,SAAUmF,KAAKuW,KAAK1b,MAC/B,wBAAyBmF,KAAKuW,KAAK4K,QAEnC,sBAAuBnhB,KAAKuW,KAAK5F,MACjC,6BAA8B3Q,KAAKuW,KAAK6K,WACxC,2BAA4BphB,KAAKmc,YAAcnc,KAAKigB,gBACpD,0BAA2BjgB,KAAKmc,YAAcnc,KAAKmgB,eACnD,yBAA0BngB,KAAKmc,WAC/B,yBAA0Bnc,KAAK6e,WAC/B,4BAA6B7e,KAAKme,YAClC,2BAA4Bne,KAAK8b,YACjC,2BAA4B9b,KAAKud,YAErC,EACA,UAAA1B,GACE,MAAO,IAEF7b,KAAK0T,UAAY,CAAEI,MAAO,GAAG9T,KAAK0T,cAAiB,CAAC,EAE3D,EACA,eAAAkK,GACE,MAAM,KAAExhB,EAAI,OAAE0e,GAAW9a,KAAKoN,QAC9B,OAAOpN,KAAKuW,KAAK5F,OAAS3Q,KAAKkd,iBAAmB9gB,IAAS4D,KAAKwJ,QAAUxJ,KAAKggB,cAAgBlF,CACjG,EACA,kBAAA+C,GACE,IAAK7d,KAAKuW,KAAK5F,QAAU3Q,KAAKoN,QAAQhR,KAAM,OAC5C,MAAMye,EAAiB7a,KAAKggB,aAAehgB,KAAKoN,QAAQ9E,SACxD,OAAO7F,KAAKgD,MAAMoV,EAAiB7a,KAAKygB,UAC1C,EACA,SAAAA,GACE,OAAOzgB,KAAKoN,QAAQ/E,eAAiBrI,KAAKoN,QAAQzJ,QACpD,IAGE0d,GAAuBjP,GAAY0L,GAAa,CAAC,CAAC,SAAUrC,MAC5D6F,GAAe,CACnBrmB,IAAK,EACLJ,MAAO,uBACPiW,MAAO,CAAE,MAAS,QAEpB,SAASyQ,GAASrR,EAAMC,EAAQ5H,EAAQ6H,EAAQC,EAAOC,GACrD,MAAMkR,GAAyB,QAAiB,eAChD,OAAO,WAAa,QAAmB,MAAO,CAC5C3mB,MAAO,+BACPiW,OAAO,QAAevI,EAAOkZ,qBAAuB,CAAEzG,OAAQzS,EAAOyS,UACpE,CACAzS,EAAOkZ,qBAEF,QAAmB,IAAI,KAFE,WAAa,QAAmB,MAAOH,GAAc,EAClF,QAAmB,OAAQ,MAAM,QAAgB/Y,EAAO4J,OAAQ,OAElE,QAAmB,MAAO,CACxBtX,OAAO,QAAe,CAAC,6BAA8B,GAAGyV,EAASrD,KAAK/R,YACtEyU,KAAM,GACNmB,OAAO,QAAevI,EAAOkZ,oBAAsB,cAAclZ,EAAOkZ,wBAA0B,KACjG,GACA,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAWlZ,EAAOmZ,OAAO,CAACvO,EAAM1C,MAC5E,WAAa,QAAY+Q,EAAwB,CACtDvmB,IAAKwV,EACLrD,QAAS7E,EAAO6E,QAChB,cAAekD,EAAS2E,WACxBsB,KAAMpD,EACN,WAAW,EACX,aAAc5K,EAAO6E,QAAQyG,aAAavY,SAAWgV,EAASxJ,OAAO6a,YAAcrR,EAASxJ,OAAO8a,cAAgBtR,EAASxJ,OAAO4M,UACnI,gBAAiBnL,EAAO6E,QAAQ4Q,aAChC,gBAAiBzV,EAAO6E,QAAQ6Q,aAChC,cAAe1V,EAAO0J,WACrB,CACDvH,OAAO,SAAQ,EAAGA,QAAOuC,UAAW,EAClC,QAAWiD,EAAKwB,OAAQ,QAAS,CAC/BzE,OACAvC,aAGJ1L,EAAG,GACF,KAAM,CAAC,UAAW,cAAe,OAAQ,aAAc,gBAAiB,gBAAiB,mBAC1F,OACH,IACF,EACL,CACA,MAAM6iB,GAAc,CAClBlP,OAAQ,CAAC,SAAU,OAAQ,cAC3ByD,WAAY,CAAE,cAAeiL,IAC7B/O,MAAO,CAELlF,QAAS,CAAEhQ,KAAMY,OAAQV,UAAU,GACnCokB,MAAO,CAAEtkB,KAAMyV,MAAOvV,UAAU,GAChC6U,MAAO,CAAE/U,KAAMwV,OAAQtV,UAAU,GACjC2U,UAAW,CAAE7U,KAAMyV,MAAOtB,QAAS,IAAM,IACzCuQ,YAAa,CAAE1kB,KAAMiZ,QAAS9E,SAAS,GACvCyJ,OAAQ,CAAE5d,KAAMwV,OAAQrB,QAAS,IACjCkQ,oBAAqB,CAAErkB,KAAMkZ,OAAQ/E,QAAS,OAEhD6B,SAAU,CACR,mBAAA2O,GACE,SAAU/hB,KAAKoN,QAAQ4U,cAAgBhiB,KAAKiS,UAAU3W,QAAU0E,KAAKoN,QAAQyJ,cAC/E,IAGEoL,GAA4B7P,GAAYyP,GAAa,CAAC,CAAC,SAAUN,MACjE,GAAa,CAAC,QACd,GAAa,CAAE1mB,MAAO,WACtB,GAAa,CACjBI,IAAK,EACLJ,MAAO,4BACP8U,KAAM,IAEF,GAAa,CAAC,SAAU,aACxB,GAAa,CAAC,aACd,GAAa,CAAC,aACd,GAAa,CACjB9U,MAAO,eACPqnB,IAAK,GACLvS,KAAM,IAEF,GAAa,CACjB1U,IAAK,EACLJ,MAAO,uBAEH,GAAa,CAAEA,MAAO,2BACtB,GAAc,CAClBI,IAAK,EACLJ,MAAO,oCACP2W,OAAQ,IAEJ,GAAc,CAAC,OAAQ,UACvB,GAAc,CAAC,SAAU,aACzB,GAAc,CAAC,aACf,GAAc,CAAC,aACf,GAAc,CAAC,QACf,GAAc,CAAC,aACf,GAAc,CAAC,aACf,GAAc,CAClBvW,IAAK,EACLJ,MAAO,6BAEH,GAAc,CAClBI,IAAK,EACLJ,MAAO,oBAEH,GAAc,CAAC,SAAU,aACzB,GAAc,CAAC,aACf,GAAc,CAClBI,IAAK,EACLJ,MAAO,sBAEH,GAAc,CAAEI,IAAK,GACrB,GAAc,CAClBA,IAAK,EACLJ,MAAO,eAEH,GAAc,CAAC,aACf,GAAc,CAClBI,IAAK,EACLJ,MAAO,2BAET,SAAS,GAAOqV,EAAMC,EAAQ5H,EAAQ6H,EAAQC,EAAOC,GACnD,MAAM6R,GAA2B,QAAiB,iBAC5CC,GAAyB,QAAiB,eAC1C1N,GAA+B,QAAiB,qBAChD8M,GAAyB,QAAiB,eAChD,OAAO,WAAa,QAAmB,MAAO,CAC5C3mB,OAAO,QAAe,CAAC,sBAAuByV,EAAS+R,aACvD7Q,OAAQ,GACR8Q,IAAK,SACLC,KAAMha,EAAOia,QACZ,EACD,QAAYL,EAA0B,CACpC/U,QAAS8C,EAAK3H,OACd,cAAe+H,EAAS2E,WACxB,aAAc,CAAEJ,MAAOvE,EAASuE,MAAOmB,iBAAkB1F,EAAS0F,kBAClE,YAAa1F,EAAS/J,SACtB,aAAc+J,EAASyB,UACvB,aAAczB,EAAS2B,UACvB,0BAA2B3B,EAASnJ,uBACnC,QAAY,CACb,cAAc,SAAQ,IAAM,EAC1B,QAAW+I,EAAKwB,OAAQ,aAAc,CAAC,GAAG,IAAM,CAC9CvB,EAAO,KAAOA,EAAO,IAAK,QAAgB,MAC1CA,EAAO,KAAOA,EAAO,IAAK,QAAmB,IAAK,CAAEtV,MAAO,SAAW,MAAO,IAC7EsV,EAAO,KAAOA,EAAO,IAAK,QAAgB,YAG9C,cAAc,SAAQ,IAAM,EAC1B,QAAWD,EAAKwB,OAAQ,aAAc,CAAC,GAAG,IAAM,CAC9CvB,EAAO,KAAOA,EAAO,IAAK,QAAgB,MAC1CA,EAAO,KAAOA,EAAO,IAAK,QAAmB,IAAK,CAAEtV,MAAO,SAAW,MAAO,IAC7EsV,EAAO,KAAOA,EAAO,IAAK,QAAgB,YAG9C,gBAAgB,SAAQ,IAAM,EAC5B,QAAWD,EAAKwB,OAAQ,eAAgB,CAAC,GAAG,IAAM,EAChD,QAAmB,OAAQ,IAAY,QAAgBrB,EAAMvQ,MAAM6Q,OAAQ,SAG/EpT,OAAO,SAAQ,IAAM,EACnB,QAAW2S,EAAKwB,OAAQ,QAAS,CAC/BnU,MAAO+S,EAASmS,UAChBxV,KAAMoD,EAAMpD,OACX,IAAM,EACP,SAAgB,QAAgBqD,EAASmS,WAAY,SAGzDzjB,EAAG,GACF,CACDkR,EAAKwB,OAAO,mBAAqB,CAC/BtW,KAAM,kBACN6a,IAAI,SAAQ,EAAGzF,UAASvD,UAAW,EACjC,QAAWiD,EAAKwB,OAAQ,kBAAmB,CACzClB,UACAvD,YAGJhS,IAAK,UACH,EACJiV,EAAKwB,OAAO,eAAiB,CAC3BtW,KAAM,cACN6a,IAAI,SAAQ,EAAG3W,WAAY,EACzB,QAAW4Q,EAAKwB,OAAQ,cAAe,CACrCpS,QACA2N,KAAMoD,EAAMpD,KAAK/R,QAGrBD,IAAK,UACH,IACF,KAAM,CAAC,UAAW,cAAe,aAAc,YAAa,aAAc,aAAc,4BAC3FsN,EAAOma,UAiQF,QAAmB,IAAI,KAjQT,WAAa,QAAmB,MAAO,GAAY,EACrE,QAAY,KAAY,CACtBtnB,KAAM,eAAeiV,EAAMe,sBAC3BC,OAAQ9I,EAAO+I,aACd,CACDC,SAAS,SAAQ,IAAM,GACpB,WAAa,QAAmB,MAAO,CACtC1W,MAAO,eACPiW,MAAO,CAAE,YAAa,QACtB7V,MAAKsN,EAAO+I,aAAcjB,EAAMpD,KAAK/R,GACrCsW,OAAQ,IACP,CACDjJ,EAAOuY,kBAAoBxQ,EAASqS,iBAAmBrS,EAASmR,qBAAuBnR,EAASsS,YAAcra,EAAOsO,iBAAkB,WAAa,QAAYuL,GAAwB,SAAe,QAAW,CAAEnnB,IAAK,GAAKqV,EAASuS,YAAa,CAClPnY,OAAO,SAAQ,EAAGA,QAAOuC,UAAW,EAClC,QAAWiD,EAAKwB,OAAQ,QAAS,CAC/BzE,OACAvC,UACC,IAAM,CACP4F,EAAS2E,WAAW1X,OAASmN,EAAMZ,gBAAiB,WAAa,QAAmB,MAAO,CACzF7O,IAAK,EACLJ,MAAO,gDACPie,gBAAiB,GACjBgK,OAAS7R,GAAWX,EAASyS,iBAAiB9R,EAAQvG,GACtD4S,UAAW5S,EAAMnN,OAChB,KAAM,GAAI,KAAemN,EAAMnN,QAAS,WAAa,QAAmB,MAAO,CAChFtC,IAAK,EACLJ,MAAO,sBACPyiB,UAAW5S,EAAMnN,OAChB,KAAM,EAAG,MAAe,QAAmB,IAAI,IAClDmN,EAAMpB,SAAYgH,EAAS0S,gBAAmB1S,EAAS2S,kBAI5B,QAAmB,IAAI,KAJyB,WAAa,QAAmB,MAAO,CAChHhoB,IAAK,EACLJ,MAAO,wBACPyiB,UAAW5S,EAAMpB,SAChB,KAAM,EAAG,WAGhBtK,EAAG,GACF,MAAO,QAAmB,IAAI,IACjC,QAAmB,MAAO,CACxBnE,OAAO,QAAe,CAAC,aAAc,CAAEqoB,cAAe5S,EAASqS,iBAC/DnR,OAAQ,IACP,EACD,QAAmB,MAAO,GAAY,CACpClB,EAASqS,gBAAiB,WAAa,QAAmB,MAAO,GAAY,CAC3Epa,EAAOuY,kBAAoBxQ,EAASmR,uBAAyBnR,EAASsS,WAAcra,EAAOsO,iBAAkB,WAAa,QAAmB,MAAO,CAClJ5b,IAAK,EACLJ,MAAO,uBACPiW,OAAO,QAAe,CAAEkK,OAAQ1K,EAASuS,UAAU7H,UAClD,EACD,QAAmB,OAAQ,MAAM,QAAgB3K,EAAMvQ,MAAM0J,QAAS,IACrE,KAAM,QAAmB,IAAI,KAC/B,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAW8G,EAAS6M,WAAW,CAAChK,EAAM1C,MAClF,WAAa,QAAmB,MAAO,CAC5C5V,MAAO,oBACPI,IAAKwV,EACLK,OAAO,QAAe,WAAWvI,EAAOF,qBACvC,EACD,QAAW6H,EAAKwB,OAAQ,YAAa,CACnC9Q,MAAOuS,EAAKvS,MACZG,QAASoS,EAAKpS,UACb,IAAM,CACPoP,EAAO,KAAOA,EAAO,IAAK,QAAmB,OAAQ,CAAEtV,MAAO,0BAA4B,MAAO,KACjG,QAAmB,OAAQ,IAAY,QAAgBsY,EAAKhB,OAAQ,OAErE,MACD,UACA,QAAmB,IAAI,GAC7B5J,EAAO4a,iBAAmB7S,EAASsR,cAAe,WAAa,QAAmB,MAAO,GAAa,GACnG,WAAa,QAAmB,KAAU,MAAM,QAAW,GAAInR,IACvD,QAAmB,MAAO,CAC/B5V,MAAO,wCACPI,IAAKwV,EACLd,KAAM,IACL,EACD,QAAWO,EAAKwB,OAAQ,mBAAoB,CAC1C0R,KAAM9S,EAAS+S,cAAc5S,EAAI,KAChC,IAAM,EACP,SAAgB,QAAgBH,EAAS+S,cAAc5S,EAAI,IAAK,UAGlE,SACA,QAAmB,IAAI,IAC7B,QAAmB,MAAO,CACxB5V,OAAO,QAAe,CAAC,6BAA8B,GAAGwV,EAAMpD,KAAK/R,YACnEyU,KAAM,GACN2T,MAAOhT,EAASmR,sBAAwBnR,EAASqR,WACjDnQ,SAAUlB,EAASmR,qBAClB,CACDnR,EAASmR,qBAAuBnR,EAASqR,aAAc,WAAa,QAAYjN,EAA8B,CAC5GzZ,IAAK,EACL,uBAAwBoV,EAAMe,oBAC9B,YAAad,EAAS/J,SACtB,0BAA2B+J,EAASnJ,qBACpC2J,OAAO,QAAeR,EAASmR,oBAAsB,cAAcnR,EAASmR,wBAA0B,MACrG,QAAY,CAAEziB,EAAG,GAAK,CACvBkR,EAAKwB,OAAO,mBAAqB,CAC/BtW,KAAM,kBACN6a,IAAI,SAAQ,EAAGzF,UAASvD,UAAW,EACjC,QAAWiD,EAAKwB,OAAQ,kBAAmB,CACzClB,UACAvD,YAGJhS,IAAK,UACH,EACJiV,EAAKwB,OAAO,eAAiB,CAC3BtW,KAAM,cACN6a,IAAI,SAAQ,EAAG3W,WAAY,EACzB,QAAW4Q,EAAKwB,OAAQ,cAAe,CACrCpS,QACA2N,KAAMoD,EAAMpD,KAAK/R,QAGrBD,IAAK,UACH,IACF,KAAM,CAAC,uBAAwB,YAAa,0BAA2B,WAAaqV,EAASyB,WAAaxJ,EAAOyJ,mBAAqBzJ,EAAOsO,gBAAiB,WAAa,QAAmB,MAAO,CACvM5b,IAAK,EACLJ,MAAO,0CACPiW,OAAO,QAAeR,EAASmR,oBAAsB,cAAcnR,EAASmR,wBAA0B,KACrG,GACA,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAWnR,EAAS2B,WAAW,CAAC3S,EAAOmR,MACnF,WAAa,QAAmB,MAAO,CAC5C5V,OAAO,QAAe,CAAC,mBAAoByE,EAAMzE,QAAS,IAC1DI,IAAKwV,GACJ,EACD,QAAWP,EAAKwB,OAAQ,cAAe,CACrCpS,QACA2N,KAAMoD,EAAMpD,KAAK/R,KAChB,IAAM,EACP,SAAgB,QAAgBoE,EAAM6S,OAAQ,OAE/C,MACD,OACH,KAAM,QAAmB,IAAI,GAChC5J,EAAOuY,kBAAoBxQ,EAASqS,gBAAkBrS,EAASqR,YAAcrR,EAASmR,qBAAuBnR,EAASsS,WAAatS,EAASyB,WAAaxJ,EAAOsO,iBAAkB,WAAa,QAAYuL,GAAwB,SAAe,QAAW,CAAEnnB,IAAK,GAAKqV,EAASuS,YAAa,CAC7RnY,OAAO,SAAQ,EAAGA,QAAOuC,UAAW,EAClC,QAAWiD,EAAKwB,OAAQ,QAAS,CAC/BzE,OACAvC,UACC,IAAM,CACP4F,EAAS2E,WAAW1X,OAASmN,EAAMZ,gBAAiB,WAAa,QAAmB,MAAO,CACzF7O,IAAK,EACLJ,MAAO,gDACPie,gBAAiB,GACjBgK,OAAS7R,GAAWX,EAASyS,iBAAiB9R,EAAQvG,GACtD4S,UAAW5S,EAAMnN,OAChB,KAAM,GAAI,KAAgBmN,EAAMnN,QAAS,WAAa,QAAmB,MAAO,CACjFtC,IAAK,EACLJ,MAAO,sBACPyiB,UAAW5S,EAAMnN,OAChB,KAAM,EAAG,MAAgB,QAAmB,IAAI,IACnDmN,EAAMpB,SAAYgH,EAAS0S,gBAAmB1S,EAAS2S,kBAI3B,QAAmB,IAAI,KAJwB,WAAa,QAAmB,MAAO,CAChHhoB,IAAK,EACLJ,MAAO,wBACPyiB,UAAW5S,EAAMpB,SAChB,KAAM,EAAG,WAGhBtK,EAAG,GACF,MAAO,QAAmB,IAAI,IACjC,QAAmB,MAAO,CACxBnE,MAAO,eACPynB,IAAM1D,GAAOvO,EAAMxI,QAAU+W,EAC7BjP,KAAM,GACN2T,MAAOhT,EAASmR,sBAAwBnR,EAASqR,WACjD7Q,OAAO,QAAeR,EAASmR,oBAAsB,cAAcnR,EAASmR,wBAA0B,KACrG,GACA,SAAU,IAAO,QAAmB,KAAU,MAAM,QAAWnR,EAASiT,WAAW,CAACpQ,EAAM1C,MAClF,WAAa,QAAY+Q,EAAwB,CACtDvmB,IAAKwV,EACLrD,QAAS8C,EAAK3H,OACd,cAAe+H,EAAS2E,WACxBsB,KAAMpD,EACN,aAAc5K,EAAOsL,aAAavY,SAAWgV,EAASqR,YAAcrR,EAASsR,cAAgBtR,EAASoD,UACtG,gBAAiBpD,EAAS0N,aAC1B,gBAAiB1N,EAAS2N,aAC1B,cAAe3N,EAASyB,WAAazB,EAAS2B,WAAa,IAC1D,CACD,gBAAgB,SAAQ,EAAG/V,SAAQoD,QAAO4R,gBAAiB,EACzD,QAAWhB,EAAKwB,OAAQ,eAAgB,CACtCyB,OACAlG,KAAMoD,EAAMpD,KACZuW,WAAYtS,EACZhV,WACC,IAAM,CACPoD,IAAUiJ,EAAOyJ,oBAAqB,WAAa,QAAmB,MAAO,CAC3E/W,IAAK,EACLJ,MAAO,cACPyiB,UAAWhe,EAAM6S,OAChB,KAAM,EAAG,MAAgB,QAAmB,IAAI,GACnDgB,EAAK7J,UAAW,WAAa,QAAmB,MAAO,CACrDrO,IAAK,EACLJ,MAAO,oBACPyiB,UAAWnK,EAAK7J,SACf,KAAM,EAAG,MAAgB,QAAmB,IAAI,IAClDgH,EAASsR,cAAgBrZ,EAAOiV,mBAAqBlN,EAAS+P,mBAAqB9X,EAAOqY,wBAA0B1kB,EAAOZ,SAAU,WAAa,QAAmB,MAAO,GAAa,EACxL,QAAW4U,EAAKwB,OAAQ,eAAgB,CACtCzE,KAAMoD,EAAMpD,KACZ/Q,WACC,IAAM,EACP,SAAgB,QAAgBA,EAAOZ,QAAS,UAE9C,QAAmB,IAAI,IAC5BgV,EAASmT,qBAAqBvnB,EAAQoD,IAAUgR,EAAS4M,kBAAmB,WAAa,QAAmB,MAAO,GAAa,EAC/H,QAAWhN,EAAKwB,OAAQ,WAAY,CAAC,GAAG,IAAM,EAC5C,SAAgB,QAAgBrB,EAAMvQ,MAAM4jB,SAAU,UAEpD,QAAmB,IAAI,SAGjChZ,OAAO,SAAQ,EAAGA,QAAOuC,UAAW,EAClC,QAAWiD,EAAKwB,OAAQ,QAAS,CAC/BzE,OACAvC,UACC,IAAM,CACP4F,EAAS2E,WAAW1X,OAASmN,EAAMZ,gBAAiB,WAAa,QAAmB,MAAO,CACzF7O,IAAK,EACLJ,MAAO,gDACPie,gBAAiB,GACjBgK,OAAS7R,GAAWX,EAASyS,iBAAiB9R,EAAQvG,GACtD4S,UAAW5S,EAAMnN,OAChB,KAAM,GAAI,KAAgBmN,EAAMnN,QAAS,WAAa,QAAmB,MAAO,CACjFtC,IAAK,EACLJ,MAAO,sBACPyiB,UAAW5S,EAAMnN,OAChB,KAAM,EAAG,MAAgB,QAAmB,IAAI,IACnDgL,EAAOnM,MAASsO,EAAMlB,QAAY8G,EAASsR,cAAgBlX,EAAMlB,QAAsC,UAA5BjB,EAAOuY,mBAAmCxQ,EAAS2S,kBAIxH,QAAmB,IAAI,KAJqH,WAAa,QAAmB,MAAO,GAAa,EACpM,SAAgB,QAAgB5S,EAAM6C,MAAMjT,KAAKqB,WAAWoJ,EAAMtH,MAAOkN,EAASqT,aAAc,GAChGjZ,EAAMrB,iBAAkB,WAAa,QAAmB,OAAQ,GAAa,OAAQ,QAAgBgH,EAAM6C,MAAMjT,KAAKqB,WAAWoJ,EAAMrH,IAAKiN,EAASqT,WAAY,MAAM,IAAQ,KAAM,QAAmB,IAAI,GAC5MjZ,EAAMf,UAAY,IAAMe,EAAMjB,SAAS0J,EAAKvH,gBAAkB,CAAC,GAAGH,aAAc,WAAa,QAAmB,QAAS,GAAa,MAAO,QAAgBf,EAAMf,UAAY,IAAK,SAAiB0G,EAAMvQ,MAAMmG,IAAI,IAAM,IAAI2d,eAAgB,KAAM,QAAmB,IAAI,OAE9QlZ,EAAMpB,SAAagH,EAASsR,aAAelX,EAAMlB,QAAsC,UAA5BjB,EAAOuY,kBAAkCxQ,EAAS2S,kBAIjF,QAAmB,IAAI,KAJ8E,WAAa,QAAmB,MAAO,CACtKhoB,IAAK,EACLJ,MAAO,wBACPyiB,UAAW5S,EAAMpB,SAChB,KAAM,EAAG,WAGhB,YAAY,SAAQ,IAAM,EACxB,QAAW4G,EAAKwB,OAAQ,WAAY,CAAC,GAAG,IAAM,EAC5C,SAAgB,QAAgBrB,EAAMvQ,MAAM4jB,SAAU,SAG1D1kB,EAAG,GACF,KAAM,CAAC,UAAW,cAAe,OAAQ,aAAc,gBAAiB,gBAAiB,mBAC1F,OACH,GAAI,KACN,GAAI,OAER,SAGPA,EAAG,GACF,EAAG,CAAC,OAAQ,WACdqR,EAAMwT,OAEA,QAAmB,IAAI,KAFd,WAAa,QAAmB,MAAO,GAAa1T,EAAO,KAAOA,EAAO,GAAK,EAC5F,QAAmB,MAAO,KAAM,MAAO,WAG1C,GAAI,GACT,CACA,MAAM2T,GAAgB,KAChBC,GAAgB,CACpBxd,SAAUsM,MAAM,GAAGmR,KAAK,IACxBC,cAAe,GACf5d,OAAQwM,MAAM,IAAImR,KAAK,IACvBE,MAAO,GACPvhB,KAAM,GACNwhB,MAAO,GACPf,KAAM,GACNnd,IAAK,GACL0K,MAAO,GACP+S,QAAS,GACTla,OAAQ,GACRoP,YAAa,GACbwL,YAAa,GACbC,WAAY,oBACZlf,GAAI,KACJuB,GAAI,MAEA4d,GAAa,CAAC,QAAS,OAAQ,QAAS,OAAQ,OAChDC,GAAY,IAAI3kB,EAAUmkB,IAC1BS,GAAY,CAChBppB,KAAM,UACNgb,WAAY,CAAE,cAAeiL,GAAM,gBAAiBtK,GAAQhD,oBAAkBkO,cAE9E,OAAAwC,GACE,MAAO,CACL3d,OAAQ9G,KACRkT,MAAOlT,KAAKkT,MACZ4D,QAAS9W,KAAK8W,QAEdpB,SAAU1V,KAAK0V,SACfK,KAAM/V,KAAK+V,KACXR,WAAYvV,KAAKuV,WACjBiB,mBAAoBxW,KAAKwW,mBACzBvB,WAAYjV,KAAKiV,WAEjBhI,KAAMjN,KAAKiN,KACX3F,UAAWtH,KAAKsH,UAEpB,EACAgL,MAAO,CACLoS,WAAY,CAAEtnB,KAAMwV,OAAQrB,QAAS,QAErCoT,gBAAiB,CAAEvnB,KAAM,CAACwV,OAAQ0D,QAAS/E,QAAS,QACpDqO,cAAe,CAAExiB,KAAMiZ,QAAS9E,SAAS,GACzCkL,gBAAiB,CAAErf,KAAMiZ,QAAS9E,SAAS,GAC3CrK,gBAAiB,CAAE9J,KAAMiZ,QAAS9E,SAAS,GAC3CnK,mBAAoB,CAAEhK,KAAMiZ,QAAS9E,SAAS,GAC9CqT,sBAAuB,CAAExnB,KAAMiZ,QAAS9E,SAAS,GACjD6O,YAAa,CAAEhjB,KAAMyV,MAAOtB,QAAS,IAAM,IAC3CsT,aAAc,CAAEznB,KAAMyV,MAAOtB,QAAS,IAAM,IAC5CgO,kBAAmB,CAAEniB,KAAMiZ,QAAS9E,SAAS,GAG7CuT,sBAAuB,CAAE1nB,KAAMkZ,OAAQ/E,QAAS,IAChDwT,eAAgB,CAAE3nB,KAAM,CAACiZ,QAASrY,QAASuT,SAAS,GACpDrV,OAAQ,CAAEkB,KAAMyV,MAAOtB,QAAS,IAAM,IACtCqP,sBAAuB,CAAExjB,KAAMiZ,QAAS9E,SAAS,GACjDiM,kBAAmB,CAAEpgB,KAAM,CAACiZ,QAASzD,QAASrB,SAAS,GACvDmR,SAAU,CAAEtlB,KAAMiZ,QAAS9E,SAAS,GACpCiE,aAAc,CAAEpY,KAAMiZ,QAAS9E,SAAS,GACxCoD,iBAAkB,CAAEvX,KAAMiZ,QAAS9E,SAAS,GAC5CsC,aAAc,CAAEzW,KAAMyV,MAAOtB,QAAS,IAAM,IAC5CiC,aAAc,CAAEpW,KAAMiZ,QAAS9E,SAAS,GACxCiR,OAAQ,CAAEplB,KAAM,CAACwV,OAAQ5U,QAASuT,QAAS,MAC3CyT,QAAS,CAAE5nB,KAAM,CAACwV,OAAQvS,MAAOkR,QAAS,IAC1CyQ,aAAc,CAAE5kB,KAAMkZ,OAAQ/E,QAAS,GACvC0T,QAAS,CAAE7nB,KAAM,CAACwV,OAAQvS,MAAOkR,QAAS,IAC1C0J,cAAe,CAAE7d,KAAMkZ,OAAQ/E,QAAS,GACxCsF,cAAe,CAAEzZ,KAAMkZ,OAAQ/E,QAAS,GACxCyI,aAAc,CAAE5c,KAAM,CAAC0V,SAAU,MAAOvB,QAAS,MACjDzG,cAAe,CAAE1N,KAAM,CAAC0V,SAAU,MAAOvB,QAAS,MAClD0I,gBAAiB,CAAE7c,KAAM,CAAC0V,SAAU,MAAOvB,QAAS,MACpDzD,oBAAqB,CAAE1Q,KAAMiZ,QAAS9E,SAAS,GAC/C2T,QAAS,CAAE9nB,KAAMiZ,QAAS9E,SAAS,GACnC0B,aAAc,CAAE7V,KAAM,CAACwV,OAAQvS,MAAOkR,QAAS,IAC/CuP,iBAAkB,CAAE1jB,KAAM,CAACiZ,QAASzD,QAASrB,SAAS,GACtD0L,gBAAiB,CAAE7f,KAAMiZ,QAAS9E,SAAS,GAC3C4R,gBAAiB,CAAE/lB,KAAM,CAACiZ,QAASzD,QAASrB,SAAS,GACrDkO,WAAY,CAAEriB,KAAMkZ,OAAQ/E,QAAS,GACrCM,MAAO,CAAEzU,KAAMiZ,QAAS9E,SAAS,GACjC6L,aAAc,CAAEhgB,KAAMY,OAAQuT,QAAS,KAAM,CAAG,IAChD4T,UAAW,CAAE/nB,KAAMyV,MAAOtB,QAAS,IAAM,IACzCgC,kBAAmB,CAAEnW,KAAMiZ,QAAS9E,SAAS,GAC7CS,kBAAmB,CAAE5U,KAAMiZ,QAAS9E,SAAS,GAC7CnV,KAAM,CAAEgB,KAAMiZ,QAAS9E,SAAS,GAChClJ,eAAgB,CAAEjL,KAAMkZ,OAAQ/E,QAAS,IAEzC6T,WAAY,CAAEhoB,KAAMwV,OAAQrB,QAAS,IACrCjJ,SAAU,CAAElL,KAAMkZ,OAAQ/E,QAAS,GAEnC5N,SAAU,CAAEvG,KAAMkZ,OAAQ/E,QAAS,IAEnCuJ,OAAQ,CAAE1d,KAAMkZ,OAAQ/E,QAASuS,IAEjCjO,YAAa,CAAEzY,KAAMiZ,QAAS9E,SAAS,GACvCD,YAAa,CAAElU,KAAMiZ,QAAS9E,SAAS,GACvC8T,WAAY,CAAEjoB,KAAMiZ,QAAS9E,SAAS,GACtC+T,cAAe,CAAEloB,KAAMiZ,QAAS9E,SAAS,GAEzCO,OAAQ,CAAE1U,KAAMiZ,QAAS9E,SAAS,IAEpC,IAAAgF,GACE,MAAO,CACLsN,OAAO,EAGP/jB,MAAO,IAAKikB,IACZ7Q,MAAO,CAELjT,OAAOD,KAAK4kB,uBAAwBL,GAAUhjB,oBAA+BgjB,GAC7EpR,KAAM,KAINzI,MAAO,MAEToM,QAAS,CAAE3B,IAAK,MAChBtN,QAAS,KAEToF,KAAM,CACJ/R,GAAI,GACJqC,MAAO,GACP+V,UAAW,KACX4M,QAAS,KACTqF,cAAe,KACfC,aAAc,KACdvS,aAAc,KAGd/W,OAAQ,IAEV2O,iBAAkB,EAIlBtL,IAAqB,IAAIc,KAEzBolB,cAAe,CAAC,KAAM,MAGtBne,UAAW,CACTqS,cAAe,CACbxQ,KAAM,KAEN/F,MAAO,KACP9D,MAAO,KACP+a,QAAS,KACTE,uBAAwB,EACxBD,YAAa,KACbjX,IAAK,KACLqiB,UAAW,KACXC,QAAS,MAEX/L,YAAa,CAEXzQ,KAAM,MAERqW,kBAAmB,CACjBF,aAAc,KACdlc,MAAO,KAEP9D,MAAO,KACPoL,MAAO,MAETgP,aAAc,CACZvQ,KAAM,KAIN2Q,UAAU,GAEZL,iBAAkB,CAChBtQ,KAAM,KAEN1B,QAAS,KAEToS,UAAW,MAEbtS,YAAa,CACXC,KAAM,EACNC,QAAS,KAGXsX,eAAgB,CACde,OAAQ,KACRxgB,MAAO,KACPmI,QAAS,KAEToS,UAAW,KACXoF,cAAc,GAIhBD,0BAA0B,GAI5B9T,cAAe,GAEfkG,oBAAqB,QAEzB,EACA2B,QAAS,CAMP,gBAAM6S,CAAWpD,GACf,GAA2B,kBAAhBxiB,KAAKwiB,OAGd,OAFAxiB,KAAKF,MAAQ9B,OAAOoc,OAAO,CAAC,EAAG2J,GAAevB,QAC9CxiB,KAAKkT,MAAMjT,KAAKuB,YAAYxB,KAAKF,OAGnC,MAAMA,QAAcrB,EAAqDT,OAAOoc,OAAO,CAAE,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,6BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,6BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,6BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,6BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,6BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,oBAAqB,IAAM,+BAA8B,oBAAqB,IAAM,+BAA8B,iBAAkB,IAAM,6BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,6BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,iBAAkB,IAAM,+BAA2B,oBAAqB,IAAM,6BAA8B,oBAAqB,IAAM,iCAAiC,UAAUoI,SAAe,GAC9xExiB,KAAKF,MAAQ9B,OAAOoc,OAAO,CAAC,EAAG2J,GAAejkB,GAC9CE,KAAKkT,MAAMjT,KAAKuB,YAAYxB,KAAKF,MACnC,EAIA,eAAA+lB,GACE,+BAAgCC,MAAMC,IACpC,MAAM,YAAEC,GAAgBD,EACxB/lB,KAAK8W,QAAQ3B,IAAM,IAAI6Q,EAAYhmB,KAAK,IACvCimB,OAAM,IAAMC,QAAQC,KAAK,yCAC9B,EASA,YAAAC,CAAanZ,GAUX,OATKqX,GAAWrV,SAAShC,KACvBiZ,QAAQG,MAAM,qDAAqDpZ,qCAC5CqX,GAAWgC,KAAK,UACvCrZ,EAAO,QAEJjN,KAAK4W,aAAa3H,SAAShC,KAC9BiZ,QAAQC,KAAK,sCAAsClZ,8BAAiCjN,KAAK4W,aAAa,qBACtG3J,EAAOjN,KAAK4W,aAAa,IAEpB3J,CACT,EAQA,oBAAA9F,CAAqBlH,EAAO,MAC1BD,KAAKoR,oBAAsB,QAC3B,MAAMnE,EAAOjN,KAAK4W,aAAa5W,KAAK4W,aAAa3I,QAAQjO,KAAKiN,KAAK/R,IAAM,GACrE+R,GAAMjN,KAAKuV,WAAWtI,EAAMhN,EAClC,EAUA,UAAAsV,CAAWtI,EAAMhN,EAAO,KAAMsmB,GAAmB,GAC/CtZ,EAAOjN,KAAKomB,aAAanZ,GACzB,MAAMuZ,EAAMxmB,KAAKkT,MAAMjT,KACjBwmB,EAAuBzmB,KAAKiN,KAAKqG,WAAatT,KAAKiN,KAAKqG,UAAUzP,UACxE,GAAI7D,KAAKsR,aAAeiV,EAAkB,CACxC,GAAIvmB,KAAKiN,KAAK/R,KAAO+R,EAAM,OAC3B,MAAM4H,EAAQ7U,KAAK4W,aACnB5W,KAAKoR,oBAAsByD,EAAM5G,QAAQjO,KAAKiN,KAAK/R,IAAM2Z,EAAM5G,QAAQhB,GAAQ,OAAS,OAC1F,CACA,MAAMyZ,EAAU1mB,KAAKiN,KAAK/R,GAM1B,OALA8E,KAAKiN,KAAK/Q,OAAS,GACnB8D,KAAKiN,KAAK/R,GAAK+R,EACfjN,KAAKiN,KAAKsY,cAAgB,KAC1BvlB,KAAKiN,KAAKuY,aAAe,KACpBvlB,IAAMA,EAAOD,KAAKiN,KAAKgG,cAAgBjT,KAAKiN,KAAKqG,WAC9CrG,GACN,IAAK,QACHjN,KAAKiN,KAAKqG,UAAY,IAAIjT,KAA2C,GAAtCoC,KAAKgE,MAAMxG,EAAK0B,cAAgB,KAAY,IAAK,EAAG,GACnF3B,KAAKiN,KAAKiT,QAAU,IAAI7f,KAAKL,KAAKiN,KAAKqG,UAAU3R,cAAgB,GAAI,EAAG,GACxE3B,KAAKiN,KAAKiT,QAAQyG,YAAY,GAC9B,MAEF,IAAK,OACH3mB,KAAKiN,KAAKqG,UAAY,IAAIjT,KAAKJ,EAAK0B,cAAe,EAAG,GACtD3B,KAAKiN,KAAKiT,QAAU,IAAI7f,KAAKJ,EAAK0B,cAAgB,EAAG,EAAG,GACxD3B,KAAKiN,KAAKiT,QAAQyG,YAAY,GAC9B,MAEF,IAAK,QAAS,CACZ3mB,KAAKiN,KAAKqG,UAAY,IAAIjT,KAAKJ,EAAK0B,cAAe1B,EAAK2B,WAAY,GACpE5B,KAAKiN,KAAKiT,QAAU,IAAI7f,KAAKJ,EAAK0B,cAAe1B,EAAK2B,WAAa,EAAG,GACtE5B,KAAKiN,KAAKiT,QAAQyG,YAAY,GAC9B,IAAIrT,EAAY,IAAIjT,KAAKL,KAAKiN,KAAKqG,WAOnC,GANIA,EAAUtQ,YAAchD,KAAKuT,kBAAoB,EAAI,KACvDD,EAAYkT,EAAI5jB,0BAA0B0Q,EAAWtT,KAAKuT,oBAE5DvT,KAAKiN,KAAKsY,cAAgBjS,EAC1BtT,KAAKiN,KAAKuY,aAAegB,EAAIjmB,QAAQ+S,EAAW,IAChDtT,KAAKiN,KAAKuY,aAAaxjB,SAAS,GAAI,GAAI,GAAI,GACxChC,KAAKwT,aAAc,CACrB,GAAI,CAAC,EAAG,GAAGvE,SAASjP,KAAKiN,KAAKsY,cAAcviB,UAAW,CACrD,MAAM4jB,EAAiD,IAArC5mB,KAAKiN,KAAKsY,cAAcviB,UAAmBhD,KAAKuT,kBAAwB,EAAJ,EACtFvT,KAAKiN,KAAKsY,cAAgBiB,EAAIjmB,QAAQP,KAAKiN,KAAKsY,cAAeqB,EACjE,CACA,GAAI,CAAC,EAAG,GAAG3X,SAASjP,KAAKiN,KAAKqG,UAAUtQ,UAAW,CACjD,MAAM4jB,EAA6C,IAAjC5mB,KAAKiN,KAAKqG,UAAUtQ,SAAiB,EAAI,EAC3DhD,KAAKiN,KAAKqG,UAAYkT,EAAIjmB,QAAQP,KAAKiN,KAAKqG,UAAWsT,EACzD,CACA,GAAI,CAAC,EAAG,GAAG3X,SAASjP,KAAKiN,KAAKuY,aAAaxiB,UAAW,CACpD,MAAM6jB,EAAqD,IAApC7mB,KAAKiN,KAAKuY,aAAaxiB,UAAmBhD,KAAKuT,kBAAwB,EAAJ,EAC1FvT,KAAKiN,KAAKuY,aAAegB,EAAI9lB,aAAaV,KAAKiN,KAAKuY,aAAcqB,EACpE,CACA,GAAI,CAAC,EAAG,GAAG5X,SAASjP,KAAKiN,KAAKiT,QAAQld,UAAW,CAC/C,MAAM6jB,EAAgD,IAA/B7mB,KAAKiN,KAAKiT,QAAQld,SAAiB,EAAI,EAC9DhD,KAAKiN,KAAKiT,QAAUsG,EAAI9lB,aAAaV,KAAKiN,KAAKiT,QAAS2G,EAC1D,CACF,CACA,KACF,CACA,IAAK,OAAQ,CACX5mB,EAAOumB,EAAI5jB,0BAA0B3C,EAAMD,KAAKuT,mBAChD,MAAMuT,EAAgB9mB,KAAKwT,aAAe,EAAI,EAC9CxT,KAAKiN,KAAKqG,UAAYtT,KAAKwT,cAAgBxT,KAAKuT,kBAAoBiT,EAAIjmB,QAAQN,EAAM,GAAKA,EAC3FD,KAAKiN,KAAKqG,UAAUtR,SAAS,EAAG,EAAG,EAAG,GACtChC,KAAKiN,KAAKiT,QAAUsG,EAAIjmB,QAAQN,EAAM6mB,GACtC9mB,KAAKiN,KAAKiT,QAAQyG,YAAY,GAC9B,KACF,CACA,IAAK,MACH3mB,KAAKiN,KAAKqG,UAAYrT,EACtBD,KAAKiN,KAAKqG,UAAUtR,SAAS,EAAG,EAAG,EAAG,GACtChC,KAAKiN,KAAKiT,QAAU,IAAI7f,KAAKJ,GAC7BD,KAAKiN,KAAKiT,QAAQle,SAAS,GAAI,GAAI,GAAI,GACvC,MAGJhC,KAAKoL,kBACL,MAAM2b,EAAW/mB,KAAKiN,KAAKqG,WAAatT,KAAKiN,KAAKqG,UAAUzP,UAC5D,IAAI6iB,IAAYzZ,GAAQ8Z,IAAaN,KACrCzmB,KAAKiH,MAAM,oBAAqBgG,GAC5BjN,KAAK6jB,OAAO,CACd,MAAMvQ,EAAYtT,KAAKiN,KAAKqG,UACtB0T,EAAS,CACb/Z,OACAqG,YACA4M,QAASlgB,KAAKiN,KAAKiT,WAChBlgB,KAAK4hB,YAAc,CACpB2D,cAAevlB,KAAKiN,KAAKsY,cACzBC,aAAcxlB,KAAKiN,KAAKuY,aACxB3E,iBAAkB7gB,KAAKiN,KAAK4T,iBAAiBtS,IAAIvO,KAAKsL,eACpD,CAAC,EACLpP,OAAQ8D,KAAKiN,KAAK/Q,OAAOqS,IAAIvO,KAAKsL,iBAC/BtL,KAAK2hB,WAAa,CAAEyB,KAAMoD,EAAIvlB,QAAQjB,KAAKuT,kBAAoBiT,EAAIjmB,QAAQ+S,EAAW,GAAKA,IAAe,CAAC,GAEhHtT,KAAKiH,MAAM,cAAe+f,EAC5B,CACF,EAIA,QAAAtR,GACE1V,KAAKinB,cAAa,EACpB,EAIA,IAAAlR,GACE/V,KAAKinB,cACP,EAMA,YAAAA,CAAalR,GAAO,GAClB,MAAMyQ,EAAMxmB,KAAKkT,MAAMjT,KACvBD,KAAKoR,oBAAsB2E,EAAO,QAAU,OAC5C,MAAMmR,EAAWnR,EAAO,GAAK,EAC7B,IAAIwP,EAAgB,KACpB,MAAM,UAAEjS,EAAWpY,GAAIisB,GAAWnnB,KAAKiN,KACvC,OAAQka,GACN,IAAK,QACH5B,EAAgB,IAAIllB,KAAKiT,EAAU3R,cAAgB,GAAKulB,EAAU,EAAG,GACrE,MACF,IAAK,OACH3B,EAAgB,IAAIllB,KAAKiT,EAAU3R,cAAgB,EAAIulB,EAAU,EAAG,GACpE,MACF,IAAK,QACH3B,EAAgB,IAAIllB,KAAKiT,EAAU3R,cAAe2R,EAAU1R,WAAa,EAAIslB,EAAU,GACvF,MACF,IAAK,OACH3B,EAAgBiB,EAAIzQ,EAAO,UAAY,gBAAgByQ,EAAI5jB,0BAA0B0Q,EAAWtT,KAAKuT,mBAAoB,GACzH,MACF,IAAK,MACHgS,EAAgBiB,EAAIzQ,EAAO,UAAY,gBAAgBzC,EAAW,GAClE,MAAM8T,EAAU7B,EAAcviB,SACxBqkB,EAAernB,KAAKuT,kBAAoB6T,GAAWA,GAAW,GAAK,EACnEE,EAActnB,KAAKuG,SAAS8gB,GAAc3W,KAChD,GAAI4W,EAAa,CACf,MAAMC,EAAgBvnB,KAAKuG,SAASgI,KAAI,CAACtI,EAAKwK,KAAM,IAAMxK,EAAKwK,QAC/D,IAAI+W,EAAe,EACfzR,GACF,IAAIwR,EAAcla,MAAMga,MAAkBE,GAAe7M,MAAMzU,IAC7DuhB,KACQvhB,EAAIyK,QACXD,EACH+W,KAEA,IAAID,KAAkBA,EAAcla,MAAM,EAAGga,IAAeI,UAAU/M,MAAMzU,IAC1EuhB,KACQvhB,EAAIyK,QACXD,EAEL8U,EAAgBiB,EAAIzQ,EAAO,UAAY,gBAAgBwP,EAAeiC,EACxE,CACA,MAEAjC,GAAevlB,KAAKuV,WAAW4R,EAAQ5B,EAC7C,EAOA,eAAAna,CAAgBlP,EAAS,IACvB,MAAMwrB,EAAK1nB,KAAKkT,MAAMxI,OAChB,UAAE4I,EAAS,QAAE4M,EAAO,cAAEqF,EAAa,aAAEC,GAAiBxlB,KAAKiN,KAGjE,GAFK/Q,EAAOZ,SAAQ0E,KAAKiN,KAAK/Q,OAAS,IACvCA,EAASA,EAAOZ,OAASY,EAAS,IAAI8D,KAAKkL,gBACtChP,GAAU8D,KAAKqgB,oBAAsBrgB,KAAK4gB,sBAAuB,OACtE,IAAI+G,EAAiBzrB,EAAO8Q,QAAQtF,GAAMggB,EAAG9Z,aAAalG,EAAG4L,EAAW4M,KACnElgB,KAAKqgB,mBAAuBrgB,KAAK4hB,cAAgB5hB,KAAKwd,oBACzDmK,EAAiBA,EAAepZ,KAAK7G,GAC5BA,EAAEiC,UAAY,EAAI+d,EAAG1b,oBAAoBtE,EAAG6d,GAAiBjS,EAAWkS,GAAgBtF,GAAWxY,KAG9G1H,KAAKiN,KAAK/Q,OAAOiP,QAAQwc,GACrB3nB,KAAK4hB,cACP5hB,KAAKiN,KAAK4T,iBAAmB,GAC7B3kB,EAAOoR,SAAS5F,KACVggB,EAAG9Z,aAAalG,EAAG6d,EAAejS,IAAcoU,EAAG9Z,aAAalG,EAAGwY,EAASsF,MACzExlB,KAAKiN,KAAK/Q,OAAO0rB,MAAMla,GAAOA,EAAGvE,OAASzB,EAAEyB,QAAOnJ,KAAKiN,KAAK4T,iBAAiB1V,KAAKzD,GAC1F,IAGN,EAQA,YAAA+W,CAAaG,EAAIiJ,GACf,OAAQjJ,EAAKA,EAAGkJ,iBAAmBlJ,EAAGL,UAAUC,SAASqJ,IAEzD,OAAOjJ,CACT,EAOA,mBAAAD,CAAoBC,GAClB,OAAOA,EAAGL,UAAUC,SAAS,kBAAoBxe,KAAKye,aAAaG,EAAI,gBACzE,EAUA,WAAAmJ,CAAYrgB,GACV,MAAM,cAAEiS,EAAa,YAAEC,EAAW,kBAAE4F,GAAsBxf,KAAKsH,WACpC,OAAvBqS,EAAcxQ,MAAsC,OAArByQ,EAAYzQ,MAAkBqW,EAAkBpc,SACnFsE,EAAEqS,iBACEJ,EAAcxQ,KAAMnJ,KAAKgoB,cAActgB,GAClC1H,KAAKuf,mBAAqBC,EAAkBpc,OAAOpD,KAAKioB,kBAAkBvgB,GACrF,EASA,SAAAwQ,CAAUxQ,GACR,MAAM,aACJgS,EAAY,cACZC,EAAa,iBACbF,EAAgB,eAChBsF,EAAc,kBACdS,GACExf,KAAKsH,WACD6B,KAAM+e,GAAwBzO,GAC9BtQ,KAAMgf,GAAgBxO,EAC9B,IAAIyO,GAAa,EACjB,MAAQ1d,MAAO2d,EAAkBjlB,MAAOklB,GAAsB9I,EACxD+I,EAAiBvoB,KAAK2e,oBAAoBjX,EAAE6K,QAC5CiW,EAAe9O,EAAaI,SAGlC,GAFAJ,EAAaI,UAAW,EACpByO,IAAgBvoB,KAAKsH,UAAU0X,0BAA2B,GAC1DD,EAAeE,aAAc,OACjC,GAAIkJ,EAAa,CACf,MAAM,YAAE7N,EAAW,uBAAEC,EAAsB,eAAElR,GAAmBsQ,EAC1DjP,EAAQ1K,KAAKiN,KAAK/Q,OAAOwe,MAAMhN,GAAOA,EAAGvE,OAASwQ,EAAcxQ,OAEtE,GADAif,EAAa/e,GAAkBA,IAAmBkR,EAC9C7P,GAASA,EAAMrH,IAAIQ,YAAcyW,EAAYzW,UAAW,CAC1D,MAAM4kB,EAAezoB,KAAKkL,cAAcwP,MAAMhN,GAAOA,EAAGvE,OAASwQ,EAAcxQ,OAC/Esf,EAAapf,eAAiBqB,EAAMrB,eACpCof,EAAaplB,IAAMqH,EAAMrH,IACzB,MAAMqlB,EAAa1oB,KAAKsL,aAAaZ,GAC/Ba,EAAgB,IACjBvL,KAAKsL,aAAaZ,GACrBrH,IAAKiX,EACLjR,eAAgBqB,EAAM6P,wBAExBva,KAAKiH,MAAM,wBAAyB,CAAEyD,MAAOge,EAAYC,QAAShP,EAAcW,YAAa/O,kBAC7FvL,KAAKiH,MAAM,eAAgB,CAAEyD,MAAOge,EAAYnd,iBAClD,CACIb,IAAOA,EAAMV,UAAW,GAC5B2P,EAAcxQ,KAAO,KACrBwQ,EAAcvW,MAAQ,KACtBuW,EAAcra,MAAQ,KACtBqa,EAAcU,QAAU,KACxBV,EAAcY,uBAAyB,KACvCZ,EAAcW,YAAc,KAC5BX,EAActQ,eAAiB,KAC/BsQ,EAAc+L,UAAY,KAC1B/L,EAAcgM,QAAU,IAC1B,MAAW2C,IACLD,IACFroB,KAAKqL,cAAc,oBAAqBgd,GACxC7I,EAAkB9U,MAAMV,UAAW,GAErCwV,EAAkBpc,MAAQ,KAC1Boc,EAAkBlgB,MAAQ,KAC1BkgB,EAAkB9U,MAAQ,MAEvB6d,GAAmBJ,GAAanoB,KAAK4oB,eACtCnP,EAAiBI,YAAcqO,IACjCW,aAAapP,EAAiBI,WAC9BJ,EAAiBI,UAAY,MAE3BkF,EAAelF,YACjBgP,aAAa9J,EAAelF,WAC5BkF,EAAelF,UAAY,MAE7B,MAAMiP,EAAiD,oBAAtB9oB,KAAKga,aACtC,GAAIwO,IAAiBJ,IAAeF,IAAwBG,GAAoBS,EAAmB,CACjG,IAAIpe,EAAQ1K,KAAKiN,KAAK/Q,OAAOwe,MAAMhN,GAAOA,EAAGvE,OAASuQ,EAAavQ,OAEnE,OADKuB,GAAS1K,KAAK4hB,cAAalX,EAAQ1K,KAAKiN,KAAK4T,iBAAiBnG,MAAMhN,GAAOA,EAAGvE,OAASuQ,EAAavQ,QAClGuB,GAAS1K,KAAKga,aAAatP,EAAOhD,EAC3C,CACF,EAMA,OAAAqhB,CAAQrhB,GACY,KAAdA,EAAEshB,SAAgBhpB,KAAK2a,cAC7B,EAMA,aAAAqN,CAActgB,GACZ,MAAM,cAAEiS,GAAkB3Z,KAAKsH,UACzBoD,EAAQ1K,KAAKiN,KAAK/Q,OAAOwe,MAAMhN,GAAOA,EAAGvE,OAASwQ,EAAcxQ,QAAS,CAAEM,SAAU,CAAC,IACtF,QAAE1I,EAAO,aAAEqH,GAAiBpI,KAAKkf,gBAAgBxX,GACjD2S,EAAU3P,EAAMjB,UAAYiB,EAAMjB,SAASkQ,EAAcU,UACvDpa,KAAMumB,EAAK9b,MAAOgd,GAAO1nB,KAAKkT,MAChC+V,EAAiBxmB,KAAKiG,IAAI3H,EAASf,KAAKsI,SAAW,GAAI+R,GAAW3P,GAAOtB,iBAAmB,GAElG,GADAsB,EAAMrB,eAAiBsQ,EAActQ,eAAiB4f,EAClDjpB,KAAKyf,WAAY,CACnB,MAAME,EAAmBjV,EAAMrB,eAAiBrJ,KAAKyf,WAAa,EAClE/U,EAAMrB,eAAiBsW,EAAmBA,EAAmB3f,KAAKyf,UACpE,CAGA,GAFIpF,IAASA,EAAQhR,eAAiBqB,EAAMrB,gBAC5CqB,EAAMrH,IAAIrB,SAAS,EAAG0I,EAAMrB,eAAgBqB,EAAMrB,iBAAmBya,IAAiB,EAAI,EAAG,GACzF9jB,KAAKklB,SAAWllB,KAAK2hB,WAAY,CACnCjX,EAAMf,UAAY6c,EAAIrjB,UAAUuH,EAAMtH,MAAOsH,EAAMrH,KACnD,MAAMqe,EAAQ1hB,KAAK6H,QACb6L,EAAYgO,EAAMwH,YAAcxH,EAAMyH,kBACtCxD,EAAUljB,KAAKgE,MAAM2B,EAAaF,EAAIwL,GAE5C,GADgC,OAA5BiG,EAAc+L,YAAoB/L,EAAc+L,UAAYC,GAAWjb,EAAMf,UAAY,IACzFgQ,EAAcgM,UAAYA,EAAS,CACrChM,EAAcgM,QAAUA,EACxB,MAAMyD,EAAS5C,EAAIjmB,QAAQmK,EAAMtH,MAAOuiB,EAAUhM,EAAc+L,WAC1D2D,EAAe5mB,KAAKiG,IAAI8d,EAAIrjB,UAAUuH,EAAMtH,MAAOgmB,GAAS,GAClE,GAAIC,IAAiB3e,EAAMf,UAAW,CACpC,IAAI2f,EAA2B,KACKA,EAAhCD,EAAe3e,EAAMf,UAAsC+d,EAAGlc,gBAAgBd,GAClDgd,EAAG5b,mBAAmBpB,GACtDiP,EAAcU,QAAUiP,EACxB5e,EAAMrB,gBAAkB,IAC1B,CACF,CACF,CACArJ,KAAKiH,MAAM,iBAAkB,CAAEkC,KAAMuB,EAAMvB,KAAM9F,IAAKqH,EAAMrH,IAAKgG,eAAgBqB,EAAMrB,gBACzF,EAMA,iBAAA4e,CAAkBvgB,GAChB,MAAM,kBAAE8X,GAAsBxf,KAAKsH,WAC7B,MAAElE,EAAK,aAAEkc,EAAY,MAAEhgB,GAAUkgB,EACjCtB,EAAe,IAAI7d,KAAK+C,IACxB,QAAErC,EAASqH,cAAc,EAAED,IAAQnI,KAAKkf,gBAAgBxX,GAC9D,GAAK8X,EAAkB9U,SAASjI,KAAKmB,IAAI0b,EAAenX,GAAKnI,KAAK8kB,uBAClE,GAAKtF,EAAkB9U,MAShB,CAEL,GADAwT,EAAalc,SAAS,EAAGjB,EAASA,IAAY+iB,IAAiB,EAAI,EAAG,GAClE9jB,KAAKyf,WAAY,CACnB,IAAIC,EAAwC,GAA1BxB,EAAahe,WAAkBge,EAAa/d,aAC9D,MAAMwf,EAAmBD,EAAc1f,KAAKyf,WAAa,EACzDC,EAAcC,EAAmBA,EAAmB3f,KAAKyf,WACzDvB,EAAalc,SAAS,EAAG0d,EAAa,EAAG,EAC3C,CACA,MAAM6J,EAAiBnmB,EAAQ8a,GACzB,MAAExT,GAAU8U,EAClB9U,EAAMtH,MAAQmmB,EAAiBnmB,EAAQ8a,EACvCxT,EAAMrH,IAAMkmB,EAAiBrL,EAAe9a,EAC5CsH,EAAMtB,iBAA4C,GAAzBsB,EAAMtH,MAAMlD,WAAkBwK,EAAMtH,MAAMjD,aACnEuK,EAAMrB,eAAwC,GAAvBqB,EAAMrH,IAAInD,WAAkBwK,EAAMrH,IAAIlD,YAC/D,KAvB8B,CAE5B,GADAqf,EAAkB9U,MAAQ1K,KAAKkT,MAAMxI,MAAML,cAAcjH,EAAO,EAAG,CAAE9D,WAChEkgB,EAAkB9U,MAIrB,OAHA8U,EAAkBpc,MAAQ,KAC1Boc,EAAkBlgB,MAAQ,UAC1BkgB,EAAkB9U,MAAQ,MAG5B8U,EAAkB9U,MAAMV,UAAW,CACrC,CAeF,EAIA,YAAA4e,GACE,MAAM,aAAElP,EAAY,iBAAED,GAAqBzZ,KAAKsH,UAC1CoD,EAAQ1K,KAAKiN,KAAK/Q,OAAOwe,MAAMhT,GAAMA,EAAEyB,QAAUuQ,EAAavQ,MAAQsQ,EAAiBtQ,QAC7FuQ,EAAavQ,KAAO,KACpBsQ,EAAiBtQ,KAAO,KACpBuB,IACFA,EAAMN,SAAU,EAChBM,EAAMb,UAAW,EAErB,EAIA,YAAA8Q,GACE,MAAM,iBAAElB,GAAqBzZ,KAAKsH,UAClC,GAAImS,EAAiBtQ,KAAM,CACzB,MAAMuB,EAAQ1K,KAAKiN,KAAK/Q,OAAOwe,MAAMhT,GAAMA,EAAEyB,OAASsQ,EAAiBtQ,OACnEuB,IAAOA,EAAMb,UAAW,GAC5B4P,EAAiBtQ,KAAO,KACxBsQ,EAAiBI,UAAY,IAC/B,CACF,EAQA,gBAAAkJ,CAAiBrb,EAAGgD,GAClB,GAAIA,EAAMnN,QAAUmK,EAAE6K,OAAO+K,UAAW,OACxC,MAAMkM,EAAW9e,EAAMnN,MACvBmN,EAAMnN,MAAQmK,EAAE6K,OAAO+K,UACvB,MAAMoL,EAAa1oB,KAAKsL,aAAaZ,GACrC1K,KAAKiH,MAAM,qBAAsB,CAAEyD,MAAOge,EAAYc,aACtDxpB,KAAKiH,MAAM,eAAgB,CAAEyD,MAAOge,EAAYnd,cAAe,IAAKmd,EAAYnrB,MAAOisB,IACzF,EAQA,mBAAAC,GACE,MAAMjD,EAAMxmB,KAAKkT,MAAMjT,KACvBD,KAAKkL,cAAgB,GACrBlL,KAAK9D,OAAOoR,SAAS5C,IACnB,MAAMtH,EAA+B,kBAAhBsH,EAAMtH,MAAqBojB,EAAIvjB,aAAayH,EAAMtH,OAASsH,EAAMtH,MAChF4H,EAAawb,EAAI1iB,eAAeV,GAChCgG,EAAmBod,EAAI/b,cAAcrH,GAC3C,IAAIC,EAAM,KACe,kBAAdqH,EAAMrH,KAAoBqH,EAAMrH,IAAI4L,SAAS,UACtD5L,EAAM,IAAIhD,KAAKqK,EAAMrH,IAAIH,QAAQ,SAAU,KAC3CG,EAAIrB,SAAS,GAAI,GAAI,GAAI,IACpBqB,EAA2B,kBAAdqH,EAAMrH,IAAmBmjB,EAAIvjB,aAAayH,EAAMrH,KAAOqH,EAAMrH,IACjF,IAAI4H,EAAWub,EAAI1iB,eAAeT,GAC9BgG,EAAiBmd,EAAI/b,cAAcpH,GAClCgG,GAAkBA,IAAmBya,MACnC9jB,KAAK5D,MAA6B,kBAAdsO,EAAMrH,KAAyC,KAArBqH,EAAMrH,IAAI/H,OAC3D+H,EAAIrB,SAAS,GAAI,GAAI,GAAI,GACpBqB,EAAIsjB,WAAWtjB,EAAIuC,aAAe,GACzCqF,EAAWub,EAAI1iB,eAAeT,GAC9BgG,EAAiBya,IAEnB,MAAM4F,EAAe1e,IAAeC,EACpCP,EAAQ1M,OAAOoc,OAAO,IAAKpa,KAAKkT,MAAMxI,MAAMC,eAAiBD,EAAO,CAElEvB,KAAM,GAAGnJ,KAAKhB,EAAE4L,OAAO5K,KAAK6K,qBAC5BpB,SAAUigB,EAAe,CAAC,EAAI,KAC9BtmB,QACAgG,mBACA/F,MACAgG,iBACAM,UAAW+f,EAAelD,EAAIrjB,UAAUC,EAAOC,GAAO,EACtDxI,MAAO6P,EAAM7P,QAEfmF,KAAKkL,cAAcC,KAAKT,EAAM,GAElC,EAOA,eAAAwU,CAAgBxX,GACd,OAAO1H,KAAKkT,MAAMC,KAAK+L,gBAAgBxX,EACzC,EAYA,WAAA0c,CAAY9Z,EAAUC,EAAUC,EAAe,CAAC,GAC9C,OAAOxK,KAAKkT,MAAMxI,MAAML,cAAcC,EAAUC,EAAUC,EAC5D,EAMA,YAAAc,CAAaZ,GACXA,EAAQ,IAAKA,GACb,MAAMif,EAAe,CACnB,WACA,YACA,WACA,gBACA,YACA,WACA,YACA,WACA,iBACA,WAMF,OAJAA,EAAarc,SAASsc,IAChBA,KAAQlf,UAAcA,EAAMkf,EAAK,IAElClf,EAAMhB,eAAegB,EAAMhB,OACzBgB,CACT,EAQA,aAAAW,CAAcwe,EAAWnf,GACvB1K,KAAKiH,MAAM4iB,EAAW7pB,KAAKsL,aAAaZ,GAC1C,EAWA,kBAAA8L,CAAmBvW,GAGjB,GAFsCA,EAAlCA,GAAwB,kBAATA,EAA0BD,KAAKkT,MAAMjT,KAAKgD,aAAahD,GAC9D,IAAII,KAAKJ,GACjBA,GAAQA,aAAgBI,KAAM,CAChC,MAAM,aAAE4S,GAAiBjT,KAAKiN,KAC1BgG,IAAcjT,KAAKoR,oBAAsB6B,EAAapP,UAAY5D,EAAK4D,UAAY,OAAS,SAChG5D,EAAK+B,SAAS,EAAG,EAAG,EAAG,GAClBiR,GAAgBA,EAAapP,YAAc5D,EAAK4D,YAAW7D,KAAKiN,KAAKgG,aAAehT,GACzFD,KAAKuV,WAAWvV,KAAKiN,KAAK/R,GAC5B,CACA8E,KAAKiH,MAAM,uBAAwBjH,KAAKiN,KAAKgG,aAC/C,EAcA,aAAAoQ,CAAcyG,GACZ,MAAMtD,EAAMxmB,KAAKkT,MAAMjT,KACjB8pB,EAAsB/pB,KAAKgqB,wBAC3BC,EAAoBF,EAAsBD,EAC1C5C,EAAWlnB,KAAKuT,kBAAoB,EAAI,EAC9C,OAAI0W,EAAoB,GACfzD,EAAIvlB,QAAQulB,EAAIjmB,QAAQP,KAAKiN,KAAKsY,cAAe,EAAIuE,EAAoB5C,IACpE+C,CAChB,EAMA,QAAAC,GACElqB,KAAKT,IAAsB,IAAIc,KAC/BL,KAAKylB,cAAc,GAAKtmB,WAAWa,KAAKkqB,SAAU,IACpD,EAKA,eAAAC,GACEnqB,KAAKkT,MAAMjT,KAAKuB,YAAYxB,KAAKF,MACnC,EAQA,kBAAAsqB,GACE,GAAIC,SAASC,eAAe,+BAAgC,OAC5D,MAAMC,EAAKvqB,KAAKwqB,MAAM1jB,OAAO2jB,uBAAuB,2BAA2B,GACzEC,EAAiBH,EAAGrB,YAAcqB,EAAGI,SAAS,GAAGzB,YACvD,GAAIwB,EAAgB,CAClB,MAAM5Z,EAAQuZ,SAASO,cAAc,SACrC9Z,EAAM5V,GAAK,8BACX4V,EAAM1T,KAAO,WACb0T,EAAMwM,UAAY,+GAA+GoN,OACjIL,SAASQ,KAAKC,YAAYha,EAC5B,CACF,EASA,oBAAA2S,CAAqBvnB,EAAQoD,EAAQ,MACnC,OAAOpD,EAAOZ,UAAYgE,GAASpD,EAAOZ,QAAUgE,GAASpD,EAAO0rB,MAAMlgB,GAAMA,EAAEpI,QAAUA,EAAMpE,KACpG,GAEF,OAAA6vB,GACE/qB,KAAKkT,MAAMC,KAAO,IAAItM,EAAU7G,MAChCA,KAAKkT,MAAMxI,MAAQ,IAAIzB,GAAWjJ,KAAMA,KAAKkT,MAAMjT,MACnDD,KAAK4lB,WAAW5lB,KAAKwiB,QACjBxiB,KAAKiV,WAAWC,MAAMlV,KAAK6lB,kBAC/B7lB,KAAKypB,oBAAoBzpB,KAAK9D,QAC9B8D,KAAKiN,KAAK/R,GAAK8E,KAAKgrB,YAChBhrB,KAAKiT,aAAcjT,KAAKwW,mBAAmBxW,KAAKiT,eAElDjT,KAAKiN,KAAKgG,aAA+B,IAAI5S,KAC7CL,KAAKuV,WAAWvV,KAAKgrB,cAEnBhrB,KAAK5D,MAAQ4D,KAAKslB,gBACpBtlB,KAAKylB,cAAc,GAAKtmB,WAAWa,KAAKkqB,SAAyC,KAA9B,GAAKlqB,KAAKT,IAAIqG,eAErE,EACA,OAAAqlB,GACE,MAAMzE,EAAMxmB,KAAKkT,MAAMjT,KACjBirB,EAAW,iBAAkB7jB,QAC7B,OAAE6T,EAAM,KAAEhG,EAAI,OAAEkK,EAAQzG,OAAQ/O,EAAS,MAAErM,GAAUyC,KAAKiV,WAC1DkW,EAAuBnrB,KAAKga,cAA6C,oBAAtBha,KAAKga,cAC1DkB,GAAUhG,GAAQkK,GAAUxV,GAAarM,GAAS4tB,IACpD9jB,OAAO+jB,iBAAiBF,EAAW,WAAa,UAAWlrB,KAAKkY,YAE9DgD,GAAUhG,GAAQkK,GAAUpf,KAAKuf,oBACnClY,OAAO+jB,iBAAiBF,EAAW,YAAc,YAAalrB,KAAK+nB,YAAa,CAAEsD,SAAS,IAEzF9tB,GAAO8J,OAAO+jB,iBAAiB,QAASprB,KAAK+oB,SAC7CmC,IACFlrB,KAAKwqB,MAAM1jB,OAAOwkB,cAAgB,SAAS5jB,GACzCA,EAAEqS,iBACFrS,EAAEqY,iBACJ,GAEG/f,KAAK0iB,UAAU1iB,KAAKoqB,qBACzB,MAAM9W,EAAYtT,KAAKiN,KAAKqG,UACtB0T,EAAS,CACb/Z,KAAMjN,KAAKiN,KAAK/R,GAChBoY,YACA4M,QAASlgB,KAAKiN,KAAKiT,WAChBlgB,KAAK4hB,YAAc,CAAE2D,cAAevlB,KAAKiN,KAAKsY,cAAeC,aAAcxlB,KAAKiN,KAAKuY,cAAiB,CAAC,EAC1GtpB,OAAQ8D,KAAKiN,KAAK/Q,OAAOqS,IAAIvO,KAAKsL,iBAC/BtL,KAAK2hB,WAAa,CAAEyB,KAAMoD,EAAIvlB,QAAQjB,KAAKuT,kBAAoBiT,EAAIjmB,QAAQ+S,EAAW,GAAKA,IAAe,CAAC,GAEhHtT,KAAKiH,MAAM,QAAS+f,GACpBhnB,KAAK6jB,OAAQ,CACf,EACA,aAAA0H,GACE,MAAML,EAAW,iBAAkB7jB,OACnCA,OAAOmkB,oBAAoBN,EAAW,YAAc,YAAalrB,KAAK+nB,YAAa,CAAEsD,SAAS,IAC9FhkB,OAAOmkB,oBAAoBN,EAAW,WAAa,UAAWlrB,KAAKkY,WACnE7Q,OAAOmkB,oBAAoB,QAASxrB,KAAK+oB,SACrC/oB,KAAKylB,cAAc,IAAIoD,aAAa7oB,KAAKylB,cAAc,IACvDzlB,KAAKylB,cAAc,IAAIoD,aAAa7oB,KAAKylB,cAAc,IAC3DzlB,KAAKylB,cAAgB,CAAC,KAAM,KAC9B,EACArS,SAAU,CACR,UAAA6B,GACE,OAAIjV,KAAK+kB,gBAAiD,kBAAxB/kB,KAAK+kB,eAC9B,CACLxnB,QAASyC,KAAK+kB,eAAexnB,MAC7B2X,OAAQlV,KAAK+kB,eAAe7P,KAC5BgG,SAAUlb,KAAK+kB,eAAe7J,OAC9BkE,SAAUpf,KAAK+kB,eAAe3F,OAC9BzG,SAAU3Y,KAAK+kB,eAAepM,QAG3B,CACLpb,QAASyC,KAAK+kB,eACd7P,OAAQlV,KAAK+kB,eACb7J,SAAUlb,KAAK+kB,eACf3F,SAAUpf,KAAK+kB,eACfpM,SAAU3Y,KAAK+kB,eAEnB,EACA,KAAAlQ,GACE,MAAO,CACLqP,MAAO,CAAE/R,MAAOnS,KAAKF,MAAMokB,MAAOpP,SAAU9U,KAAK6kB,aAAa5V,SAAS,UACvEtM,KAAM,CAAEwP,MAAOnS,KAAKF,MAAM6C,KAAMmS,SAAU9U,KAAK6kB,aAAa5V,SAAS,SACrEkV,MAAO,CAAEhS,MAAOnS,KAAKF,MAAMqkB,MAAOrP,SAAU9U,KAAK6kB,aAAa5V,SAAS,UACvEmU,KAAM,CAAEjR,MAAOnS,KAAKF,MAAMsjB,KAAMtO,SAAU9U,KAAK6kB,aAAa5V,SAAS,SACrEhJ,IAAK,CAAEkM,MAAOnS,KAAKF,MAAMmG,IAAK6O,SAAU9U,KAAK6kB,aAAa5V,SAAS,QAEvE,EACA,WAAA+b,GACE,OAAOhrB,KAAKomB,aAAapmB,KAAK0kB,WAChC,EACA,YAAA9N,GACE,OAAO5Y,OAAO6N,KAAK7L,KAAK6U,OAAO7H,QAAQC,GAASjN,KAAK6U,MAAM5H,GAAM6H,SACnE,EACA,aAAA6N,GACE,OAAO3iB,KAAK5D,MAAQ4D,KAAKkd,eAC3B,EACA,gBAAA+F,GACE,OAAOjjB,KAAK4hB,aAA0C,UAA3B5hB,KAAKwd,iBAClC,EACA,uBAAAwM,GACE,MAAMxD,EAAMxmB,KAAKkT,MAAMjT,KACjBA,EAAOD,KAAKiN,KAAKsY,cACvB,OAAOiB,EAAIvlB,QAAQjB,KAAKuT,kBAAoBiT,EAAIjmB,QAAQN,EAAM,GAAKA,EACrE,EAEA,SAAAkd,GACE,MAAMA,EAAY,GAClB,IAAK,IAAI1M,EAAIzQ,KAAKsI,SAAUI,EAAM1I,KAAK8a,OAAQrK,EAAI/H,EAAK+H,GAAKzQ,KAAK2D,SAChEwZ,EAAUhS,KAAK,CACbvK,MAAO6B,KAAKgE,MAAMgK,EAAI,IACtB1P,QAAS0P,EAAI,GACb0B,MAAOnS,KAAKkT,MAAMjT,KAAKqB,WAAWmP,EAAGzQ,KAAK2jB,YAE1CvlB,MAAOqS,IAGX,OAAO0M,CACT,EACA,UAAAwG,GACE,OAAO3jB,KAAKolB,aAAeplB,KAAKqlB,WAAa,WAAa,QAC5D,EAEA,SAAApT,GACE,OAAQjS,KAAKmlB,UAAUnY,QAAQqB,IAAUA,EAAKqC,QAAS,IAAInC,KAAI,CAACF,EAAMoC,KAAM,IAAMpC,EAAMnT,GAAImT,EAAKnT,IAAMuV,EAAI,KAC7G,EAEA,SAAAsB,GACE,OAAO/R,KAAKiS,UAAU3W,QAAU0E,KAAKkd,eACvC,EACA,cAAA8F,GACE,MAAiC,UAA1BhjB,KAAK8gB,gBACd,EAEA,mBAAAW,GACE,IAAIgK,EAAW,KAGf,OAFIzrB,KAAK+R,WAAa/R,KAAK6W,cAAe4U,EAAWzrB,KAAK0rB,iBAAmB1rB,KAAK6W,cAAgB7W,KAAKiS,UAAU3W,OACxG0E,KAAKgiB,cAAgBhiB,KAAK2hB,aAAY8J,EAAWzrB,KAAK0rB,iBAAmB1rB,KAAKgiB,cAChFyJ,CACT,EACA,SAAA5I,GACE,IAAI7H,EAAShb,KAAK2kB,iBAAmB,KAErC,OADI3J,IAAW2Q,MAAM3Q,KAASA,GAAU,MACjC,CACL0G,MAAO1hB,KAAKujB,UACZnW,QAASpN,KAAKuI,OACd4J,MAAOnS,KAAKF,MAAM0J,OAClBsY,YAAa9hB,KAAKgjB,eAClB/Q,UAAWjS,KAAK+R,WAAa/R,KAAKiS,WAAa,GAC/CwP,oBAAqBzhB,KAAKyhB,oBAC1BzG,SAEJ,EACA,YAAAgD,GACE,IAAI/d,EAAO,KAGX,OAFID,KAAKilB,SAAmC,kBAAjBjlB,KAAKilB,QAAsBhlB,EAAOD,KAAKkT,MAAMjT,KAAKgD,aAAajD,KAAKilB,SACtFjlB,KAAKilB,SAAWjlB,KAAKilB,mBAAmB5kB,OAAMJ,EAAOD,KAAKilB,SAC5DhlB,EAAOA,EAAK4D,UAAY,IACjC,EACA,YAAAoa,GACE,IAAIhe,EAAO,KAGX,OAFID,KAAKglB,SAAmC,kBAAjBhlB,KAAKglB,QAAsB/kB,EAAOD,KAAKkT,MAAMjT,KAAKgD,aAAajD,KAAKglB,SACtFhlB,KAAKglB,SAAWhlB,KAAKglB,mBAAmB3kB,OAAMJ,EAAOD,KAAKglB,SAC5D/kB,EAAOA,EAAK4D,UAAY,IACjC,EACA,QAAA0C,GACE,IAAI,SAAEA,EAAQ,cAAE0d,EAAgB,IAAOjkB,KAAKF,MAO5C,OANAyG,EAAWA,EAAS8G,MAAM,GAAGkB,KAAI,CAACtI,EAAKwK,KAAM,CAC3C0B,MAAOlM,KACJge,EAAc3oB,OAAS,CAAEmY,MAAOwQ,EAAcxT,IAAO,CAAC,EACzDC,KAAM1Q,KAAKwT,cAAgB/C,GAAK,GAAKzQ,KAAK6T,aAAavY,QAAU0E,KAAK6T,aAAa5E,SAASwB,EAAI,OAE9FzQ,KAAKuT,mBAAmBhN,EAASqlB,QAAQrlB,EAASslB,OAC/CtlB,CACT,EACA,gBAAAyP,GACE,OAAOhW,KAAK4hB,aACZ5hB,KAAK2hB,aAAe3hB,KAAKgiB,gBAAkBhiB,KAAK+R,WAAa/R,KAAK6W,cACpE,EACA,MAAAxQ,GACE,OAAOrG,KAAKF,MAAMuG,OAAOkI,KAAK4V,IAAU,CAAGhS,MAAOgS,KACpD,EAEA,eAAA2H,GACE,OAAK9rB,KAAKod,cAAiBpf,OAAO6N,KAAK7L,KAAKod,cAAc9hB,OACnDuX,MAAM,GAAGmR,KAAK,IAAIzV,KAAI,CAAC4E,EAAM1C,KAClC,IAAIxK,EAAMjG,KAAKod,aAAa3M,EAAI,IAAM,GAYtC,OAXKoC,MAAMkZ,QAAQ9lB,KAAMA,EAAM,CAACA,IAChCkN,EAAO,GACPlN,EAAIqH,SAAQ,EAAGiT,OAAMC,KAAI3lB,MAAOgtB,EAAO1V,SAASsL,KAC9CtK,EAAKsK,GAAK,CACRxX,IAAKwK,EAAI,EACT8P,KAAO,CAAC,UAAM,GAAQtR,SAASsR,GAAmB,KAAJ,EAAPA,EACvCC,GAAK,CAAC,UAAM,GAAQvR,SAASuR,GAAe,KAAJ,EAALA,EACnC3lB,MAAOgtB,GAAS,GAChB1V,MAAOA,GAAS,GACjB,IAEIgB,CAAI,IAd4D,CAAC,CAgB5E,EACA,SAAAsP,GACE,MAAM+D,EAAMxmB,KAAKkT,MAAMjT,KACvB,IAAI1C,EAAQ,GACZ,MAAM0C,EAAOD,KAAKiN,KAAKqG,UACjB3Q,EAAO1C,EAAK0B,cACZwiB,EAAQlkB,EAAK2B,WACnB,OAAQ5B,KAAKiN,KAAK/R,IAChB,IAAK,QACHqC,EAAQyC,KAAKF,MAAMokB,MACnB,MAEF,IAAK,OACH3mB,EAAQoF,EACR,MAEF,IAAK,QACHpF,EAAQ,GAAGyC,KAAKqG,OAAO8d,GAAOhS,SAASxP,IACvC,MAEF,IAAK,OAAQ,CACX,MAAMqpB,EAAgBhsB,KAAKiN,KAAKiT,QAC1B+L,EAAKhsB,EAAK0B,cAChB,IAAIuqB,EAAKlsB,KAAKF,MAAMuG,OAAOpG,EAAK2B,YAC5B5B,KAAK8R,SAAQoa,EAAKA,EAAG9lB,UAAU,EAAG,IACtC,IAAI+lB,EAAqB,GAAGD,KAAMD,IAClC,GAAID,EAAcpqB,aAAe3B,EAAK2B,WAAY,CAChD,MAAMwqB,EAAKJ,EAAcrqB,cACzB,IAAI0qB,EAAKrsB,KAAKF,MAAMuG,OAAO2lB,EAAcpqB,YACrC5B,KAAK8R,SAAQua,EAAKA,EAAGjmB,UAAU,EAAG,IACvB+lB,EAAXF,IAAOG,EAAyB,GAAGF,OAAQG,KAAMJ,IAE/CjsB,KAAK6R,MAA4B,GAAGqa,EAAG9lB,UAAU,EAAG,MAAM6lB,OAAQI,EAAGjmB,UAAU,EAAG,MAAMgmB,IAClE,GAAGF,KAAMD,OAAQI,KAAMD,GAErD,CACA7uB,EAAQ,GAAGyC,KAAKF,MAAMsjB,QAAQoD,EAAIvlB,QAAQjB,KAAKuT,kBAAoBiT,EAAIjmB,QAAQN,EAAM,GAAKA,OAAUksB,KACpG,KACF,CACA,IAAK,MACH5uB,EAAQyC,KAAKkT,MAAMjT,KAAKoB,WAAWpB,EAAMD,KAAKF,MAAMukB,WAAYrkB,KAAKF,OACrE,MAGJ,OAAOvC,CACT,EACA,SAAAgmB,GACE,MAAMiD,EAAMxmB,KAAKkT,MAAMjT,KACvB,IAAIyhB,EAAQ,GACR4K,EAAW,KACXjZ,GAAa,EACZrT,KAAKslB,gBAAetlB,KAAKT,IAAsB,IAAIc,MACxD,MAAMksB,EAAOvsB,KAAKT,IAClB,OAAQS,KAAKiN,KAAK/R,IAChB,IAAK,QACHoxB,EAAWtsB,KAAKiN,KAAKqG,UAAU3R,cAC/B+f,EAAQ7O,MAAM2Z,MAAM,KAAM3Z,MAAM,KAAKtE,KAAI,CAAC4E,EAAM1C,KAC9C,MAAM6C,EAAY,IAAIjT,KAAKisB,EAAW7b,EAAG,EAAG,GACtCyP,EAAU,IAAI7f,KAAKisB,EAAW7b,EAAI,EAAG,EAAG,GAE9C,OADAyP,EAAQyG,YAAY,GACb,CACLrT,YACA1H,cAAe4a,EAAI1iB,eAAewP,GAClC4M,UACA5W,QAASgjB,EAAW7b,EACpB0Q,QAASmL,EAAW7b,IAAM8b,EAAK5qB,cAChC,IAEH,MAEF,IAAK,OACH2qB,EAAWtsB,KAAKiN,KAAKqG,UAAU3R,cAC/B+f,EAAQ7O,MAAM2Z,MAAM,KAAM3Z,MAAM,KAAKtE,KAAI,CAAC4E,EAAM1C,KAC9C,MAAM6C,EAAY,IAAIjT,KAAKisB,EAAU7b,EAAG,GAClCyP,EAAU,IAAI7f,KAAKisB,EAAU7b,EAAI,EAAG,GAE1C,OADAyP,EAAQyG,YAAY,GACb,CACLrT,YACA1H,cAAe4a,EAAI1iB,eAAewP,GAClC4M,UACA5W,QAAStJ,KAAK8R,OAAS9R,KAAKqG,OAAOoK,GAAG0B,MAAM3L,OAAO,EAAG,GAAKxG,KAAKqG,OAAOoK,GAAG0B,MAC1EgP,QAAS1Q,IAAM8b,EAAK3qB,YAAc0qB,IAAaC,EAAK5qB,cACrD,IAEH,MAEF,IAAK,QAAS,CACZ,MAAMwiB,EAAQnkB,KAAKiN,KAAKqG,UAAU1R,WAC5B2jB,EAAgB,IAAIllB,KAAKL,KAAKiN,KAAKsY,eACzClS,GAAa,EACbqO,EAAQ7O,MAAM2Z,MAAM,KAAM3Z,MAAM,KAAKtE,KAAI,CAAC4E,EAAM1C,KAC9C,MAAM6C,EAAYkT,EAAIjmB,QAAQglB,EAAe9U,GACvCyP,EAAU,IAAI7f,KAAKiT,GACzB4M,EAAQle,SAAS,GAAI,GAAI,GAAI,GAC7B,MAAMd,GAAWmS,GAAcmT,EAAItlB,QAAQoS,KAAeD,IAC1D,MAAO,CACLC,YACA1H,cAAe4a,EAAI1iB,eAAewP,GAClC4M,UACA5W,QAASgK,EAAU5R,UACnBiP,MAAOzP,EACPkgB,WAAY9N,EAAU1R,aAAeuiB,EACrCtpB,MAAO,oBAAoByY,EAAUtQ,UAAY,IAClD,KAEChD,KAAKwT,cAAgBxT,KAAK6T,aAAavY,UACzComB,EAAQA,EAAM1U,QAAQmG,IACpB,MAAMlN,EAAMkN,EAAKG,UAAUtQ,UAAY,EACvC,QAAShD,KAAKwT,cAAgBvN,GAAO,GAAKjG,KAAK6T,aAAavY,QAAU0E,KAAK6T,aAAa5E,SAAShJ,GAAK,KAG1G,KACF,CACA,IAAK,OAAQ,CACXoN,GAAa,EACb,MAAMoZ,EAAiBzsB,KAAKiN,KAAKqG,UAC3B/M,EAAWvG,KAAKuG,SACtBmb,EAAQnb,EAASgI,KAAI,CAAC4E,EAAM1C,KAC1B,MAAM6C,EAAYkT,EAAIjmB,QAAQksB,EAAgBzsB,KAAKuT,mBAAqBvT,KAAKwT,aAAe/C,EAAI,EAAIA,GAC9FyP,EAAU,IAAI7f,KAAKiT,GACzB4M,EAAQle,SAAS,GAAI,GAAI,GAAI,GAC7B,MAAM0qB,GAAapZ,EAAUtQ,UAAY,GAAK,EAC9C,MAAO,CACLsQ,YACA1H,cAAe4a,EAAI1iB,eAAewP,GAClC4M,UAEAvP,OAAQ0C,GAAcmT,EAAItlB,QAAQoS,KAAeD,IACjD+J,aAAcpd,KAAK8rB,gBAAgBY,IAAc,GAClD,IACA1f,QAAO,CAACmG,EAAM1C,KAAOlK,EAASkK,GAAGC,OACpC,KACF,CACA,IAAK,MAAO,CACV,MAAM4C,EAAYtT,KAAKiN,KAAKqG,UACtB4M,EAAU,IAAI7f,KAAKL,KAAKiN,KAAKqG,WACnC4M,EAAQle,SAAS,GAAI,GAAI,GAAI,GAC7B,MAAM0qB,GAAapZ,EAAUtQ,UAAY,GAAK,EAC9C0e,EAAQ,CAAC,CACPpO,YACA1H,cAAe4a,EAAI1iB,eAAewP,GAClC4M,UACAvP,MAAO6V,EAAItlB,QAAQoS,GACnB8J,aAAcpd,KAAK8rB,gBAAgBY,IAAc,KAEnD,KACF,EAEF,OAAOhL,CACT,EAEA,gBAAAgK,GACE,OAAI1rB,KAAK4iB,UAAkB,EACpB,EAAI5iB,KAAKuG,SAASoN,QAAO,CAACC,EAAO3N,IAAQ2N,EAAQ3N,EAAIyK,MAAM,EACpE,EACA,SAAAgD,GACE,OAAO,IAAM1T,KAAK0rB,gBACpB,EACA,UAAArJ,GACE,MAAM,cAAE1I,EAAa,YAAEC,EAAW,kBAAE4F,GAAsBxf,KAAKsH,UAC/D,MAAO,CACL,CAAC,WAAWtH,KAAKiN,KAAK/R,YAAY,EAClC,CAAC,WAAW8E,KAAKwiB,UAAWxiB,KAAKwiB,OACjC,mBAAoBxiB,KAAK5D,KACzB,yBAA0B4D,KAAK2iB,cAC/B,uBAAwB3iB,KAAKmjB,iBAAmBnjB,KAAK4hB,YACrD,sBAAuB5hB,KAAKqlB,WAC5B,4BAA6BrlB,KAAKkH,gBAClC,wBAAyBlH,KAAKwT,aAC9B,qBAAsBxT,KAAK+R,UAC3B,8BAA+B/R,KAAK+R,WAAa/R,KAAKgS,kBACtD,qBAAsBhS,KAAKgiB,cAAgBhiB,KAAK2hB,YAAc3hB,KAAK+R,WAAa/R,KAAK6W,cACrF,gBAAiB7W,KAAK6R,MACtB,iBAAkB7R,KAAK8R,OACvB,yBAA0B6H,EAAcxQ,KACxC,8BAA+BqW,EAAkB9U,MACjD,yBAA0BkP,EAAYzQ,KACtC,+BAAgCnJ,KAAKwd,kBACrC,uBAAwBxd,KAAK4hB,aAA0C,UAA3B5hB,KAAKwd,kBACjD,oBAAuC,qBAAXnW,QAA0B,iBAAkBA,OAE5E,EACA,iBAAAgZ,GACE,MAAO,CAAC,QAAS,QAAQpR,SAASjP,KAAKiN,KAAK/R,GAC9C,EACA,WAAAyxB,GACE,MAAwB,UAAjB3sB,KAAKiN,KAAK/R,EACnB,EACA,UAAA0xB,GACE,MAAwB,SAAjB5sB,KAAKiN,KAAK/R,EACnB,EACA,WAAA0mB,GACE,MAAwB,UAAjB5hB,KAAKiN,KAAK/R,EACnB,EACA,eAAAgiB,GACE,MAAO,CAAC,OAAQ,OAAOjO,SAASjP,KAAKiN,KAAK/R,GAC5C,EACA,UAAAymB,GACE,MAAwB,SAAjB3hB,KAAKiN,KAAK/R,EACnB,EACA,SAAA0nB,GACE,MAAwB,QAAjB5iB,KAAKiN,KAAK/R,EACnB,GAEF2xB,MAAO,CACL3wB,OAAQ,CAEN,OAAA4wB,CAAQ5wB,EAAQ6wB,GACd/sB,KAAKypB,oBAAoBvtB,GACzB8D,KAAKoL,iBACP,EACA4hB,MAAM,GAER,MAAAxK,CAAOA,GACLxiB,KAAK4lB,WAAWpD,EAClB,EACA,YAAAvP,CAAahT,GACXD,KAAKwW,mBAAmBvW,EAC1B,EACA,UAAAykB,CAAWuI,GACTjtB,KAAKuV,WAAW0X,EAClB,IAGEC,GAAwB9a,GAAYoS,GAAW,CAAC,CAAC,SAAU,M,6CCr3GjE,MAE6B3pB,MAAM,iB,IAC1BA,MAAM,S,IACJA,MAAM,gB,IAMNA,MAAM,c,IAuBFA,MAAM,c,IAjCrB,MAsC8BA,MAAM,c,IAoBrBA,MAAM,gB,GA1DrB,a,gCAEa,EAAc,iB,WAAzB,QAgEM,MAhEN,GAgEM,EA/DJ,QA8DM,MA9DN,GA8DM,EA7DJ,QAGM,MAHN,GAGM,EAFJ,QAAiE,UAAzDA,MAAM,gBAAiB,QAAK,oBAAE,EAAA4B,YAAA,EAAAA,cAAA,KAAY,U,aAClD,QAAyC,MAArC5B,MAAM,eAAc,gBAAY,M,eAEtC,QAAgC,OAA3BA,MAAM,gBAAc,WAEzB,QAsDM,MAtDN,GAsDM,EArDJ,QAoDO,QApDA,SAAM,aAXrB,iBAW+B,EAAA6B,cAAA,EAAAA,gBAAA,IAAY,e,gBAEjC,QAAwC,SAAjCQ,IAAI,iBAAgB,SAAK,K,SAChC,QAME,SApBZ,qCAeqB,EAAY,gBACrBE,KAAK,OACLlC,GAAG,gBACHmC,YAAY,QACZC,SAAA,I,iBAJS,EAAA6vB,gB,eAQX,QAAsC,SAA/BjwB,IAAI,gBAAe,QAAI,K,SAC9B,QAKE,SA7BZ,qCAyBqB,EAAY,gBACrBE,KAAK,OACLlC,GAAG,eACHoC,SAAA,I,iBAHS,EAAA8vB,gB,eAOX,QAAmC,SAA5BlwB,IAAI,aAAY,QAAI,KAC3B,QAIM,MAJN,GAIM,E,SAHJ,QAAkD,SAlC9D,qCAkC4B,EAAS,aAAEE,KAAK,OAAOE,SAAA,I,iBAAvB,EAAA+vB,a,aAChB,QAAyB,KAAtBxyB,MAAM,YAAW,KAAC,K,SACrB,QAAgD,SApC5D,qCAoC4B,EAAO,WAAEuC,KAAK,OAAOE,SAAA,I,iBAArB,EAAAgwB,aAET,EAAS,Y,WAAlB,QAA0D,IAA1D,IAA0D,QAAhB,EAAA3vB,WAAS,KAtC7D,e,eAyCU,QAAsC,SAA/BT,IAAI,YAAW,YAAQ,K,SAC9B,QAKE,SA/CZ,qCA2CqB,EAAgB,oBACzBE,KAAK,OACLlC,GAAG,WACHmC,YAAY,kB,iBAHH,EAAAkwB,oB,eAOX,QAA4C,SAArCrwB,IAAI,eAAc,eAAW,K,SACpC,QAIY,YAvDtB,qCAoDqB,EAAmB,uBAC5BhC,GAAG,cACHmC,YAAY,e,iBAFH,EAAAmwB,wBAMX,QAIM,MAJN,GAIM,EAHJ,QAES,UAFDpwB,KAAK,SAASvC,MAAM,cAAegD,UAAW,EAAA4vB,aAAa,SAEnE,EA7DZ,O,YAAA,c,CAsEA,UACE,IAAAlX,GACE,MAAO,CACL4W,aAAc,GACdK,oBAAqB,GACrBJ,cAAc,IAAI/sB,MAAOqtB,cAAclnB,OAAO,EAAG,IACjD6mB,UAAW,QACXC,QAAS,QACTC,iBAAkB,GAClBI,gBAAgB,EAChBhwB,UAAW,GAEf,EACAyV,SAAU,CAER,WAAAqa,GACE,MAC+B,KAA7BztB,KAAKmtB,aAAaS,QACW,KAA7B5tB,KAAKotB,aAAaQ,QACQ,KAA1B5tB,KAAKqtB,UAAUO,QACS,KAAxB5tB,KAAKstB,QAAQM,QACb5tB,KAAK6tB,gBAET,EAEA,gBAAAA,GACE,OAAO7tB,KAAK8tB,aAAa9tB,KAAKqtB,UAAWrtB,KAAKstB,QAChD,GAEFT,MAAO,CAEL,SAAAQ,GACErtB,KAAK+tB,mBACP,EACA,OAAAT,GACEttB,KAAK+tB,mBACP,GAEFhb,QAAS,CAEP,UAAAtW,GACEuD,KAAK2tB,gBAAiB,EACtB3tB,KAAKiH,MAAM,QACb,EAEA,YAAA6mB,CAAa1qB,EAAOC,GAClB,MAAO2qB,EAAYC,GAAgB7qB,EAAM9D,MAAM,KAAKiP,IAAI+H,SACjD4X,EAAUC,GAAc9qB,EAAI/D,MAAM,KAAKiP,IAAI+H,QAGlD,OACE4X,EAAWF,GACVE,IAAaF,GAAcG,EAAaF,CAE7C,EAEA,iBAAAF,GACO/tB,KAAK6tB,iBAGR7tB,KAAKrC,UAAY,GAFjBqC,KAAKrC,UAAY,oCAIrB,EAEA,YAAAjB,GACE,IAAKsD,KAAKytB,YAAa,OAEvB,MAAMW,EAAgB,IAAI/tB,KAAK,GAAGL,KAAKotB,gBAAgBptB,KAAKqtB,aACtDgB,EAAc,IAAIhuB,KAAK,GAAGL,KAAKotB,gBAAgBptB,KAAKstB,WAEpDgB,EAAc,CAClB/wB,MAAOyC,KAAKmtB,aACZ/pB,MAAOgrB,EAAcV,cACrBrqB,IAAKgrB,EAAYX,cACjB9vB,SAAUoC,KAAKutB,iBACfzxB,YAAakE,KAAKwtB,qBAGpBxtB,KAAKiH,MAAM,gBAAiBqnB,GAC5BtuB,KAAKuuB,YACLvuB,KAAKvD,YACP,I,eChJJ,MAAM+xB,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,M,ICTA,MAE6B3zB,MAAM,iB,IAC1BA,MAAM,S,IACJA,MAAM,gB,IAJjB,MAO6BA,MAAM,iB,IAPnC,MAQmBA,MAAM,iB,IAIdA,MAAM,c,IAqBFA,MAAM,oB,IAYNA,MAAM,gB,GA7CrB,Y,IAyDeA,MAAM,gB,GAzDrB,a,gCAEa,EAAc,iB,WAAzB,QA+DM,MA/DN,GA+DM,EA9DJ,QA6DM,MA7DN,GA6DM,EA5DJ,QAKM,MALN,GAKM,EAJJ,QAAiE,UAAzDA,MAAM,gBAAiB,QAAK,oBAAE,EAAA4B,YAAA,EAAAA,cAAA,KAAY,UAExC,EAAS,Y,WAAnB,QAA8D,KAA9D,GAA2C,qB,WAC3C,QAAmD,KAAnD,GAAiC,oB,aAEnC,QAAgC,OAA3B5B,MAAM,gBAAc,WAEzB,QAmDM,MAnDN,GAmDM,EAlDJ,QAiDO,QAjDA,SAAM,aAbrB,iBAa+B,EAAAkC,eAAA,EAAAA,iBAAA,IAAa,e,cAElC,QAA6B,aAAtB,kBAAc,K,SACrB,QAKE,SArBZ,qCAiBqB,EAAa,iBACtBK,KAAK,OACLC,YAAY,sBACZC,SAAA,I,iBAHS,EAAAmxB,iB,aAOX,QAA0B,aAAnB,eAAW,K,SAClB,QAIE,SA7BZ,qCA0BqB,EAAoB,wBAC7BrxB,KAAK,OACLC,YAAY,qC,iBAFH,EAAAqxB,wB,aAMX,QAA0B,aAAnB,eAAW,KAClB,QASM,MATN,GASM,E,SARJ,QAIE,SAtCd,qCAmCuB,EAAW,eACpBtxB,KAAK,QACLC,YAAY,wB,iBAFH,EAAAsxB,gBAIX,QAES,UAFDvxB,KAAK,SAASvC,MAAM,aAAc,QAAK,oBAAE,EAAA+zB,WAAA,EAAAA,aAAA,KAAW,YAM9D,QASM,MATN,GASM,G,aARJ,QAOO,WArDnB,QA+CwC,EAAAvzB,SA/CxC,CA+CsBwzB,EAAQ3B,M,WADlB,QAOO,QALJjyB,IAAKiyB,EACNryB,MAAM,e,EAjDpB,iBAmDiBg0B,EAAOC,OAAQ,IAClB,YAA+C,UAAtC,QAAK,GAAE,EAAAC,aAAa7B,IAAQ,IAAC,EApDpD,S,SAyDU,QAIM,MAJN,GAIM,EAHJ,QAES,UAFD9vB,KAAK,SAASvC,MAAM,cAAegD,UAAW,EAAA4vB,c,QACjD,EAAAuB,UAAY,SAAW,QAAd,EA3D1B,O,YAAA,c,CAyEA,MAAMC,IAAK,SAAaC,GAAA,GAExB,IACE5c,MAAO,CACLzV,iBAAkB,CAChBO,KAAMwV,OACNtV,UAAU,GAEZR,iBAAkB,CAChBM,KAAMY,OACNuT,QAAS,OAGb,IAAAgF,GACE,MAAO,CACLkY,cAAe,GACfC,qBAAsB,GACtBrzB,QAAS,GACTszB,YAAa,GACbK,WAAW,EACXrB,gBAAgB,EAChBwB,aAAc,GAElB,EACA/b,SAAU,CAER,WAAAqa,GACE,MAAqC,KAA9BztB,KAAKyuB,cAAcb,MAC5B,GAEF7a,QAAS,CAEP,UAAAtW,GACEuD,KAAK2tB,gBAAiB,EACtB3tB,KAAKmvB,aAAe,GACpBnvB,KAAKiH,MAAM,QACb,EAEA,aAAAlK,GACE,IAAKiD,KAAKytB,YAAa,OAEvB,MAAM2B,EAAgB,CACpBh0B,KAAM4E,KAAKyuB,cACX3yB,YAAakE,KAAK0uB,qBAClBrzB,QAAS2E,KAAK3E,QAAQkT,KAAKsgB,GAAWA,EAAOC,SAE/C9uB,KAAKiH,MAAM,iBAAkBmoB,GAC7BpvB,KAAKuuB,YACLvuB,KAAKvD,YACP,EAEA,eAAMmyB,GACJ,IAAK5uB,KAAK2uB,YAAa,OAGvB,GACE3uB,KAAK3E,QAAQusB,MAAMiH,GAAWA,EAAOC,QAAU9uB,KAAK2uB,eACpD3uB,KAAK2uB,cAAgB3uB,KAAKnD,iBAI1B,OAFAwyB,MAAM,mDACNrvB,KAAK2uB,YAAc,IAKrB,MAAMW,GAAa,SAAIL,GAAI,QAASjvB,KAAK2uB,aACnCY,QAAqB,SAAOD,GAE9BC,EAAaC,UACfxvB,KAAK3E,QAAQ8P,KAAK,CAAE2jB,MAAO9uB,KAAK2uB,cAChCzI,QAAQuJ,IAAI,wBAAyBzvB,KAAK2uB,cAE1CU,MAAM,wBAERrvB,KAAK2uB,YAAc,EACrB,EAEA,YAAAI,CAAa7B,GACXltB,KAAK3E,QAAQ6S,OAAOgf,EAAO,EAC7B,EAEA,SAAAqB,GACEvuB,KAAKyuB,cAAgB,GACrBzuB,KAAK0uB,qBAAuB,GAC5B1uB,KAAK3E,QAAU,GACf2E,KAAK2uB,YAAc,GACnB3uB,KAAKgvB,WAAY,CACnB,GAEF,OAAAjE,GAEM/qB,KAAKlD,mBACPkD,KAAKgvB,WAAY,EACjBhvB,KAAKyuB,cAAgBzuB,KAAKlD,iBAAiB1B,KAC3C4E,KAAK0uB,qBAAuB1uB,KAAKlD,iBAAiBhB,YAClDkE,KAAK3E,QACH2E,KAAKlD,iBAAiBzB,SAClB2R,QAAQ8hB,GAAUA,IAAU9uB,KAAKnD,mBAClC0R,KAAKugB,IAAU,CAAGA,aAAa,GAExC,GCtKI,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,MCNA,IAAIY,GACAC,GAAQ,IAAIC,WAAW,IACZ,SAASC,KAEtB,IAAKH,KAGHA,GAAoC,qBAAXI,QAA0BA,OAAOJ,iBAAmBI,OAAOJ,gBAAgBtwB,KAAK0wB,SAA+B,qBAAbC,UAAgE,oBAA7BA,SAASL,iBAAkCK,SAASL,gBAAgBtwB,KAAK2wB,WAElOL,IACH,MAAM,IAAIrwB,MAAM,4GAIpB,OAAOqwB,GAAgBC,GACzB,CClBA,+HCEA,SAASK,GAASC,GAChB,MAAuB,kBAATA,GAAqB,GAAMC,KAAKD,EAChD,CAEA,YCEA,IAFA,IAAIE,GAAY,GAEP1f,GAAI,EAAGA,GAAI,MAAOA,GACzB0f,GAAUhlB,MAAMsF,GAAI,KAAOtK,SAAS,IAAIK,OAAO,IAGjD,SAAS4pB,GAAUC,GACjB,IAAIC,EAASC,UAAUj1B,OAAS,QAAsBk1B,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,EAG7EN,GAAQE,GAAUE,EAAIC,EAAS,IAAMH,GAAUE,EAAIC,EAAS,IAAMH,GAAUE,EAAIC,EAAS,IAAMH,GAAUE,EAAIC,EAAS,IAAM,IAAMH,GAAUE,EAAIC,EAAS,IAAMH,GAAUE,EAAIC,EAAS,IAAM,IAAMH,GAAUE,EAAIC,EAAS,IAAMH,GAAUE,EAAIC,EAAS,IAAM,IAAMH,GAAUE,EAAIC,EAAS,IAAMH,GAAUE,EAAIC,EAAS,IAAM,IAAMH,GAAUE,EAAIC,EAAS,KAAOH,GAAUE,EAAIC,EAAS,KAAOH,GAAUE,EAAIC,EAAS,KAAOH,GAAUE,EAAIC,EAAS,KAAOH,GAAUE,EAAIC,EAAS,KAAOH,GAAUE,EAAIC,EAAS,MAAM1M,cAMzf,IAAK,GAASqM,GACZ,MAAMQ,UAAU,+BAGlB,OAAOR,CACT,CAEA,YC1BA,SAASS,GAAGtjB,EAASujB,EAAKL,GACxBljB,EAAUA,GAAW,CAAC,EACtB,IAAIwjB,EAAOxjB,EAAQyjB,SAAWzjB,EAAQyiB,KAAOA,MAK7C,GAHAe,EAAK,GAAe,GAAVA,EAAK,GAAY,GAC3BA,EAAK,GAAe,GAAVA,EAAK,GAAY,IAEvBD,EAAK,CACPL,EAASA,GAAU,EAEnB,IAAK,IAAI7f,EAAI,EAAGA,EAAI,KAAMA,EACxBkgB,EAAIL,EAAS7f,GAAKmgB,EAAKngB,GAGzB,OAAOkgB,CACT,CAEA,OAAO,GAAUC,EACnB,CAEA,YViNM,IAAK,SAAa1B,GAAA,GAExB,IACE9Y,WAAY,CACV0a,OAAM,GACNC,oBAAmB,GACnBC,qBAAoB,IAEtB,IAAAza,GACE,MAAO,CACL0a,sBAAsB,EACtBC,uBAAuB,EACvB/zB,aAAc,KACdK,iBAAkB,GAClBC,sBAAuB,GACvBC,oBAAqB,GACrBlB,oBAAqB,KACrBzB,WAAY,GACZoB,eAAgB,GAChBQ,sBAAsB,EACtBC,uBAAuB,EACvBu0B,cAAe,GACft0B,iBAAkB,GAClBjB,iBAAkB,KAClBkB,iBAAkB,KAClBrB,eAAgB,KAChB21B,gBAAiB,KACjBv1B,aAAa,EACbmvB,YAAa,QACbrtB,UAAW,GAEf,EACAyV,SAAU,CACR,oBAAAie,GAEE,OAAOrxB,KAAK8tB,aACV9tB,KAAKvC,sBACLuC,KAAKtC,oBAET,GAEFmvB,MAAO,CAEL,qBAAApvB,GACEuC,KAAKsxB,uBACP,EACA,mBAAA5zB,GACEsC,KAAKsxB,uBACP,GAEF,aAAMvG,GACJ,MAAMwG,GAAO,YACb,SAAmBA,GAAMC,MAAOC,IAC1BA,GACFzxB,KAAKnD,iBAAmB40B,EAAK3C,MAC7B9uB,KAAKmxB,cAAgBM,EAAK7mB,UACpB5K,KAAK0xB,sBAEXxL,QAAQuJ,IAAI,oBACd,IAEFpF,SAASe,iBAAiB,QAASprB,KAAK2xB,2BAC1C,EACA,aAAApG,GACElB,SAASmB,oBAAoB,QAASxrB,KAAK2xB,2BAC7C,EACA5e,QAAS,CACP,YAAA+a,CAAa1qB,EAAOC,GAClB,MAAO2qB,EAAYC,GAAgB7qB,EAAM9D,MAAM,KAAKiP,IAAI+H,SACjD4X,EAAUC,GAAc9qB,EAAI/D,MAAM,KAAKiP,IAAI+H,QAElD,OACE4X,EAAWF,GACVE,IAAaF,GAAcG,EAAaF,CAE7C,EACA,qBAAAqD,GACOtxB,KAAKqxB,qBAGRrxB,KAAKrC,UAAY,GAFjBqC,KAAKrC,UAAY,oCAIrB,EACA,mBAAMxC,CAAcH,GACbA,IAELgF,KAAKpE,iBAAmBZ,EACxBgF,KAAKxD,oBAAsBxB,EAAUE,GAErC8E,KAAK7D,gBAAkBnB,EAAUO,YAAc,IAAIgT,KAAKqjB,IAAa,IAChEA,EACHxuB,MAAO,IAAI/C,KAAKuxB,EAASxuB,OACzBC,IAAK,IAAIhD,KAAKuxB,EAASvuB,SAE3B,EACA,wBAAMquB,GACJ,IAAK1xB,KAAKnD,iBAAkB,OAE5B,MAAMyyB,GAAa,SAAI,GAAI,QAAStvB,KAAKnD,kBACnC0yB,QAAqB,SAAOD,GAElC,IAAKC,EAAaC,SAAU,OAE5B,MAAMqC,EAAetC,EAAahZ,OAAOxb,YAAc,GACjD+2B,QAA2B,UAAQ,SAAW,GAAI,eAExD9xB,KAAKjF,WAAa+2B,EAAmBC,KAClCxjB,KAAKyjB,IAAQ,CAAG92B,GAAI82B,EAAI92B,MAAO82B,EAAIzb,WACnCvJ,QAAQhS,GAAc62B,EAAa5iB,SAASjU,EAAUE,MAEzD8E,KAAKpE,iBAAmBoE,KAAKjF,WAAW,IAAM,KAC1CiF,KAAKpE,iBACPoE,KAAK7E,cAAc6E,KAAKpE,kBAExBoE,KAAK7D,eAAiB,EAE1B,EACA,gBAAAJ,CAAiBf,GACf,OAAQA,EAAUO,YAAc,IAAID,MACtC,EACA,kBAAAU,CAAmBhB,GACjB,OAAQA,EAAUK,SAAW,IAAIC,MACnC,EACA,mBAAAW,GACO+D,KAAKpE,kBAIVoE,KAAKixB,sBAAuB,EAC5BjxB,KAAKxD,oBAAsBwD,KAAKpE,iBAAiBV,IAJ/Cm0B,MAAM,wDAKV,EACA,qBAAA3zB,CAAsBV,GACpBgF,KAAKpD,uBAAwB,EAC7BoD,KAAKlD,iBAAmB9B,CAC1B,EACA,sBAAAF,GACEkF,KAAKrD,sBAAuB,EAC5BqD,KAAKlD,iBAAmB,IAC1B,EACA,UAAAL,GACEuD,KAAKixB,sBAAuB,EAC5BjxB,KAAKrD,sBAAuB,EAC5BqD,KAAKpD,uBAAwB,EAC7BoD,KAAKkxB,uBAAwB,EAC7BlxB,KAAKlD,iBAAmB,IAC1B,EACA,kBAAMJ,CAAa4xB,GACjB,IAAKtuB,KAAKxD,oBAAqB,OAE/B8xB,EAAYpzB,GAAK,KAEjB,MAAM+2B,EAAoBjyB,KAAKjF,WAAW2f,MACvChM,GAAMA,EAAExT,KAAO8E,KAAKxD,sBAEjB01B,GAAe,SAAI,GAAI,aAAclyB,KAAKxD,qBAEhD,UACQ,SAAU01B,EAAc,CAC5B32B,YAAY,SAAW+yB,KAGrB2D,EAAkB/2B,KAAO8E,KAAKpE,kBAAkBV,KAClD8E,KAAK7D,eAAegP,KAAK,IACpBmjB,EACHlrB,MAAO,IAAI/C,KAAKiuB,EAAYlrB,OAC5BC,IAAK,IAAIhD,KAAKiuB,EAAYjrB,OAG5BrD,KAAKpE,iBAAiBL,WAAa,IAC7ByE,KAAKpE,iBAAiBL,YAAc,GACxC+yB,IAIJtuB,KAAKvD,YACP,CAAE,MAAO4pB,GACPH,QAAQG,MACN,mDACAA,EAEJ,CACF,EACA,mBAAMtpB,CAAcqyB,GAClB,MAAM+C,EAAa,IACd,IAAIhkB,IAAI,IAAIihB,EAAc/zB,QAAS2E,KAAKnD,oBAEvCu1B,EAAoB,IACrBhD,EACH/zB,QAAS82B,EACT52B,WAAYyE,KAAKlD,iBACbkD,KAAKlD,iBAAiBvB,WACtB,IAEN,IACE,IAAI82B,EACJ,GAAIryB,KAAKlD,iBAAkB,CACzBu1B,EAAcryB,KAAKlD,iBAAiB5B,GACpC,MAAMg3B,GAAe,SAAI,GAAI,aAAcG,SACrC,SAAUH,EAAcE,GAC9B,MAAMlF,EAAQltB,KAAKjF,WAAW6T,WAC3BF,GAAMA,EAAExT,KAAO8E,KAAKlD,iBAAiB5B,MAEzB,IAAXgyB,IACFltB,KAAKjF,WAAWmyB,GAAS,CACvBhyB,GAAI8E,KAAKlD,iBAAiB5B,MACvBk3B,GAGT,KAAO,CACL,MAAME,QAAqB,UACzB,SAAW,GAAI,cACfF,GAEFC,EAAcC,EAAap3B,SACrB8E,KAAKuyB,qBACTF,EACAD,EAAkB/2B,SAEpB2E,KAAKjF,WAAWoQ,KAAK,CAAEjQ,GAAIo3B,EAAap3B,MAAOk3B,UACzCpyB,KAAKwyB,mBAAmBH,EAChC,OACMryB,KAAKuyB,qBAAqBF,EAAaF,SACvCnyB,KAAK0xB,qBACX1xB,KAAKvD,YACP,CAAE,MAAO4pB,GACPH,QAAQG,MAAM,0BAA2BA,EAC3C,CACF,EACA,wBAAMmM,CAAmBH,GACvB,IAAKryB,KAAKnD,iBAAkB,OAC5B,MAAM41B,GAAU,SAAI,GAAI,QAASzyB,KAAKnD,wBAChC,SAAU41B,EAAS,CAAE13B,YAAY,SAAWs3B,IACpD,EACA,0BAAME,CAAqBG,EAAaP,GACtC,IAAK,MAAMrD,KAASqD,EAAY,CAC9B,MAAMM,GAAU,SAAI,GAAI,QAAS3D,SAC3B,SAAU2D,EAAS,CAAE13B,YAAY,SAAW23B,IACpD,CACA,MAAMR,GAAe,SAAI,GAAI,aAAcQ,SACrC,SAAUR,EAAc,CAAE72B,SAAS,YAAc82B,IACzD,EACA,oBAAMx2B,CAAe02B,GACnB,MAAMI,GAAU,SAAI,GAAI,QAASzyB,KAAKnD,wBAChC,SAAU41B,EAAS,CAAE13B,YAAY,SAAYs3B,KACnD,MAAMH,GAAe,SAAI,GAAI,aAAcG,SACrC,SAAUH,EAAc,CAC5B72B,SAAS,SAAY2E,KAAKnD,oBAE5BmD,KAAKjF,WAAaiF,KAAKjF,WAAWiS,QAC/BhS,GAAcA,EAAUE,KAAOm3B,IAElCryB,KAAKpE,iBAAmBoE,KAAKjF,WAAW,IAAM,KAC1CiF,KAAKpE,iBACPoE,KAAK7E,cAAc6E,KAAKpE,kBAExBoE,KAAK7D,eAAiB,EAE1B,EACA,cAAAX,CAAe62B,GACbryB,KAAKvE,eACHuE,KAAKvE,iBAAmB42B,EAAc,KAAOA,CACjD,EACA,0BAAAV,CAA2BjnB,GACpBA,EAAM6H,OAAOogB,QAAQ,wBACxB3yB,KAAKvE,eAAiB,KAE1B,EACA,gBAAAY,CAAiBqO,GACf1K,KAAK7C,aAAe,IAAKuN,GACzB1K,KAAKxC,iBAAmBwC,KAAKqB,WAAWqJ,EAAMtH,OAC9CpD,KAAKvC,sBAAwBuC,KAAKsB,WAAWoJ,EAAMtH,OACnDpD,KAAKtC,oBAAsBsC,KAAKsB,WAAWoJ,EAAMrH,KACjDrD,KAAKkxB,uBAAwB,EAC7BlxB,KAAKsxB,uBACP,EACA,UAAAjwB,CAAWpB,GACT,OAAOA,EAAKytB,cAAcpuB,MAAM,KAAK,EACvC,EACA,UAAAgC,CAAWrB,GACT,OAAOA,EAAK2yB,eAAetzB,MAAM,KAAK,GAAG+N,MAAM,EAAG,EACpD,EACA,cAAArQ,GACEgD,KAAKkxB,uBAAwB,CAC/B,EACA,oBAAMj0B,GACJ,IAAK+C,KAAKqxB,qBAAsB,OAEhC,MAAMwB,EAAkB,IACnB7yB,KAAK7C,aACRiG,MAAO,IAAI/C,KACT,GAAGL,KAAKxC,oBAAoBwC,KAAKvC,yBAEnC4F,IAAK,IAAIhD,KAAK,GAAGL,KAAKxC,oBAAoBwC,KAAKtC,wBAG3CwvB,EAAQltB,KAAK7D,eAAeyS,WAC/BlE,GAAUA,EAAMxP,KAAO23B,EAAgB33B,KAG1C,IAAe,IAAXgyB,EAAc,CAChBltB,KAAK7D,eAAe+wB,GAAS2F,EAC7B,MAAMX,GAAe,SAAI,GAAI,aAAclyB,KAAKxD,qBAEhD,IACE,MAAMs2B,EAAoB9yB,KAAK7D,eAAeoS,KAAK7D,IAAU,IACxDA,EACHtH,MAAOsH,EAAMtH,MAAMsqB,cACnBrqB,IAAKqH,EAAMrH,IAAIqqB,wBAEX,SAAUwE,EAAc,CAAE32B,WAAYu3B,IAC5C9yB,KAAKpE,iBAAiBL,WAAau3B,CACrC,CAAE,MAAOzM,GACPH,QAAQG,MAAM,2BAA4BA,EAC5C,CACF,CACArmB,KAAKhD,gBACP,EACA,oBAAMc,GACJ,IAAKkC,KAAKxD,sBAAwBwD,KAAK7C,cAAcjC,GAEnD,YADAgrB,QAAQG,MAAM,wCAIhB,MAAMyM,EAAoB9yB,KAAKpE,iBAAiBL,WAAWyR,QACxD4kB,GAAaA,EAAS12B,KAAO8E,KAAK7C,aAAajC,KAGlD,IACE,MAAMg3B,GAAe,SAAI,GAAI,aAAclyB,KAAKxD,2BAC1C,SAAU01B,EAAc,CAAE32B,WAAYu3B,IAE5C9yB,KAAK7D,eAAiB6D,KAAK7D,eAAe6Q,QACvCtC,GAAUA,EAAMxP,KAAO8E,KAAK7C,aAAajC,KAE5C8E,KAAKpE,iBAAiBL,WAAau3B,EAEnC9yB,KAAKhD,iBACLkpB,QAAQuJ,IAAI,iCACd,CAAE,MAAOpJ,GACPH,QAAQG,MAAM,2BAA4BA,EAC5C,CACF,IWtjBE,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS0M,GAAQ,CAAC,YAAY,qBAEzF,K,uDCNI,MAAMC,EAAiB,CAEnBC,OAAQ,0CACRC,WAAY,sCACZC,UAAW,sBACXC,cAAe,kCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,gBAGbC,GAAc,QAAcR,GAGlC,IAFa,QAAQQ,GAErB,E","sources":["webpack://hiddenkittens/./src/views/PostLogin/Adventures.vue","webpack://hiddenkittens/./node_modules/vue-cal/dist/vue-cal.es.js","webpack://hiddenkittens/./src/components/CreateActivityModal.vue","webpack://hiddenkittens/./src/components/CreateActivityModal.vue?2323","webpack://hiddenkittens/./src/components/CreateAdventureModal.vue","webpack://hiddenkittens/./src/components/CreateAdventureModal.vue?cf18","webpack://hiddenkittens/./node_modules/uuid/dist/esm-browser/rng.js","webpack://hiddenkittens/./node_modules/uuid/dist/esm-browser/regex.js","webpack://hiddenkittens/./node_modules/uuid/dist/esm-browser/validate.js","webpack://hiddenkittens/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://hiddenkittens/./node_modules/uuid/dist/esm-browser/v4.js","webpack://hiddenkittens/./src/views/PostLogin/Adventures.vue?7943","webpack://hiddenkittens/./src/firebase.js"],"sourcesContent":["<template>\r\n  <!-- Base container for the adventures section of the page -->\r\n  <div class=\"base-layer\">\r\n    <div class=\"adventure-container\">\r\n      <!-- Left section containing list of adventures and actions -->\r\n      <div class=\"adventure-left\">\r\n        <h3>Your Adventures</h3>\r\n        <button class=\"new-adventure-btn\" @click=\"toggleNewAdventureForm\">\r\n          + New Adventure\r\n        </button>\r\n        <div class=\"divider-line-2\"></div>\r\n        <div class=\"AdventureListsContainer\">\r\n          <!-- Loop to display each adventure -->\r\n          <div\r\n            v-for=\"adventure in adventures\"\r\n            :key=\"adventure.id\"\r\n            :class=\"[\r\n              'adventure-list-item',\r\n              { selected: currentAdventure?.id === adventure.id },\r\n            ]\"\r\n            @click=\"loadAdventure(adventure)\"\r\n          >\r\n            <div class=\"icon-container\">\r\n              <i class=\"pi pi-users list-icon\"></i>\r\n            </div>\r\n            <div class=\"list-info\">\r\n              <h3>{{ adventure.name }}</h3>\r\n              <p>Members: {{ adventure.friends?.length || 0 }}</p>\r\n              <p>Activities: {{ adventure.activities?.length || 0 }}</p>\r\n            </div>\r\n            <div class=\"adventure-actions\">\r\n              <button @click.stop=\"toggleDropdown(adventure.id)\"></button>\r\n              <div v-if=\"activeDropdown === adventure.id\" class=\"dropdown-menu\">\r\n                <button @click=\"openEditAdventureForm(adventure)\">\r\n                  <i class=\"pi pi-file-edit\"></i> Edit Adventure\r\n                </button>\r\n                <button @click=\"leaveAdventure(adventure.id)\">\r\n                  <i class=\"pi pi-sign-out\"></i> Leave Adventure\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Right section that shows adventure details and calendar events if an adventure is selected -->\r\n      <div\r\n        class=\"adventure-right-container\"\r\n        v-if=\"adventures.length > 0 && currentAdventure\"\r\n      >\r\n        <div class=\"adventure-description\">\r\n          <div class=\"adventure-description-left\">\r\n            <!-- Display adventure name with hover information box -->\r\n            <button\r\n              class=\"white-button\"\r\n              @mouseover=\"showInfoBox = true\"\r\n              @mouseleave=\"showInfoBox = false\"\r\n            >\r\n              {{ currentAdventure.name }}\r\n            </button>\r\n\r\n            <!-- Information box that shows adventure details -->\r\n            <div v-if=\"showInfoBox\" class=\"info-box\">\r\n              <div class=\"info-box-title\">\r\n                <i class=\"pi pi-question-circle\"></i>\r\n                <p>Information</p>\r\n              </div>\r\n              <div class=\"divider-line-3\"></div>\r\n              <div class=\"info-box-information-container\">\r\n                <div class=\"info-box-left\">\r\n                  <p>Name:</p>\r\n                  <p>Description:</p>\r\n                  <p>No. activities:</p>\r\n                  <p>No. members:</p>\r\n                </div>\r\n                <div class=\"info-box-right\">\r\n                  <p>{{ currentAdventure.name }}</p>\r\n                  <p class=\"information-description\">\r\n                    {{ currentAdventure.description }}\r\n                  </p>\r\n                  <p>{{ getActivityCount(currentAdventure) }}</p>\r\n                  <p>{{ getAdventurerCount(currentAdventure) }}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"adventure-description-right\">\r\n            <button class=\"add-activity-btn\" @click=\"openAddActivityForm\">\r\n              + New Activity\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class=\"adventure-right\">\r\n          <!-- Calendar component showing adventure activities -->\r\n          <vue-cal\r\n            :events=\"calendarEvents\"\r\n            default-view=\"month\"\r\n            :time=\"true\"\r\n            :disable-views=\"['years', 'year']\"\r\n            events-on-month-view=\"long\"\r\n            @event-click=\"handleEventClick\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Message when there are no adventures to display -->\r\n      <div class=\"else-right-container\" v-else>\r\n        <div class=\"no-adventures-message\">\r\n          <img\r\n            src=\"../../assets/img/SadKitten.jpg\"\r\n            alt=\"Sad Kitten\"\r\n            class=\"sad-kitten-image\"\r\n          />\r\n          <p class=\"no-adventure-text\">\r\n            You currently are not in any adventures, create or join one to start\r\n            exploring!\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal for adding activities -->\r\n    <CreateActivityModal\r\n      v-if=\"showAddActivityModal\"\r\n      :selectedAdventureId=\"selectedAdventureId\"\r\n      :adventures=\"adventures\"\r\n      @close=\"closeModal\"\r\n      @save-activity=\"saveActivity\"\r\n    />\r\n\r\n    <!-- Modal for creating or editing an adventure -->\r\n    <CreateAdventureModal\r\n      v-if=\"showNewAdventureForm || showEditAdventureForm\"\r\n      :currentUserEmail=\"currentUserEmail\"\r\n      :editingAdventure=\"editingAdventure\"\r\n      @close=\"closeModal\"\r\n      @save-adventure=\"saveAdventure\"\r\n    />\r\n\r\n    <!-- Modal for editing activity details -->\r\n    <div v-if=\"showEditActivityModal\" class=\"modal-overlay\">\r\n      <div class=\"modal\">\r\n        <div class=\"modal-header\">\r\n          <button class=\"cancel-button\" @click=\"closeEditModal\">Cancel</button>\r\n          <h3 class=\"modal-title\">Edit Activity</h3>\r\n        </div>\r\n        <div class=\"divider-line\"></div>\r\n\r\n        <div class=\"modal-body\">\r\n          <form @submit.prevent=\"updateActivity\">\r\n            <label for=\"activityTitle\">Title</label>\r\n            <input\r\n              v-model=\"editActivity.title\"\r\n              type=\"text\"\r\n              id=\"activityTitle\"\r\n              placeholder=\"Title\"\r\n              required\r\n            />\r\n\r\n            <label for=\"activityDate\">Date</label>\r\n            <input\r\n              v-model=\"editActivityDate\"\r\n              type=\"date\"\r\n              id=\"activityDate\"\r\n              required\r\n            />\r\n\r\n            <label for=\"timeRange\">Time</label>\r\n            <div class=\"time-range\">\r\n              <input v-model=\"editActivityStartTime\" type=\"time\" required />\r\n              <p class=\"dividers\">-</p>\r\n              <input v-model=\"editActivityEndTime\" type=\"time\" required />\r\n            </div>\r\n            <p v-if=\"timeError\" class=\"time-error\">{{ timeError }}</p>\r\n\r\n            <label for=\"location\">Location</label>\r\n            <input\r\n              v-model=\"editActivity.location\"\r\n              type=\"text\"\r\n              id=\"location\"\r\n              placeholder=\"Enter location\"\r\n            />\r\n\r\n            <label for=\"description\" placeholder=\"Description\"\r\n              >Description</label\r\n            >\r\n            <textarea\r\n              v-model=\"editActivity.description\"\r\n              id=\"description\"\r\n              placeholder=\"Description\"\r\n            ></textarea>\r\n\r\n            <div class=\"modal-footer\">\r\n              <button type=\"submit\" class=\"save-button\" :disabled=\"!!timeError\">\r\n                Save\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"remove-button\"\r\n                @click=\"removeActivity\"\r\n              >\r\n                Remove Activity\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueCal from \"vue-cal\";\r\nimport \"vue-cal/dist/vuecal.css\";\r\nimport firebaseApp from \"@/firebase.js\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport {\r\n  getFirestore,\r\n  collection,\r\n  addDoc,\r\n  getDocs,\r\n  updateDoc,\r\n  doc,\r\n  arrayUnion,\r\n  arrayRemove,\r\n  getDoc,\r\n} from \"firebase/firestore\";\r\nimport CreateActivityModal from \"@/components/CreateActivityModal.vue\";\r\nimport CreateAdventureModal from \"@/components/CreateAdventureModal.vue\";\r\nimport { v4 as uuidv4 } from \"uuid\"; // Unique ID generator\r\nimport \"@/assets/vue-cal-custom.css\";\r\n\r\nconst db = getFirestore(firebaseApp);\r\n\r\nexport default {\r\n  components: {\r\n    VueCal,\r\n    CreateActivityModal,\r\n    CreateAdventureModal,\r\n  },\r\n  data() {\r\n    return {\r\n      showAddActivityModal: false,\r\n      showEditActivityModal: false,\r\n      editActivity: null,\r\n      editActivityDate: \"\",\r\n      editActivityStartTime: \"\",\r\n      editActivityEndTime: \"\",\r\n      selectedAdventureId: null,\r\n      adventures: [],\r\n      calendarEvents: [],\r\n      showNewAdventureForm: false,\r\n      showEditAdventureForm: false,\r\n      currentUserID: \"\",\r\n      currentUserEmail: \"\",\r\n      currentAdventure: null,\r\n      editingAdventure: null,\r\n      activeDropdown: null,\r\n      currentActivity: null,\r\n      showInfoBox: false,\r\n      currentView: \"month\",\r\n      timeError: \"\", // Error message for time validation\r\n    };\r\n  },\r\n  computed: {\r\n    isEditTimeRangeValid() {\r\n      // Check if the start time is before the end time for Edit Activity modal\r\n      return this.compareTimes(\r\n        this.editActivityStartTime,\r\n        this.editActivityEndTime\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    // Watch edit start and end times to validate time range in Edit Activity modal\r\n    editActivityStartTime() {\r\n      this.validateEditTimeRange();\r\n    },\r\n    editActivityEndTime() {\r\n      this.validateEditTimeRange();\r\n    },\r\n  },\r\n  async created() {\r\n    const auth = getAuth();\r\n    onAuthStateChanged(auth, async (user) => {\r\n      if (user) {\r\n        this.currentUserEmail = user.email;\r\n        this.currentUserID = user.uid;\r\n        await this.loadUserAdventures();\r\n      } else {\r\n        console.log(\"No user logged in\");\r\n      }\r\n    });\r\n    document.addEventListener(\"click\", this.handleClickOutsideDropdown);\r\n  },\r\n  beforeUnmount() {\r\n    document.removeEventListener(\"click\", this.handleClickOutsideDropdown);\r\n  },\r\n  methods: {\r\n    compareTimes(start, end) {\r\n      const [startHours, startMinutes] = start.split(\":\").map(Number);\r\n      const [endHours, endMinutes] = end.split(\":\").map(Number);\r\n\r\n      return (\r\n        endHours > startHours ||\r\n        (endHours === startHours && endMinutes > startMinutes)\r\n      );\r\n    },\r\n    validateEditTimeRange() {\r\n      if (!this.isEditTimeRangeValid) {\r\n        this.timeError = \"End time must be after start time.\";\r\n      } else {\r\n        this.timeError = \"\";\r\n      }\r\n    },\r\n    async loadAdventure(adventure) {\r\n      if (!adventure) return;\r\n\r\n      this.currentAdventure = adventure;\r\n      this.selectedAdventureId = adventure.id;\r\n\r\n      this.calendarEvents = (adventure.activities || []).map((activity) => ({\r\n        ...activity,\r\n        start: new Date(activity.start),\r\n        end: new Date(activity.end),\r\n      }));\r\n    },\r\n    async loadUserAdventures() {\r\n      if (!this.currentUserEmail) return;\r\n\r\n      const userDocRef = doc(db, \"Users\", this.currentUserEmail);\r\n      const userSnapshot = await getDoc(userDocRef);\r\n\r\n      if (!userSnapshot.exists()) return;\r\n\r\n      const adventureIDs = userSnapshot.data().adventures || [];\r\n      const adventureSnapshots = await getDocs(collection(db, \"adventures\"));\r\n\r\n      this.adventures = adventureSnapshots.docs\r\n        .map((doc) => ({ id: doc.id, ...doc.data() }))\r\n        .filter((adventure) => adventureIDs.includes(adventure.id));\r\n\r\n      this.currentAdventure = this.adventures[0] || null;\r\n      if (this.currentAdventure) {\r\n        this.loadAdventure(this.currentAdventure);\r\n      } else {\r\n        this.calendarEvents = [];\r\n      }\r\n    },\r\n    getActivityCount(adventure) {\r\n      return (adventure.activities || []).length;\r\n    },\r\n    getAdventurerCount(adventure) {\r\n      return (adventure.friends || []).length;\r\n    },\r\n    openAddActivityForm() {\r\n      if (!this.currentAdventure) {\r\n        alert(\"Please select an adventure before adding an activity.\");\r\n        return;\r\n      }\r\n      this.showAddActivityModal = true;\r\n      this.selectedAdventureId = this.currentAdventure.id;\r\n    },\r\n    openEditAdventureForm(adventure) {\r\n      this.showEditAdventureForm = true;\r\n      this.editingAdventure = adventure;\r\n    },\r\n    toggleNewAdventureForm() {\r\n      this.showNewAdventureForm = true;\r\n      this.editingAdventure = null;\r\n    },\r\n    closeModal() {\r\n      this.showAddActivityModal = false;\r\n      this.showNewAdventureForm = false;\r\n      this.showEditAdventureForm = false;\r\n      this.showEditActivityModal = false;\r\n      this.editingAdventure = null;\r\n    },\r\n    async saveActivity(newActivity) {\r\n      if (!this.selectedAdventureId) return;\r\n\r\n      newActivity.id = uuidv4();\r\n\r\n      const selectedAdventure = this.adventures.find(\r\n        (a) => a.id === this.selectedAdventureId\r\n      );\r\n      const adventureDoc = doc(db, \"adventures\", this.selectedAdventureId);\r\n\r\n      try {\r\n        await updateDoc(adventureDoc, {\r\n          activities: arrayUnion(newActivity),\r\n        });\r\n\r\n        if (selectedAdventure.id === this.currentAdventure?.id) {\r\n          this.calendarEvents.push({\r\n            ...newActivity,\r\n            start: new Date(newActivity.start),\r\n            end: new Date(newActivity.end),\r\n          });\r\n\r\n          this.currentAdventure.activities = [\r\n            ...(this.currentAdventure.activities || []),\r\n            newActivity,\r\n          ];\r\n        }\r\n\r\n        this.closeModal();\r\n      } catch (error) {\r\n        console.error(\r\n          \"Error adding activity to the selected adventure:\",\r\n          error\r\n        );\r\n      }\r\n    },\r\n    async saveAdventure(adventureData) {\r\n      const userEmails = [\r\n        ...new Set([...adventureData.friends, this.currentUserEmail]),\r\n      ];\r\n      const fullAdventureData = {\r\n        ...adventureData,\r\n        friends: userEmails,\r\n        activities: this.editingAdventure\r\n          ? this.editingAdventure.activities\r\n          : [],\r\n      };\r\n      try {\r\n        let adventureId;\r\n        if (this.editingAdventure) {\r\n          adventureId = this.editingAdventure.id;\r\n          const adventureDoc = doc(db, \"adventures\", adventureId);\r\n          await updateDoc(adventureDoc, fullAdventureData);\r\n          const index = this.adventures.findIndex(\r\n            (a) => a.id === this.editingAdventure.id\r\n          );\r\n          if (index !== -1) {\r\n            this.adventures[index] = {\r\n              id: this.editingAdventure.id,\r\n              ...fullAdventureData,\r\n            };\r\n          }\r\n        } else {\r\n          const adventureRef = await addDoc(\r\n            collection(db, \"adventures\"),\r\n            fullAdventureData\r\n          );\r\n          adventureId = adventureRef.id;\r\n          await this.linkUsersToAdventure(\r\n            adventureId,\r\n            fullAdventureData.friends\r\n          );\r\n          this.adventures.push({ id: adventureRef.id, ...fullAdventureData });\r\n          await this.addAdventureToUser(adventureId);\r\n        }\r\n        await this.linkUsersToAdventure(adventureId, userEmails);\r\n        await this.loadUserAdventures();\r\n        this.closeModal();\r\n      } catch (error) {\r\n        console.error(\"Error saving adventure:\", error);\r\n      }\r\n    },\r\n    async addAdventureToUser(adventureId) {\r\n      if (!this.currentUserEmail) return;\r\n      const userDoc = doc(db, \"Users\", this.currentUserEmail);\r\n      await updateDoc(userDoc, { adventures: arrayUnion(adventureId) });\r\n    },\r\n    async linkUsersToAdventure(adventureID, userEmails) {\r\n      for (const email of userEmails) {\r\n        const userDoc = doc(db, \"Users\", email);\r\n        await updateDoc(userDoc, { adventures: arrayUnion(adventureID) });\r\n      }\r\n      const adventureDoc = doc(db, \"adventures\", adventureID);\r\n      await updateDoc(adventureDoc, { friends: arrayUnion(...userEmails) });\r\n    },\r\n    async leaveAdventure(adventureId) {\r\n      const userDoc = doc(db, \"Users\", this.currentUserEmail);\r\n      await updateDoc(userDoc, { adventures: arrayRemove(adventureId) });\r\n      const adventureDoc = doc(db, \"adventures\", adventureId);\r\n      await updateDoc(adventureDoc, {\r\n        friends: arrayRemove(this.currentUserEmail),\r\n      });\r\n      this.adventures = this.adventures.filter(\r\n        (adventure) => adventure.id !== adventureId\r\n      );\r\n      this.currentAdventure = this.adventures[0] || null;\r\n      if (this.currentAdventure) {\r\n        this.loadAdventure(this.currentAdventure);\r\n      } else {\r\n        this.calendarEvents = [];\r\n      }\r\n    },\r\n    toggleDropdown(adventureId) {\r\n      this.activeDropdown =\r\n        this.activeDropdown === adventureId ? null : adventureId;\r\n    },\r\n    handleClickOutsideDropdown(event) {\r\n      if (!event.target.closest(\".adventure-actions\")) {\r\n        this.activeDropdown = null;\r\n      }\r\n    },\r\n    handleEventClick(event) {\r\n      this.editActivity = { ...event };\r\n      this.editActivityDate = this.formatDate(event.start);\r\n      this.editActivityStartTime = this.formatTime(event.start);\r\n      this.editActivityEndTime = this.formatTime(event.end);\r\n      this.showEditActivityModal = true;\r\n      this.validateEditTimeRange(); // Validate time when modal is opened\r\n    },\r\n    formatDate(date) {\r\n      return date.toISOString().split(\"T\")[0];\r\n    },\r\n    formatTime(date) {\r\n      return date.toTimeString().split(\" \")[0].slice(0, 5);\r\n    },\r\n    closeEditModal() {\r\n      this.showEditActivityModal = false;\r\n    },\r\n    async updateActivity() {\r\n      if (!this.isEditTimeRangeValid) return;\r\n\r\n      const updatedActivity = {\r\n        ...this.editActivity,\r\n        start: new Date(\r\n          `${this.editActivityDate}T${this.editActivityStartTime}`\r\n        ),\r\n        end: new Date(`${this.editActivityDate}T${this.editActivityEndTime}`),\r\n      };\r\n\r\n      const index = this.calendarEvents.findIndex(\r\n        (event) => event.id === updatedActivity.id\r\n      );\r\n\r\n      if (index !== -1) {\r\n        this.calendarEvents[index] = updatedActivity;\r\n        const adventureDoc = doc(db, \"adventures\", this.selectedAdventureId);\r\n\r\n        try {\r\n          const updatedActivities = this.calendarEvents.map((event) => ({\r\n            ...event,\r\n            start: event.start.toISOString(),\r\n            end: event.end.toISOString(),\r\n          }));\r\n          await updateDoc(adventureDoc, { activities: updatedActivities });\r\n          this.currentAdventure.activities = updatedActivities;\r\n        } catch (error) {\r\n          console.error(\"Error updating activity:\", error);\r\n        }\r\n      }\r\n      this.closeEditModal();\r\n    },\r\n    async removeActivity() {\r\n      if (!this.selectedAdventureId || !this.editActivity?.id) {\r\n        console.error(\"Activity or adventure ID is missing.\");\r\n        return;\r\n      }\r\n\r\n      const updatedActivities = this.currentAdventure.activities.filter(\r\n        (activity) => activity.id !== this.editActivity.id\r\n      );\r\n\r\n      try {\r\n        const adventureDoc = doc(db, \"adventures\", this.selectedAdventureId);\r\n        await updateDoc(adventureDoc, { activities: updatedActivities });\r\n\r\n        this.calendarEvents = this.calendarEvents.filter(\r\n          (event) => event.id !== this.editActivity.id\r\n        );\r\n        this.currentAdventure.activities = updatedActivities;\r\n\r\n        this.closeEditModal();\r\n        console.log(\"Activity removed successfully.\");\r\n      } catch (error) {\r\n        console.error(\"Error removing activity:\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.base-layer {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n  width: 100vw;\r\n  min-height: calc(100vh - 80px);\r\n  max-height: calc(100vh - 80px);\r\n  top: 80px;\r\n  left: 0;\r\n  background-color: #f8f8f8;\r\n  position: fixed;\r\n  overflow-y: auto; /* Allow vertical scrolling */\r\n  overflow-x: hidden; /* Hide horizontal overflow if not needed */\r\n}\r\n\r\n/* Container for Adventures */\r\n.adventure-container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  max-width: 1400px;\r\n  width: 100%;\r\n  min-height: calc(100vh - 100px);\r\n  background-color: #fff;\r\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);\r\n  border-radius: 10px;\r\n  border: 0.5px solid #ccc;\r\n  margin: 10px auto;\r\n  overflow: hidden;\r\n}\r\n\r\n/* Left sidebar styling for adventure list */\r\n.adventure-left {\r\n  width: 250px;\r\n  min-width: 250px;\r\n  background-color: #f5f5f5;\r\n  padding: 20px;\r\n  box-shadow: 3px 0 5px rgba(0, 0, 0, 0.1);\r\n  z-index: 3;\r\n}\r\n\r\n/* Adventure list heading */\r\n.adventure-left h3 {\r\n  color: #2c3f50;\r\n  font-weight: bold;\r\n  text-align: center;\r\n  font-size: 1.5rem;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* Button for creating a new adventure */\r\n.new-adventure-btn {\r\n  background-color: #f8683b;\r\n  color: white;\r\n  width: 100%;\r\n  padding: 10px 0;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  margin-bottom: 15px;\r\n  transition: background-color 0.2s ease;\r\n}\r\n.new-adventure-btn:hover {\r\n  background-color: #fd5623;\r\n}\r\n\r\n/* Divider lines for separating sections */\r\n.divider-line,\r\n.divider-line-2,\r\n.divider-line-3 {\r\n  height: 1px;\r\n  background-color: #b4b3b3;\r\n  margin: 5px 0 10px 0;\r\n}\r\n\r\n/* Container for holding adventure list items */\r\n.AdventureListsContainer {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0;\r\n}\r\n\r\n/* Individual adventure list item */\r\n.adventure-list-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  background-color: #f5f5f5;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n.adventure-list-item:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n.adventure-list-item:not(:last-child) {\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n.adventure-list-item.selected {\r\n  background-color: #f9e5df;\r\n  border-left: 4px solid #f8683b;\r\n}\r\n\r\n/* Icon container for list items */\r\n.icon-container {\r\n  margin-top: 5px;\r\n  margin-right: 10px;\r\n}\r\n.list-icon {\r\n  width: 24px;\r\n  height: 24px;\r\n}\r\n\r\n/* Adventure actions (dropdown menu) */\r\n.adventure-actions {\r\n  margin-left: auto;\r\n  position: relative;\r\n}\r\n.adventure-actions button {\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  color: #ff7043;\r\n}\r\n.dropdown-menu {\r\n  position: absolute;\r\n  top: 25px;\r\n  right: 0;\r\n  background-color: #fff;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  z-index: 10;\r\n}\r\n.dropdown-menu button {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  text-align: left;\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  color: black;\r\n  font-size: 14px;\r\n  white-space: nowrap;\r\n}\r\n.dropdown-menu button:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n/* Information text inside list items */\r\n.list-info {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.list-info h3 {\r\n  font-size: 1rem;\r\n  margin: 0;\r\n  font-weight: bold;\r\n}\r\n.list-info p {\r\n  font-size: 0.9rem;\r\n  margin: 0;\r\n  color: #666;\r\n}\r\n\r\n/* Right container for displaying selected adventure */\r\n.adventure-right-container {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n}\r\n.else-right-container {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n}\r\n\r\n/* Adventure description section styling */\r\n.adventure-description {\r\n  display: flex;\r\n  width: 100%;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  border-bottom: 1px solid #ccc;\r\n}\r\n.adventure-description-left {\r\n  width: 60%;\r\n  text-align: left;\r\n}\r\n.adventure-description-right {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  width: 40%;\r\n  height: 100%;\r\n}\r\n\r\n/* Calendar display */\r\n.adventure-right {\r\n  flex: 1;\r\n  background-color: #f0f4f8;\r\n  overflow-x: hidden;\r\n}\r\n\r\n/* Button for adding activities */\r\n.add-activity-btn {\r\n  background-color: #ff7043;\r\n  color: white;\r\n  padding: 10px 15px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 14px;\r\n  transition: background-color 0.2s ease;\r\n}\r\n.add-activity-btn:hover {\r\n  background-color: #e65a2e;\r\n}\r\n\r\n/* Modal styling for overlay */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n}\r\n.modal {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 500px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* Modal header styling */\r\n.modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.modal-title {\r\n  color: #2c3f50;\r\n  font-weight: bold;\r\n  font-size: 1.5rem;\r\n  margin-right: 40px;\r\n  text-align: center;\r\n  flex-grow: 1;\r\n}\r\n.cancel-button {\r\n  background-color: #fff;\r\n  color: #565656;\r\n  padding: 5px 0;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n}\r\n\r\n/* Modal form styling */\r\n.modal-body {\r\n  margin-top: 20px;\r\n}\r\n.modal-body label {\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n}\r\n.modal-body input,\r\n.modal-body textarea {\r\n  width: 100%;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  border: 2px solid #bbb;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n  background-color: white;\r\n  color: #2c3f50;\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n}\r\n\r\n.modal-body input::placeholder,\r\n.modal-body textarea::placeholder {\r\n  color: #888;\r\n}\r\n\r\n/* Time range inputs */\r\n.time-range {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.time-range input[type=\"time\"] {\r\n  width: 45%;\r\n}\r\n.time-range span {\r\n  margin: 0 5px;\r\n}\r\n\r\n/* Footer buttons for modals */\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding-top: 10px;\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n}\r\n.save-button,\r\n.remove-button {\r\n  flex-basis: 45%;\r\n  max-width: 160px;\r\n  margin: 0 5px;\r\n  padding: 8px 15px;\r\n  border-radius: 5px;\r\n  font-size: 14px;\r\n}\r\n\r\n/* Styling for save button */\r\n.save-button {\r\n  background-color: #f8683b;\r\n  color: white;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n.save-button:hover {\r\n  background-color: #fa5d2d;\r\n}\r\n.save-button:disabled {\r\n  background-color: #ddd;\r\n  cursor: not-allowed;\r\n}\r\n\r\n/* Styling for remove button */\r\n.remove-button {\r\n  background-color: #dc3545;\r\n  color: white;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n.remove-button:hover {\r\n  background-color: #c82333;\r\n}\r\n\r\n/* Custom event styling for calendar */\r\n.custom-event {\r\n  border: 2px solid #ff9800;\r\n  background-color: #fff3e0;\r\n  color: #000;\r\n  padding: 5px;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  overflow: hidden;\r\n  font-size: 12px;\r\n}\r\n.custom-event-title {\r\n  font-weight: bold;\r\n  margin-bottom: 2px;\r\n}\r\n.custom-event-time,\r\n.custom-event-location {\r\n  font-size: 11px;\r\n  color: #555;\r\n}\r\n\r\n/* No adventures message styling */\r\n.no-adventures-message {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  width: 100%;\r\n  font-size: 1.5rem;\r\n  color: #333;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  padding: 20px;\r\n}\r\n\r\n/* Image for no adventures message */\r\n.sad-kitten-image {\r\n  margin-top: 50px;\r\n  width: 150px;\r\n  height: auto;\r\n}\r\n\r\n/* Button with white background */\r\n.white-button {\r\n  background-color: white;\r\n  color: #2c3f50;\r\n  padding: 6px 10px;\r\n  border: 1px solid #2c3f50;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  transition: background-color 0.2s ease;\r\n}\r\n.white-button:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n/* Information box styling */\r\n.info-box {\r\n  position: fixed;\r\n  min-width: 240px;\r\n  background-color: #fff;\r\n  border: 1px solid #ccc;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  top: 145px;\r\n  left: 270px;\r\n  z-index: 1000;\r\n  font-size: 0.9rem;\r\n  color: #333;\r\n  margin-top: 5px;\r\n}\r\n@media (min-width: 1400px) {\r\n  .info-box {\r\n    left: calc(50vw - 430px);\r\n  }\r\n}\r\n\r\n/* Information box title styling */\r\n.info-box-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n.info-box-title i {\r\n  margin-right: 5px;\r\n  color: #2c3f50;\r\n}\r\n.info-box-title p {\r\n  font-weight: bold;\r\n  color: #2c3f50;\r\n  margin: 0;\r\n}\r\n\r\n/* Information box content styling */\r\n.info-box-information-container {\r\n  display: flex;\r\n  align-items: flex-start;\r\n}\r\n.info-box-left,\r\n.info-box-right {\r\n  padding: 10px;\r\n}\r\n.info-box-left p,\r\n.info-box-right p {\r\n  margin-top: 3px;\r\n  color: #4f4f4f;\r\n}\r\n.info-box-left p {\r\n  font-weight: bold;\r\n}\r\n\r\n.time-error {\r\n  color: red;\r\n  font-size: 0.9rem;\r\n  margin-top: 5px;\r\n}\r\n\r\n.dividers {\r\n  color: #bbb;\r\n  margin: 0 20px;\r\n  margin-bottom: 7px;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n#description {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;;\r\n  height: 100px;\r\n  min-height: 45px;\r\n  max-height: 300px;\r\n  resize: vertical;\r\n  width: 100%;\r\n}\r\n</style>\r\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n/**\n  * vue-cal v4.10.0\n  * (c) 2024 Antoni Andre <antoniandre.web@gmail.com>\n  * @license MIT\n  */\nimport { openBlock, createElementBlock, Fragment, renderList, normalizeClass, normalizeStyle, createVNode, Transition, withCtx, createElementVNode, renderSlot, toDisplayString, createCommentVNode, createTextVNode, resolveComponent, createBlock, resolveDynamicComponent, createSlots, withKeys, withModifiers, TransitionGroup, normalizeProps, mergeProps } from \"vue\";\nconst __variableDynamicImportRuntimeHelper = (glob, path, segs) => {\n  const v = glob[path];\n  if (v) {\n    return typeof v === \"function\" ? v() : Promise.resolve(v);\n  }\n  return new Promise((_, reject) => {\n    (typeof queueMicrotask === \"function\" ? queueMicrotask : setTimeout)(\n      reject.bind(\n        null,\n        new Error(\n          \"Unknown variable dynamic import: \" + path + (path.split(\"/\").length !== segs ? \". Note that variables only represent file names one level deep.\" : \"\")\n        )\n      )\n    );\n  });\n};\nlet now, todayDate, todayF, self;\nlet _dateObject = {};\nlet _timeObject = {};\nclass DateUtils {\n  constructor(texts, noPrototypes = false) {\n    __publicField(this, \"texts\", {});\n    /**\n     * Simply takes a Date and returns the associated time in minutes (sum of hours + minutes).\n     *\n     * @param {Date} date the JavaScript Date to extract minutes from.\n     * @return {Number} the number of minutes (total of hours plus minutes).\n     */\n    __publicField(this, \"dateToMinutes\", (date) => date.getHours() * 60 + date.getMinutes());\n    self = this;\n    this._texts = texts;\n    if (!noPrototypes && Date && !Date.prototype.addDays) this._initDatePrototypes();\n  }\n  _initDatePrototypes() {\n    Date.prototype.addDays = function(days) {\n      return self.addDays(this, days);\n    };\n    Date.prototype.subtractDays = function(days) {\n      return self.subtractDays(this, days);\n    };\n    Date.prototype.addHours = function(hours) {\n      return self.addHours(this, hours);\n    };\n    Date.prototype.subtractHours = function(hours) {\n      return self.subtractHours(this, hours);\n    };\n    Date.prototype.addMinutes = function(minutes) {\n      return self.addMinutes(this, minutes);\n    };\n    Date.prototype.subtractMinutes = function(minutes) {\n      return self.subtractMinutes(this, minutes);\n    };\n    Date.prototype.getWeek = function() {\n      return self.getWeek(this);\n    };\n    Date.prototype.isToday = function() {\n      return self.isToday(this);\n    };\n    Date.prototype.isLeapYear = function() {\n      return self.isLeapYear(this);\n    };\n    Date.prototype.format = function(format = \"YYYY-MM-DD\") {\n      return self.formatDate(this, format);\n    };\n    Date.prototype.formatTime = function(format = \"HH:mm\") {\n      return self.formatTime(this, format);\n    };\n  }\n  removePrototypes() {\n    delete Date.prototype.addDays;\n    delete Date.prototype.subtractDays;\n    delete Date.prototype.addHours;\n    delete Date.prototype.subtractHours;\n    delete Date.prototype.addMinutes;\n    delete Date.prototype.subtractMinutes;\n    delete Date.prototype.getWeek;\n    delete Date.prototype.isToday;\n    delete Date.prototype.isLeapYear;\n    delete Date.prototype.format;\n    delete Date.prototype.formatTime;\n  }\n  updateTexts(texts) {\n    this._texts = texts;\n  }\n  // Cache Today's date (to a maximum) for better isToday() performances. Formatted without leading 0.\n  // We still need to update Today's date when Today changes without page refresh.\n  _todayFormatted() {\n    if (todayDate !== (/* @__PURE__ */ new Date()).getDate()) {\n      now = /* @__PURE__ */ new Date();\n      todayDate = now.getDate();\n      todayF = `${now.getFullYear()}-${now.getMonth()}-${now.getDate()}`;\n    }\n    return todayF;\n  }\n  // UTILITIES.\n  // ====================================================================\n  addDays(date, days) {\n    const d = new Date(date.valueOf());\n    d.setDate(d.getDate() + days);\n    return d;\n  }\n  subtractDays(date, days) {\n    const d = new Date(date.valueOf());\n    d.setDate(d.getDate() - days);\n    return d;\n  }\n  addHours(date, hours) {\n    const d = new Date(date.valueOf());\n    d.setHours(d.getHours() + hours);\n    return d;\n  }\n  subtractHours(date, hours) {\n    const d = new Date(date.valueOf());\n    d.setHours(d.getHours() - hours);\n    return d;\n  }\n  addMinutes(date, minutes) {\n    const d = new Date(date.valueOf());\n    d.setMinutes(d.getMinutes() + minutes);\n    return d;\n  }\n  subtractMinutes(date, minutes) {\n    const d = new Date(date.valueOf());\n    d.setMinutes(d.getMinutes() - minutes);\n    return d;\n  }\n  getWeek(date) {\n    const d = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()));\n    const dayNum = d.getUTCDay() || 7;\n    d.setUTCDate(d.getUTCDate() + 4 - dayNum);\n    const yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1));\n    return Math.ceil(((d - yearStart) / 864e5 + 1) / 7);\n  }\n  isToday(date) {\n    return `${date.getFullYear()}-${date.getMonth()}-${date.getDate()}` === this._todayFormatted();\n  }\n  isLeapYear(date) {\n    const year = date.getFullYear();\n    return !(year % 400) || year % 100 && !(year % 4);\n  }\n  // Returns today if it's FirstDayOfWeek (Monday or Sunday) or previous FirstDayOfWeek otherwise.\n  getPreviousFirstDayOfWeek(date = null, weekStartsOnSunday) {\n    const prevFirstDayOfWeek = date && new Date(date.valueOf()) || /* @__PURE__ */ new Date();\n    const dayModifier = weekStartsOnSunday ? 7 : 6;\n    prevFirstDayOfWeek.setDate(prevFirstDayOfWeek.getDate() - (prevFirstDayOfWeek.getDay() + dayModifier) % 7);\n    return prevFirstDayOfWeek;\n  }\n  /**\n   * Converts a string to a Javascript Date object. If a Date object is passed, return it as is.\n   *\n   * @param {String | Date} date the string to convert to Date.\n   * @return {Date} the equivalent Javascript Date object.\n   */\n  stringToDate(date) {\n    if (date instanceof Date) return date;\n    if (date.length === 10) date += \" 00:00\";\n    return new Date(date.replace(/-/g, \"/\"));\n  }\n  /**\n   * Count the number of days this date range spans onto.\n   * E.g. countDays(2019-11-02 18:00, 2019-11-03 02:00) = 2\n   *\n   * @param {String | Date} start the start date\n   * @param {String | Date} end the end date\n   * @return {Integer} The number of days this date range involves\n   */\n  countDays(start, end) {\n    if (typeof start === \"string\") start = start.replace(/-/g, \"/\");\n    if (typeof end === \"string\") end = end.replace(/-/g, \"/\");\n    start = new Date(start).setHours(0, 0, 0, 0);\n    end = new Date(end).setHours(0, 0, 1, 0);\n    const timezoneDiffMs = (new Date(end).getTimezoneOffset() - new Date(start).getTimezoneOffset()) * 60 * 1e3;\n    return Math.ceil((end - start - timezoneDiffMs) / (24 * 3600 * 1e3));\n  }\n  /**\n   * Take 2 dates and check if within the same time step (useful in overlapping events).\n   *\n   * @return {Boolean} `true` if their time is included in the same time step,\n   *                   this means these 2 dates are very close.\n   */\n  datesInSameTimeStep(date1, date2, timeStep) {\n    return Math.abs(date1.getTime() - date2.getTime()) <= timeStep * 60 * 1e3;\n  }\n  // ====================================================================\n  // FORMATTERS.\n  // ====================================================================\n  /**\n   * Formats a date/time to the given format and returns the formatted string.\n   *\n   * @param {Date} date a JavaScript Date object to format.\n   * @param {String} format the wanted format.\n   * @param {Object} texts Optional: the localized texts object to override the vue-cal one in this._texts.\n   *                       This becomes useful when showing multiple instances with different languages,\n   *                       like in the documentation page.\n   * @return {String} the formatted date.\n   */\n  formatDate(date, format = \"YYYY-MM-DD\", texts = null) {\n    if (!texts) texts = this._texts;\n    if (!format) format = \"YYYY-MM-DD\";\n    if (format === \"YYYY-MM-DD\") return this.formatDateLite(date);\n    _dateObject = {};\n    _timeObject = {};\n    const dateObj = {\n      YYYY: () => this._hydrateDateObject(date, texts).YYYY,\n      YY: () => this._hydrateDateObject(date, texts).YY(),\n      M: () => this._hydrateDateObject(date, texts).M,\n      MM: () => this._hydrateDateObject(date, texts).MM(),\n      MMM: () => this._hydrateDateObject(date, texts).MMM(),\n      MMMM: () => this._hydrateDateObject(date, texts).MMMM(),\n      MMMMG: () => this._hydrateDateObject(date, texts).MMMMG(),\n      D: () => this._hydrateDateObject(date, texts).D,\n      DD: () => this._hydrateDateObject(date, texts).DD(),\n      S: () => this._hydrateDateObject(date, texts).S(),\n      d: () => this._hydrateDateObject(date, texts).d,\n      dd: () => this._hydrateDateObject(date, texts).dd(),\n      ddd: () => this._hydrateDateObject(date, texts).ddd(),\n      dddd: () => this._hydrateDateObject(date, texts).dddd(),\n      HH: () => this._hydrateTimeObject(date, texts).HH,\n      H: () => this._hydrateTimeObject(date, texts).H,\n      hh: () => this._hydrateTimeObject(date, texts).hh,\n      h: () => this._hydrateTimeObject(date, texts).h,\n      am: () => this._hydrateTimeObject(date, texts).am,\n      AM: () => this._hydrateTimeObject(date, texts).AM,\n      mm: () => this._hydrateTimeObject(date, texts).mm,\n      m: () => this._hydrateTimeObject(date, texts).m\n    };\n    return format.replace(/(\\{[a-zA-Z]+\\}|[a-zA-Z]+)/g, (m, contents) => {\n      const result = dateObj[contents.replace(/\\{|\\}/g, \"\")];\n      return result !== void 0 ? result() : contents;\n    });\n  }\n  // More performant function to convert a Date to `YYYY-MM-DD` formatted string only.\n  formatDateLite(date) {\n    const m = date.getMonth() + 1;\n    const d = date.getDate();\n    return `${date.getFullYear()}-${m < 10 ? \"0\" : \"\"}${m}-${d < 10 ? \"0\" : \"\"}${d}`;\n  }\n  /**\n   * Formats a time (from Date or number of mins) to the given format and returns the formatted string.\n   *\n   * @param {Date | Number} date a JavaScript Date object or a time in minutes.\n   * @param {String} format the wanted format.\n   * @param {Object} texts Optional: the localized texts object to override the vue-cal one in this._texts.\n   *                       This becomes useful when showing multiple instances with different languages,\n   *                       like in the documentation page.\n   * @param {Boolean} round if time is 23:59:59, rounds up to 24:00 for formatting only.\n   * @return {String} the formatted time.\n   */\n  formatTime(date, format = \"HH:mm\", texts = null, round = false) {\n    let shouldRound = false;\n    if (round) {\n      const [h, m, s] = [date.getHours(), date.getMinutes(), date.getSeconds()];\n      if (h + m + s === 23 + 59 + 59) shouldRound = true;\n    }\n    if (date instanceof Date && format === \"HH:mm\") return shouldRound ? \"24:00\" : this.formatTimeLite(date);\n    _timeObject = {};\n    if (!texts) texts = this._texts;\n    const timeObj = this._hydrateTimeObject(date, texts);\n    const formatted = format.replace(/(\\{[a-zA-Z]+\\}|[a-zA-Z]+)/g, (m, contents) => {\n      const result = timeObj[contents.replace(/\\{|\\}/g, \"\")];\n      return result !== void 0 ? result : contents;\n    });\n    return shouldRound ? formatted.replace(\"23:59\", \"24:00\") : formatted;\n  }\n  /**\n   * Formats a time to 'HH:mm' from a Date and returns the formatted string.\n   *\n   * @param {Date} date a JavaScript Date object to format.\n   * @return {String} the formatted time.\n   */\n  formatTimeLite(date) {\n    const h = date.getHours();\n    const m = date.getMinutes();\n    return `${(h < 10 ? \"0\" : \"\") + h}:${(m < 10 ? \"0\" : \"\") + m}`;\n  }\n  _nth(d) {\n    if (d > 3 && d < 21) return \"th\";\n    switch (d % 10) {\n      case 1:\n        return \"st\";\n      case 2:\n        return \"nd\";\n      case 3:\n        return \"rd\";\n      default:\n        return \"th\";\n    }\n  }\n  _hydrateDateObject(date, texts) {\n    if (_dateObject.D) return _dateObject;\n    const YYYY = date.getFullYear();\n    const M = date.getMonth() + 1;\n    const D = date.getDate();\n    const day = date.getDay();\n    const dayNumber = (day - 1 + 7) % 7;\n    _dateObject = {\n      // Year.\n      YYYY,\n      // 2019.\n      YY: () => YYYY.toString().substring(2),\n      // 19.\n      // Month.\n      M,\n      // 1 to 12.\n      MM: () => (M < 10 ? \"0\" : \"\") + M,\n      // 01 to 12.\n      MMM: () => texts.months[M - 1].substring(0, 3),\n      // Jan to Dec.\n      MMMM: () => texts.months[M - 1],\n      // January to December.\n      MMMMG: () => (texts.monthsGenitive || texts.months)[M - 1],\n      // January to December in genitive form (Greek...)\n      // Day.\n      D,\n      // 1 to 31.\n      DD: () => (D < 10 ? \"0\" : \"\") + D,\n      // 01 to 31.\n      S: () => this._nth(D),\n      // st, nd, rd, th.\n      // Day of the week.\n      d: dayNumber + 1,\n      // 1 to 7 with 7 = Sunday.\n      dd: () => texts.weekDays[dayNumber][0],\n      // M to S.\n      ddd: () => texts.weekDays[dayNumber].substr(0, 3),\n      // Mon to Sun.\n      dddd: () => texts.weekDays[dayNumber]\n      // Monday to Sunday.\n    };\n    return _dateObject;\n  }\n  _hydrateTimeObject(date, texts) {\n    if (_timeObject.am) return _timeObject;\n    let H, m;\n    if (date instanceof Date) {\n      H = date.getHours();\n      m = date.getMinutes();\n    } else {\n      H = Math.floor(date / 60);\n      m = Math.floor(date % 60);\n    }\n    const h = H % 12 ? H % 12 : 12;\n    const am = (texts || { am: \"am\", pm: \"pm\" })[H === 24 || H < 12 ? \"am\" : \"pm\"];\n    _timeObject = {\n      H,\n      h,\n      HH: (H < 10 ? \"0\" : \"\") + H,\n      hh: (h < 10 ? \"0\" : \"\") + h,\n      am,\n      AM: am.toUpperCase(),\n      m,\n      mm: (m < 10 ? \"0\" : \"\") + m\n    };\n    return _timeObject;\n  }\n  // ====================================================================\n}\nconst minutesInADay$2 = 24 * 60;\nclass CellUtils {\n  constructor(vuecal) {\n    __publicField(this, \"_vuecal\", null);\n    /**\n     * Select a cell and go to narrower view on double click or single click according to vuecalProps option.\n     *\n     * @param {Boolean} force Force switching to narrower view.\n     * @param {Date} date The selected cell date at the exact time where it was clicked (through cursor coords).\n     * @param {Integer} split The selected cell split if any.\n     */\n    __publicField(this, \"selectCell\", (force = false, date, split) => {\n      this._vuecal.$emit(\"cell-click\", split ? { date, split } : date);\n      if (this._vuecal.clickToNavigate || force) this._vuecal.switchToNarrowerView();\n      else if (this._vuecal.dblclickToNavigate && \"ontouchstart\" in window) {\n        this._vuecal.domEvents.dblTapACell.taps++;\n        setTimeout(() => this._vuecal.domEvents.dblTapACell.taps = 0, this._vuecal.domEvents.dblTapACell.timeout);\n        if (this._vuecal.domEvents.dblTapACell.taps >= 2) {\n          this._vuecal.domEvents.dblTapACell.taps = 0;\n          this._vuecal.switchToNarrowerView();\n          this._vuecal.$emit(\"cell-dblclick\", split ? { date, split } : date);\n        }\n      }\n    });\n    /**\n     * Select a cell and go to narrower view on enter.\n     *\n     * @param {Boolean} force Force switching to narrower view.\n     * @param {Date} date The selected cell date at the exact time where it was clicked (through cursor coords).\n     * @param {Integer} split The selected cell split if any.\n     */\n    __publicField(this, \"keyPressEnterCell\", (date, split) => {\n      this._vuecal.$emit(\"cell-keypress-enter\", split ? { date, split } : date);\n      this._vuecal.switchToNarrowerView();\n    });\n    /**\n     * Get the coordinates of the mouse cursor from the cells wrapper referential (`ref=\"cells\"`).\n     *\n     * @todo Cache bounding box & update it on resize.\n     * @param {Object} e the native DOM event object.\n     * @return {Object} containing { x: {Number}, y: {Number} }\n     */\n    __publicField(this, \"getPosition\", (e) => {\n      const { left, top } = this._vuecal.cellsEl.getBoundingClientRect();\n      const { clientX, clientY } = \"ontouchstart\" in window && e.touches ? e.touches[0] : e;\n      return { x: clientX - left, y: clientY - top };\n    });\n    /**\n     * Get the number of minutes from the top to the mouse cursor.\n     * Returns a constrained time between 0 and 24 * 60.\n     *\n     * @param {Object} e the native DOM event object.\n     * @return {Object} containing { minutes: {Number}, cursorCoords: { x: {Number}, y: {Number} } }\n     */\n    __publicField(this, \"minutesAtCursor\", (e) => {\n      let minutes = 0;\n      let cursorCoords = { x: 0, y: 0 };\n      const { timeStep, timeCellHeight, timeFrom } = this._vuecal.$props;\n      if (typeof e === \"number\") minutes = e;\n      else if (typeof e === \"object\") {\n        cursorCoords = this.getPosition(e);\n        minutes = Math.round(cursorCoords.y * timeStep / parseInt(timeCellHeight) + timeFrom);\n      }\n      return { minutes: Math.max(Math.min(minutes, minutesInADay$2), 0), cursorCoords };\n    });\n    this._vuecal = vuecal;\n  }\n}\nconst defaultEventDuration = 2;\nconst minutesInADay$1 = 24 * 60;\nlet ud;\nlet _cellOverlaps, _comparisonArray;\nclass EventUtils {\n  constructor(vuecal, dateUtils2) {\n    __publicField(this, \"_vuecal\", null);\n    __publicField(this, \"eventDefaults\", {\n      _eid: null,\n      start: \"\",\n      // Externally given formatted date & time or Date object.\n      startTimeMinutes: 0,\n      end: \"\",\n      // Externally given formatted date & time or Date object.\n      endTimeMinutes: 0,\n      title: \"\",\n      content: \"\",\n      background: false,\n      allDay: false,\n      segments: null,\n      repeat: null,\n      daysCount: 1,\n      deletable: true,\n      deleting: false,\n      titleEditable: true,\n      resizable: true,\n      resizing: false,\n      draggable: true,\n      dragging: false,\n      draggingStatic: false,\n      // Controls the CSS class of the static clone while dragging.\n      focused: false,\n      class: \"\"\n    });\n    this._vuecal = vuecal;\n    ud = dateUtils2;\n  }\n  /**\n   * Create an event at the given date and time, and allow overriding\n   * event attributes through the eventOptions object.\n   *\n   * @param {Date | String} dateTime The date and time of the new event start.\n   * @param {Number} duration the event duration in minutes.\n   * @param {Object} eventOptions some options to override the `eventDefaults` - optional.\n   */\n  createAnEvent(dateTime, duration, eventOptions) {\n    if (typeof dateTime === \"string\") dateTime = ud.stringToDate(dateTime);\n    if (!(dateTime instanceof Date)) return false;\n    const startTimeMinutes = ud.dateToMinutes(dateTime);\n    duration = duration * 1 || defaultEventDuration * 60;\n    const endTimeMinutes = startTimeMinutes + duration;\n    const end = ud.addMinutes(new Date(dateTime), duration);\n    if (eventOptions.end) {\n      if (typeof eventOptions.end === \"string\") eventOptions.end = ud.stringToDate(eventOptions.end);\n      eventOptions.endTimeMinutes = ud.dateToMinutes(eventOptions.end);\n    }\n    const event = {\n      ...this.eventDefaults,\n      _eid: `${this._vuecal._.uid}_${this._vuecal.eventIdIncrement++}`,\n      start: dateTime,\n      startTimeMinutes,\n      end,\n      endTimeMinutes,\n      segments: null,\n      ...eventOptions\n    };\n    if (typeof this._vuecal.onEventCreate === \"function\") {\n      if (!this._vuecal.onEventCreate(event, () => this.deleteAnEvent(event))) return;\n    }\n    if (event.startDateF !== event.endDateF) {\n      event.daysCount = ud.countDays(event.start, event.end);\n    }\n    this._vuecal.mutableEvents.push(event);\n    this._vuecal.addEventsToView([event]);\n    this._vuecal.emitWithEvent(\"event-create\", event);\n    this._vuecal.$emit(\"event-change\", { event: this._vuecal.cleanupEvent(event), originalEvent: null });\n    return event;\n  }\n  /**\n   * Add an event segment (= day) to a multiple-day event.\n   *\n   * @param {Object} e the multiple-day event to add segment in.\n   */\n  addEventSegment(e) {\n    if (!e.segments) {\n      e.segments = {};\n      e.segments[ud.formatDateLite(e.start)] = {\n        start: e.start,\n        startTimeMinutes: e.startTimeMinutes,\n        endTimeMinutes: minutesInADay$1,\n        isFirstDay: true,\n        isLastDay: false\n      };\n    }\n    const previousSegment = e.segments[ud.formatDateLite(e.end)];\n    if (previousSegment) {\n      previousSegment.isLastDay = false;\n      previousSegment.endTimeMinutes = minutesInADay$1;\n    }\n    const start = ud.addDays(e.end, 1);\n    const formattedDate = ud.formatDateLite(start);\n    start.setHours(0, 0, 0, 0);\n    e.segments[formattedDate] = {\n      start,\n      startTimeMinutes: 0,\n      endTimeMinutes: e.endTimeMinutes,\n      isFirstDay: false,\n      isLastDay: true\n    };\n    e.end = ud.addMinutes(start, e.endTimeMinutes);\n    e.daysCount = Object.keys(e.segments).length;\n    return formattedDate;\n  }\n  /**\n   * Remove an event segment (= day) from a multiple-day event.\n   *\n   * @param {Object} e the multiple-day event to remove segments from.\n   */\n  removeEventSegment(e) {\n    let segmentsCount = Object.keys(e.segments).length;\n    if (segmentsCount <= 1) return ud.formatDateLite(e.end);\n    delete e.segments[ud.formatDateLite(e.end)];\n    segmentsCount--;\n    const end = ud.subtractDays(e.end, 1);\n    const formattedDate = ud.formatDateLite(end);\n    const previousSegment = e.segments[formattedDate];\n    if (!segmentsCount) e.segments = null;\n    else if (previousSegment) {\n      previousSegment.isLastDay = true;\n      previousSegment.endTimeMinutes = e.endTimeMinutes;\n    } else ;\n    e.daysCount = segmentsCount || 1;\n    e.end = end;\n    return formattedDate;\n  }\n  /**\n   * Create 1 segment per day of the given event, but only within the current view.\n   * (It won't create segments for all the days in view that are not in the event!)\n   *\n   * An event segment is a piece of event per day that contains more day-specific data.\n   *\n   * @param {Object} e the multiple-day event to create segments for.\n   * @param {Date} viewStartDate the starting date of the view.\n   * @param {Date} viewEndDate the ending date of the view.\n   */\n  createEventSegments(e, viewStartDate, viewEndDate) {\n    const viewStartTimestamp = viewStartDate.getTime();\n    const viewEndTimestamp = viewEndDate.getTime();\n    let eventStart = e.start.getTime();\n    let eventEnd = e.end.getTime();\n    let repeatedEventStartFound = false;\n    let timestamp, end, eventStartAtMidnight;\n    if (!e.end.getHours() && !e.end.getMinutes()) eventEnd -= 1e3;\n    e.segments = {};\n    if (!e.repeat) {\n      timestamp = Math.max(viewStartTimestamp, eventStart);\n      end = Math.min(viewEndTimestamp, eventEnd);\n    } else {\n      timestamp = viewStartTimestamp;\n      end = Math.min(\n        viewEndTimestamp,\n        e.repeat.until ? ud.stringToDate(e.repeat.until).getTime() : viewEndTimestamp\n      );\n    }\n    while (timestamp <= end) {\n      let createSegment = false;\n      const nextMidnight = ud.addDays(new Date(timestamp), 1).setHours(0, 0, 0, 0);\n      let isFirstDay, isLastDay, start, formattedDate;\n      if (e.repeat) {\n        const tmpDate = new Date(timestamp);\n        const tmpDateFormatted = ud.formatDateLite(tmpDate);\n        if (repeatedEventStartFound || e.occurrences && e.occurrences[tmpDateFormatted]) {\n          if (!repeatedEventStartFound) {\n            eventStart = e.occurrences[tmpDateFormatted].start;\n            eventStartAtMidnight = new Date(eventStart).setHours(0, 0, 0, 0);\n            eventEnd = e.occurrences[tmpDateFormatted].end;\n          }\n          repeatedEventStartFound = true;\n          createSegment = true;\n        }\n        isFirstDay = timestamp === eventStartAtMidnight;\n        isLastDay = tmpDateFormatted === ud.formatDateLite(new Date(eventEnd));\n        start = new Date(isFirstDay ? eventStart : timestamp);\n        formattedDate = ud.formatDateLite(start);\n        if (isLastDay) repeatedEventStartFound = false;\n      } else {\n        createSegment = true;\n        isFirstDay = timestamp === eventStart;\n        isLastDay = end === eventEnd && nextMidnight > end;\n        start = isFirstDay ? e.start : new Date(timestamp);\n        formattedDate = ud.formatDateLite(isFirstDay ? e.start : start);\n      }\n      if (createSegment) {\n        e.segments[formattedDate] = {\n          start,\n          startTimeMinutes: isFirstDay ? e.startTimeMinutes : 0,\n          endTimeMinutes: isLastDay ? e.endTimeMinutes : minutesInADay$1,\n          isFirstDay,\n          isLastDay\n        };\n      }\n      timestamp = nextMidnight;\n    }\n    return e;\n  }\n  /**\n   * Delete an event.\n   *\n   * @param {Object} event the calendar event to delete.\n   */\n  deleteAnEvent(event) {\n    this._vuecal.emitWithEvent(\"event-delete\", event);\n    this._vuecal.mutableEvents = this._vuecal.mutableEvents.filter((e) => e._eid !== event._eid);\n    this._vuecal.view.events = this._vuecal.view.events.filter((e) => e._eid !== event._eid);\n  }\n  // EVENT OVERLAPS.\n  // ===================================================================\n  // Will recalculate all the overlaps of the current cell OR split.\n  // cellEvents will contain only the current split events if in a split.\n  checkCellOverlappingEvents(cellEvents, options) {\n    _comparisonArray = cellEvents.slice(0);\n    _cellOverlaps = {};\n    cellEvents.forEach((e) => {\n      _comparisonArray.shift();\n      if (!_cellOverlaps[e._eid]) _cellOverlaps[e._eid] = { overlaps: [], start: e.start, position: 0 };\n      _cellOverlaps[e._eid].position = 0;\n      _comparisonArray.forEach((e2) => {\n        if (!_cellOverlaps[e2._eid]) _cellOverlaps[e2._eid] = { overlaps: [], start: e2.start, position: 0 };\n        const eventIsInRange = this.eventInRange(e2, e.start, e.end);\n        const eventsInSameTimeStep = options.overlapsPerTimeStep ? ud.datesInSameTimeStep(e.start, e2.start, options.timeStep) : 1;\n        if (!e.background && !e.allDay && !e2.background && !e2.allDay && eventIsInRange && eventsInSameTimeStep) {\n          _cellOverlaps[e._eid].overlaps.push(e2._eid);\n          _cellOverlaps[e._eid].overlaps = [...new Set(_cellOverlaps[e._eid].overlaps)];\n          _cellOverlaps[e2._eid].overlaps.push(e._eid);\n          _cellOverlaps[e2._eid].overlaps = [...new Set(_cellOverlaps[e2._eid].overlaps)];\n          _cellOverlaps[e2._eid].position++;\n        } else {\n          let pos1, pos2;\n          if ((pos1 = (_cellOverlaps[e._eid] || { overlaps: [] }).overlaps.indexOf(e2._eid)) > -1) _cellOverlaps[e._eid].overlaps.splice(pos1, 1);\n          if ((pos2 = (_cellOverlaps[e2._eid] || { overlaps: [] }).overlaps.indexOf(e._eid)) > -1) _cellOverlaps[e2._eid].overlaps.splice(pos2, 1);\n          _cellOverlaps[e2._eid].position--;\n        }\n      });\n    });\n    let longestStreak = 0;\n    for (const id in _cellOverlaps) {\n      const item = _cellOverlaps[id];\n      const overlapsRow = item.overlaps.map((id2) => ({ id: id2, start: _cellOverlaps[id2].start }));\n      overlapsRow.push({ id, start: item.start });\n      overlapsRow.sort((a, b) => a.start < b.start ? -1 : a.start > b.start ? 1 : a.id > b.id ? -1 : 1);\n      item.position = overlapsRow.findIndex((e) => e.id === id);\n      longestStreak = Math.max(this.getOverlapsStreak(item, _cellOverlaps), longestStreak);\n    }\n    return [_cellOverlaps, longestStreak];\n  }\n  /**\n   * Overlaps streak is the longest horizontal set of simultaneous events.\n   * This is determining the width of each events in this streak.\n   * E.g. 3 overlapping events [1, 2, 3]; 1 overlaps 2 & 3; 2 & 3 don't overlap;\n   *      => streak = 2; each width = 50% not 33%.\n   *\n   * @param {Object} event The current event we are checking among all the events of the current cell.\n   * @param {Object} cellOverlaps An indexed array of all the events overlaps for the current cell.\n   * @return {Number} The number of simultaneous event for this event.\n   */\n  getOverlapsStreak(event, cellOverlaps = {}) {\n    let streak = event.overlaps.length + 1;\n    let removeFromStreak = [];\n    event.overlaps.forEach((id) => {\n      if (!removeFromStreak.includes(id)) {\n        const overlapsWithoutSelf = event.overlaps.filter((id2) => id2 !== id);\n        overlapsWithoutSelf.forEach((id3) => {\n          if (!cellOverlaps[id3].overlaps.includes(id)) removeFromStreak.push(id3);\n        });\n      }\n    });\n    removeFromStreak = [...new Set(removeFromStreak)];\n    streak -= removeFromStreak.length;\n    return streak;\n  }\n  /**\n   * Tells whether an event is in a given date range, even partially.\n   *\n   * @param {Object} event The event to test.\n   * @param {Date} start The start of range date object.\n   * @param {Date} end The end of range date object.\n   * @return {Boolean} true if in range, even partially.\n   */\n  eventInRange(event, start, end) {\n    if (event.allDay || !this._vuecal.time) {\n      const startTimestamp2 = new Date(event.start).setHours(0, 0, 0, 0);\n      const endTimestamp2 = new Date(event.end).setHours(23, 59, 0, 0);\n      return endTimestamp2 >= new Date(start).setHours(0, 0, 0, 0) && startTimestamp2 <= new Date(end).setHours(0, 0, 0, 0);\n    }\n    const startTimestamp = event.start.getTime();\n    const endTimestamp = event.end.getTime();\n    return startTimestamp < end.getTime() && endTimestamp > start.getTime();\n  }\n}\nconst _hoisted_1$5 = { class: \"vuecal__flex vuecal__weekdays-headings\" };\nconst _hoisted_2$3 = [\"onClick\"];\nconst _hoisted_3$3 = {\n  class: \"vuecal__flex weekday-label\",\n  grow: \"\"\n};\nconst _hoisted_4$3 = { class: \"full\" };\nconst _hoisted_5$3 = { class: \"small\" };\nconst _hoisted_6$2 = { class: \"xsmall\" };\nconst _hoisted_7$2 = { key: 0 };\nconst _hoisted_8$2 = {\n  key: 0,\n  class: \"vuecal__flex vuecal__split-days-headers\",\n  grow: \"\"\n};\nfunction render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$5, [\n    (openBlock(true), createElementBlock(Fragment, null, renderList($options.headings, (heading, i) => {\n      return openBlock(), createElementBlock(Fragment, { key: i }, [\n        !heading.hide ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          class: normalizeClass([\"vuecal__flex vuecal__heading\", { today: heading.today, clickable: $options.cellHeadingsClickable }]),\n          style: normalizeStyle($options.weekdayCellStyles),\n          onClick: ($event) => $options.view.id === \"week\" && $options.selectCell(heading.date, $event),\n          onDblclick: _cache[0] || (_cache[0] = ($event) => $options.view.id === \"week\" && $options.vuecal.dblclickToNavigate && $props.switchToNarrowerView())\n        }, [\n          createVNode(Transition, {\n            name: `slide-fade--${$props.transitionDirection}`,\n            appear: $options.vuecal.transitions\n          }, {\n            default: withCtx(() => [\n              (openBlock(), createElementBlock(\"div\", {\n                class: \"vuecal__flex\",\n                column: \"\",\n                key: $options.vuecal.transitions ? `${i}-${heading.dayOfMonth}` : false\n              }, [\n                createElementVNode(\"div\", _hoisted_3$3, [\n                  renderSlot(_ctx.$slots, \"weekday-heading\", {\n                    heading: $options.cleanupHeading(heading),\n                    view: $options.view\n                  }, () => [\n                    createElementVNode(\"span\", _hoisted_4$3, toDisplayString(heading.full), 1),\n                    createElementVNode(\"span\", _hoisted_5$3, toDisplayString(heading.small), 1),\n                    createElementVNode(\"span\", _hoisted_6$2, toDisplayString(heading.xsmall), 1),\n                    heading.dayOfMonth ? (openBlock(), createElementBlock(\"span\", _hoisted_7$2, \"\" + toDisplayString(heading.dayOfMonth), 1)) : createCommentVNode(\"\", true)\n                  ])\n                ]),\n                $options.vuecal.hasSplits && $options.vuecal.stickySplitLabels ? (openBlock(), createElementBlock(\"div\", _hoisted_8$2, [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList($options.vuecal.daySplits, (split, i2) => {\n                    return openBlock(), createElementBlock(\"div\", {\n                      class: normalizeClass([\"day-split-header\", split.class || false]),\n                      key: i2\n                    }, [\n                      renderSlot(_ctx.$slots, \"split-label\", {\n                        split,\n                        view: $options.view\n                      }, () => [\n                        createTextVNode(toDisplayString(split.label), 1)\n                      ])\n                    ], 2);\n                  }), 128))\n                ])) : createCommentVNode(\"\", true)\n              ]))\n            ]),\n            _: 2\n          }, 1032, [\"name\", \"appear\"])\n        ], 46, _hoisted_2$3)) : createCommentVNode(\"\", true)\n      ], 64);\n    }), 128))\n  ]);\n}\nconst _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n};\nconst _sfc_main$5 = {\n  inject: [\"vuecal\", \"utils\", \"view\"],\n  props: {\n    transitionDirection: { type: String, default: \"right\" },\n    weekDays: { type: Array, default: () => [] },\n    switchToNarrowerView: { type: Function, default: () => {\n    } }\n  },\n  methods: {\n    selectCell(date, DOMEvent) {\n      if (date.getTime() !== this.view.selectedDate.getTime()) {\n        this.view.selectedDate = date;\n      }\n      this.utils.cell.selectCell(false, date, DOMEvent);\n    },\n    cleanupHeading: (heading) => ({\n      label: heading.full,\n      date: heading.date,\n      ...heading.today ? { today: heading.today } : {}\n    })\n  },\n  computed: {\n    headings() {\n      if (![\"month\", \"week\"].includes(this.view.id)) return [];\n      let todayFound = false;\n      const headings = this.weekDays.map((cell, i) => {\n        const date = this.utils.date.addDays(this.view.startDate, this.vuecal.startWeekOnSunday && this.vuecal.hideWeekends ? i - 1 : i);\n        return {\n          hide: cell.hide,\n          full: cell.label,\n          // If defined in i18n file, weekDaysShort overrides default truncation of\n          // week days when does not fit on screen or with small/xsmall options.\n          small: cell.short || cell.label.substr(0, 3),\n          xsmall: cell.short || cell.label.substr(0, 1),\n          // Only for week view.\n          ...this.view.id === \"week\" ? {\n            dayOfMonth: date.getDate(),\n            date,\n            today: !todayFound && this.utils.date.isToday(date) && !todayFound++\n          } : {}\n        };\n      });\n      return headings;\n    },\n    cellWidth() {\n      return 100 / (7 - this.weekDays.reduce((total, day) => total + day.hide, 0));\n    },\n    weekdayCellStyles() {\n      return {\n        ...this.vuecal.hideWeekdays.length ? { width: `${this.cellWidth}%` } : {}\n      };\n    },\n    cellHeadingsClickable() {\n      return this.view.id === \"week\" && (this.vuecal.clickToNavigate || this.vuecal.dblclickToNavigate);\n    }\n  }\n};\nconst WeekdaysHeadings = /* @__PURE__ */ _export_sfc(_sfc_main$5, [[\"render\", render$5]]);\nconst _hoisted_1$4 = { class: \"vuecal__header\" };\nconst _hoisted_2$2 = {\n  key: 0,\n  class: \"vuecal__flex vuecal__menu\",\n  role: \"tablist\",\n  \"aria-label\": \"Calendar views navigation\"\n};\nconst _hoisted_3$2 = [\"onDragenter\", \"onDragleave\", \"onClick\", \"aria-label\"];\nconst _hoisted_4$2 = {\n  key: 1,\n  class: \"vuecal__title-bar\"\n};\nconst _hoisted_5$2 = [\"aria-label\"];\nconst _hoisted_6$1 = {\n  class: \"vuecal__flex vuecal__title\",\n  grow: \"\"\n};\nconst _hoisted_7$1 = [\"aria-label\"];\nconst _hoisted_8$1 = {\n  key: 0,\n  class: \"vuecal__flex vuecal__split-days-headers\"\n};\nfunction render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_weekdays_headings = resolveComponent(\"weekdays-headings\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$4, [\n    !$props.options.hideViewSelector ? (openBlock(), createElementBlock(\"div\", _hoisted_2$2, [\n      (openBlock(true), createElementBlock(Fragment, null, renderList($props.viewProps.views, (v, id) => {\n        return openBlock(), createElementBlock(Fragment, { key: id }, [\n          v.enabled ? (openBlock(), createElementBlock(\"button\", {\n            key: 0,\n            class: normalizeClass([\"vuecal__view-btn\", { \"vuecal__view-btn--active\": $options.view.id === id, \"vuecal__view-btn--highlighted\": _ctx.highlightedControl === id }]),\n            type: \"button\",\n            onDragenter: ($event) => $props.editEvents.drag && $options.dnd && $options.dnd.viewSelectorDragEnter($event, id, _ctx.$data),\n            onDragleave: ($event) => $props.editEvents.drag && $options.dnd && $options.dnd.viewSelectorDragLeave($event, id, _ctx.$data),\n            onClick: ($event) => $options.switchView(id, null, true),\n            \"aria-label\": `${v.label} view`\n          }, toDisplayString(v.label), 43, _hoisted_3$2)) : createCommentVNode(\"\", true)\n        ], 64);\n      }), 128))\n    ])) : createCommentVNode(\"\", true),\n    !$props.options.hideTitleBar ? (openBlock(), createElementBlock(\"div\", _hoisted_4$2, [\n      createElementVNode(\"button\", {\n        class: normalizeClass([\"vuecal__arrow vuecal__arrow--prev\", { \"vuecal__arrow--highlighted\": _ctx.highlightedControl === \"previous\" }]),\n        type: \"button\",\n        onClick: _cache[0] || (_cache[0] = (...args) => $options.previous && $options.previous(...args)),\n        onDragenter: _cache[1] || (_cache[1] = ($event) => $props.editEvents.drag && $options.dnd && $options.dnd.viewSelectorDragEnter($event, \"previous\", _ctx.$data)),\n        onDragleave: _cache[2] || (_cache[2] = ($event) => $props.editEvents.drag && $options.dnd && $options.dnd.viewSelectorDragLeave($event, \"previous\", _ctx.$data)),\n        \"aria-label\": `Previous ${$options.view.id}`\n      }, [\n        renderSlot(_ctx.$slots, \"arrow-prev\")\n      ], 42, _hoisted_5$2),\n      createElementVNode(\"div\", _hoisted_6$1, [\n        createVNode(Transition, {\n          name: $props.options.transitions ? `slide-fade--${$options.transitionDirection}` : \"\"\n        }, {\n          default: withCtx(() => [\n            (openBlock(), createBlock(resolveDynamicComponent($options.broaderView ? \"button\" : \"span\"), {\n              type: !!$options.broaderView && \"button\",\n              key: `${$options.view.id}${$options.view.startDate.toString()}`,\n              onClick: _cache[3] || (_cache[3] = ($event) => !!$options.broaderView && $options.switchToBroaderView()),\n              \"aria-label\": !!$options.broaderView && `Go to ${$options.broaderView} view`\n            }, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"title\")\n              ]),\n              _: 3\n            }, 8, [\"type\", \"aria-label\"]))\n          ]),\n          _: 3\n        }, 8, [\"name\"])\n      ]),\n      $props.options.todayButton ? (openBlock(), createElementBlock(\"button\", {\n        key: 0,\n        class: normalizeClass([\"vuecal__today-btn\", { \"vuecal__today-btn--highlighted\": _ctx.highlightedControl === \"today\" }]),\n        type: \"button\",\n        onClick: _cache[4] || (_cache[4] = (...args) => $options.goToToday && $options.goToToday(...args)),\n        onDragenter: _cache[5] || (_cache[5] = ($event) => $props.editEvents.drag && $options.dnd && $options.dnd.viewSelectorDragEnter($event, \"today\", _ctx.$data)),\n        onDragleave: _cache[6] || (_cache[6] = ($event) => $props.editEvents.drag && $options.dnd && $options.dnd.viewSelectorDragLeave($event, \"today\", _ctx.$data)),\n        \"aria-label\": \"Today\"\n      }, [\n        renderSlot(_ctx.$slots, \"today-button\")\n      ], 34)) : createCommentVNode(\"\", true),\n      createElementVNode(\"button\", {\n        class: normalizeClass([\"vuecal__arrow vuecal__arrow--next\", { \"vuecal__arrow--highlighted\": _ctx.highlightedControl === \"next\" }]),\n        type: \"button\",\n        onClick: _cache[7] || (_cache[7] = (...args) => $options.next && $options.next(...args)),\n        onDragenter: _cache[8] || (_cache[8] = ($event) => $props.editEvents.drag && $options.dnd && $options.dnd.viewSelectorDragEnter($event, \"next\", _ctx.$data)),\n        onDragleave: _cache[9] || (_cache[9] = ($event) => $props.editEvents.drag && $options.dnd && $options.dnd.viewSelectorDragLeave($event, \"next\", _ctx.$data)),\n        \"aria-label\": `Next ${$options.view.id}`\n      }, [\n        renderSlot(_ctx.$slots, \"arrow-next\")\n      ], 42, _hoisted_7$1)\n    ])) : createCommentVNode(\"\", true),\n    $props.viewProps.weekDaysInHeader ? (openBlock(), createBlock(_component_weekdays_headings, {\n      key: 2,\n      \"week-days\": $props.weekDays,\n      \"transition-direction\": $options.transitionDirection,\n      \"switch-to-narrower-view\": $props.switchToNarrowerView\n    }, createSlots({ _: 2 }, [\n      _ctx.$slots[\"weekday-heading\"] ? {\n        name: \"weekday-heading\",\n        fn: withCtx(({ heading, view }) => [\n          renderSlot(_ctx.$slots, \"weekday-heading\", {\n            heading,\n            view\n          })\n        ]),\n        key: \"0\"\n      } : void 0,\n      _ctx.$slots[\"split-label\"] ? {\n        name: \"split-label\",\n        fn: withCtx(({ split }) => [\n          renderSlot(_ctx.$slots, \"split-label\", {\n            split,\n            view: $options.view\n          })\n        ]),\n        key: \"1\"\n      } : void 0\n    ]), 1032, [\"week-days\", \"transition-direction\", \"switch-to-narrower-view\"])) : createCommentVNode(\"\", true),\n    createVNode(Transition, {\n      name: `slide-fade--${$options.transitionDirection}`\n    }, {\n      default: withCtx(() => [\n        $options.showDaySplits ? (openBlock(), createElementBlock(\"div\", _hoisted_8$1, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList($props.daySplits, (split, i) => {\n            return openBlock(), createElementBlock(\"div\", {\n              class: normalizeClass([\"day-split-header\", split.class || false]),\n              key: i\n            }, [\n              renderSlot(_ctx.$slots, \"split-label\", {\n                split,\n                view: $options.view.id\n              }, () => [\n                createTextVNode(toDisplayString(split.label), 1)\n              ])\n            ], 2);\n          }), 128))\n        ])) : createCommentVNode(\"\", true)\n      ]),\n      _: 3\n    }, 8, [\"name\"])\n  ]);\n}\nconst _sfc_main$4 = {\n  inject: [\"vuecal\", \"previous\", \"next\", \"switchView\", \"updateSelectedDate\", \"modules\", \"view\"],\n  components: { WeekdaysHeadings },\n  props: {\n    // Vuecal main component options (props).\n    options: { type: Object, default: () => ({}) },\n    editEvents: { type: Object, required: true },\n    hasSplits: { type: [Boolean, Number], default: false },\n    daySplits: { type: Array, default: () => [] },\n    viewProps: { type: Object, default: () => ({}) },\n    weekDays: { type: Array, default: () => [] },\n    switchToNarrowerView: { type: Function, default: () => {\n    } }\n  },\n  data: () => ({\n    highlightedControl: null\n  }),\n  methods: {\n    goToToday() {\n      this.updateSelectedDate(new Date((/* @__PURE__ */ new Date()).setHours(0, 0, 0, 0)));\n    },\n    switchToBroaderView() {\n      this.transitionDirection = \"left\";\n      if (this.broaderView) this.switchView(this.broaderView);\n    }\n  },\n  computed: {\n    transitionDirection: {\n      get() {\n        return this.vuecal.transitionDirection;\n      },\n      set(direction) {\n        this.vuecal.transitionDirection = direction;\n      }\n    },\n    broaderView() {\n      const { enabledViews } = this.vuecal;\n      return enabledViews[enabledViews.indexOf(this.view.id) - 1];\n    },\n    showDaySplits() {\n      return this.view.id === \"day\" && this.hasSplits && this.options.stickySplitLabels && !this.options.minSplitWidth;\n    },\n    // Drag & drop module.\n    dnd() {\n      return this.modules.dnd;\n    }\n  }\n};\nconst Header = /* @__PURE__ */ _export_sfc(_sfc_main$4, [[\"render\", render$4]]);\nconst _hoisted_1$3 = [\"draggable\"];\nfunction render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"vuecal__event\", $options.eventClasses]),\n    style: normalizeStyle($options.eventStyles),\n    tabindex: \"0\",\n    onFocus: _cache[4] || (_cache[4] = (...args) => $options.focusEvent && $options.focusEvent(...args)),\n    onKeypress: _cache[5] || (_cache[5] = withKeys(withModifiers((...args) => $options.onEnterKeypress && $options.onEnterKeypress(...args), [\"stop\"]), [\"enter\"])),\n    onMouseenter: _cache[6] || (_cache[6] = (...args) => $options.onMouseEnter && $options.onMouseEnter(...args)),\n    onMouseleave: _cache[7] || (_cache[7] = (...args) => $options.onMouseLeave && $options.onMouseLeave(...args)),\n    onTouchstart: _cache[8] || (_cache[8] = withModifiers((...args) => $options.onTouchStart && $options.onTouchStart(...args), [\"stop\"])),\n    onMousedown: _cache[9] || (_cache[9] = ($event) => $options.onMouseDown($event)),\n    onMouseup: _cache[10] || (_cache[10] = (...args) => $options.onMouseUp && $options.onMouseUp(...args)),\n    onTouchend: _cache[11] || (_cache[11] = (...args) => $options.onMouseUp && $options.onMouseUp(...args)),\n    onTouchmove: _cache[12] || (_cache[12] = (...args) => $options.onTouchMove && $options.onTouchMove(...args)),\n    onDblclick: _cache[13] || (_cache[13] = (...args) => $options.onDblClick && $options.onDblClick(...args)),\n    draggable: $options.draggable,\n    onDragstart: _cache[14] || (_cache[14] = ($event) => $options.draggable && $options.onDragStart($event)),\n    onDragend: _cache[15] || (_cache[15] = ($event) => $options.draggable && $options.onDragEnd())\n  }, [\n    $options.vuecal.editEvents.delete && $props.event.deletable ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      class: \"vuecal__event-delete\",\n      onClick: _cache[0] || (_cache[0] = withModifiers((...args) => $options.deleteEvent && $options.deleteEvent(...args), [\"stop\"])),\n      onTouchstart: _cache[1] || (_cache[1] = withModifiers((...args) => $options.touchDeleteEvent && $options.touchDeleteEvent(...args), [\"stop\"]))\n    }, toDisplayString($options.vuecal.texts.deleteEvent), 33)) : createCommentVNode(\"\", true),\n    renderSlot(_ctx.$slots, \"event\", {\n      event: $props.event,\n      view: $options.view.id\n    }),\n    $options.resizable ? (openBlock(), createElementBlock(\"div\", {\n      key: 1,\n      class: \"vuecal__event-resize-handle\",\n      contenteditable: \"false\",\n      onMousedown: _cache[2] || (_cache[2] = withModifiers((...args) => $options.onResizeHandleMouseDown && $options.onResizeHandleMouseDown(...args), [\"stop\", \"prevent\"])),\n      onTouchstart: _cache[3] || (_cache[3] = withModifiers((...args) => $options.onResizeHandleMouseDown && $options.onResizeHandleMouseDown(...args), [\"stop\", \"prevent\"]))\n    }, null, 32)) : createCommentVNode(\"\", true)\n  ], 46, _hoisted_1$3);\n}\nconst _sfc_main$3 = {\n  inject: [\"vuecal\", \"utils\", \"modules\", \"view\", \"domEvents\", \"editEvents\"],\n  props: {\n    cellFormattedDate: { type: String, default: \"\" },\n    event: { type: Object, default: () => ({}) },\n    cellEvents: { type: Array, default: () => [] },\n    overlaps: { type: Array, default: () => [] },\n    // If multiple simultaneous events, the events are placed from left to right from the\n    // one starting first to the last. (See utils/event.js > checkCellOverlappingEvents)\n    eventPosition: { type: Number, default: 0 },\n    overlapsStreak: { type: Number, default: 0 },\n    allDay: { type: Boolean, default: false }\n    // Is the event displayed in the all-day bar.\n  },\n  data: () => ({\n    // Event touch detection with 30px threshold.\n    touch: {\n      dragThreshold: 30,\n      // px.\n      startX: 0,\n      startY: 0,\n      // Detect if the event touch start + touch end was a drag or a tap.\n      // If it was a drag, don't call the event-click handler.\n      dragged: false\n    }\n  }),\n  methods: {\n    /**\n     * On event mousedown.\n     * Do not prevent propagation to trigger cell mousedown which highlights the cell if not highlighted.\n     */\n    onMouseDown(e, touch = false) {\n      if (\"ontouchstart\" in window && !touch) return false;\n      const { clickHoldAnEvent, focusAnEvent, resizeAnEvent, dragAnEvent } = this.domEvents;\n      if (focusAnEvent._eid === this.event._eid && clickHoldAnEvent._eid === this.event._eid) {\n        return true;\n      }\n      this.focusEvent();\n      clickHoldAnEvent._eid = null;\n      if (this.vuecal.editEvents.delete && this.event.deletable) {\n        clickHoldAnEvent.timeoutId = setTimeout(() => {\n          if (!resizeAnEvent._eid && !dragAnEvent._eid) {\n            clickHoldAnEvent._eid = this.event._eid;\n            this.event.deleting = true;\n          }\n        }, clickHoldAnEvent.timeout);\n      }\n    },\n    /**\n     * The mouseup handler is global (whole document) and initialized in index.vue on mounted.\n     * It handles the mouseup on cell, events, and everything.\n     * All mouseup on event, should be put there to avoid conflicts with other cases.\n     * This function is also called on touchend on the event.\n     */\n    onMouseUp(e) {\n      if (this.domEvents.focusAnEvent._eid === this.event._eid && !this.touch.dragged) {\n        this.domEvents.focusAnEvent.mousedUp = true;\n      }\n      this.touch.dragged = false;\n    },\n    onMouseEnter(e) {\n      e.preventDefault();\n      this.vuecal.emitWithEvent(\"event-mouse-enter\", this.event);\n    },\n    onMouseLeave(e) {\n      e.preventDefault();\n      this.vuecal.emitWithEvent(\"event-mouse-leave\", this.event);\n    },\n    // Detect if user taps on an event or drags it. If dragging, don't fire the event-click handler (if any).\n    onTouchMove(e) {\n      if (typeof this.vuecal.onEventClick !== \"function\") return;\n      const { clientX, clientY } = e.touches[0];\n      const { startX, startY, dragThreshold } = this.touch;\n      if (Math.abs(clientX - startX) > dragThreshold || Math.abs(clientY - startY) > dragThreshold) {\n        this.touch.dragged = true;\n      }\n    },\n    onTouchStart(e) {\n      this.touch.startX = e.touches[0].clientX;\n      this.touch.startY = e.touches[0].clientY;\n      this.onMouseDown(e, true);\n    },\n    onEnterKeypress(e) {\n      if (typeof this.vuecal.onEventClick === \"function\") return this.vuecal.onEventClick(this.event, e);\n    },\n    onDblClick(e) {\n      if (typeof this.vuecal.onEventDblclick === \"function\") return this.vuecal.onEventDblclick(this.event, e);\n    },\n    onDragStart(e) {\n      this.dnd && this.dnd.eventDragStart(e, this.event);\n    },\n    onDragEnd() {\n      this.dnd && this.dnd.eventDragEnd(this.event);\n    },\n    onResizeHandleMouseDown() {\n      this.focusEvent();\n      this.domEvents.dragAnEvent._eid = null;\n      this.domEvents.resizeAnEvent = Object.assign(this.domEvents.resizeAnEvent, {\n        _eid: this.event._eid,\n        start: (this.segment || this.event).start,\n        split: this.event.split || null,\n        segment: !!this.segment && this.utils.date.formatDateLite(this.segment.start),\n        originalEnd: new Date((this.segment || this.event).end),\n        originalEndTimeMinutes: this.event.endTimeMinutes\n      });\n      this.event.resizing = true;\n    },\n    deleteEvent(touch = false) {\n      if (\"ontouchstart\" in window && !touch) return false;\n      this.utils.event.deleteAnEvent(this.event);\n    },\n    touchDeleteEvent(event) {\n      this.deleteEvent(true);\n    },\n    cancelDeleteEvent() {\n      this.event.deleting = false;\n    },\n    focusEvent() {\n      const { focusAnEvent } = this.domEvents;\n      const focusedEvent = focusAnEvent._eid;\n      if (focusedEvent === this.event._eid) return;\n      else if (focusedEvent) {\n        const event = this.view.events.find((e) => e._eid === focusedEvent);\n        if (event) event.focused = false;\n      }\n      this.vuecal.cancelDelete();\n      this.vuecal.emitWithEvent(\"event-focus\", this.event);\n      focusAnEvent._eid = this.event._eid;\n      this.event.focused = true;\n    }\n  },\n  computed: {\n    eventDimensions() {\n      const { startTimeMinutes, endTimeMinutes } = this.segment || this.event;\n      let minutesFromTop = startTimeMinutes - this.vuecal.timeFrom;\n      const top = Math.max(Math.round(minutesFromTop * this.vuecal.timeCellHeight / this.vuecal.timeStep), 0);\n      minutesFromTop = Math.min(endTimeMinutes, this.vuecal.timeTo) - this.vuecal.timeFrom;\n      const bottom = Math.round(minutesFromTop * this.vuecal.timeCellHeight / this.vuecal.timeStep);\n      const height = Math.max(bottom - top, 5);\n      return { top, height };\n    },\n    eventStyles() {\n      if (this.event.allDay || !this.vuecal.time || !this.event.endTimeMinutes || this.view.id === \"month\" || this.allDay) return {};\n      let width = 100 / Math.min(this.overlaps.length + 1, this.overlapsStreak);\n      let left = 100 / (this.overlaps.length + 1) * this.eventPosition;\n      if (this.vuecal.minEventWidth && width < this.vuecal.minEventWidth) {\n        width = this.vuecal.minEventWidth;\n        left = (100 - this.vuecal.minEventWidth) / this.overlaps.length * this.eventPosition;\n      }\n      const { top, height } = this.eventDimensions;\n      return {\n        top: `${top}px`,\n        height: `${height}px`,\n        width: `${width}%`,\n        left: this.event.left && `${this.event.left}px` || `${left}%`\n      };\n    },\n    // Don't rely on global variables otherwise whenever it would change all the events would be redrawn.\n    eventClasses() {\n      const { isFirstDay, isLastDay } = this.segment || {};\n      return {\n        [this.event.class]: !!this.event.class,\n        \"vuecal__event--focus\": this.event.focused,\n        \"vuecal__event--resizing\": this.event.resizing,\n        \"vuecal__event--background\": this.event.background,\n        \"vuecal__event--deletable\": this.event.deleting,\n        \"vuecal__event--all-day\": this.event.allDay,\n        // Only apply the dragging class on the event copy that is being dragged.\n        \"vuecal__event--dragging\": !this.event.draggingStatic && this.event.dragging,\n        // Only apply the static class on the event original that remains static while a copy is being dragged.\n        // Sometimes when dragging fast the static class would get stuck and events stays invisible,\n        // So if dragging is false disable the static class as well.\n        \"vuecal__event--static\": this.event.dragging && this.event.draggingStatic,\n        // Multiple days events.\n        \"vuecal__event--multiple-days\": !!this.segment,\n        \"event-start\": this.segment && isFirstDay && !isLastDay,\n        \"event-middle\": this.segment && !isFirstDay && !isLastDay,\n        \"event-end\": this.segment && isLastDay && !isFirstDay\n      };\n    },\n    // When multiple-day events, a segment is a portion of event spanning on 1 day.\n    segment() {\n      return this.event.segments && this.event.segments[this.cellFormattedDate] || null;\n    },\n    draggable() {\n      const { draggable, background, daysCount } = this.event;\n      return this.vuecal.editEvents.drag && draggable && !background && daysCount === 1;\n    },\n    resizable() {\n      const { editEvents, time } = this.vuecal;\n      return editEvents.resize && this.event.resizable && time && !this.allDay && (!this.segment || this.segment && this.segment.isLastDay) && this.view.id !== \"month\";\n    },\n    // Drag & drop module.\n    dnd() {\n      return this.modules.dnd;\n    }\n  }\n};\nconst Event = /* @__PURE__ */ _export_sfc(_sfc_main$3, [[\"render\", render$3]]);\nconst _hoisted_1$2 = [\"data-split\", \"aria-label\", \"onTouchstart\", \"onMousedown\", \"onDragover\", \"onDrop\"];\nconst _hoisted_2$1 = {\n  key: 0,\n  class: \"cell-time-labels\"\n};\nconst _hoisted_3$1 = [\"innerHTML\"];\nconst _hoisted_4$1 = {\n  key: 2,\n  class: \"vuecal__cell-events\"\n};\nconst _hoisted_5$1 = [\"title\"];\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_event = resolveComponent(\"event\");\n  return openBlock(), createBlock(TransitionGroup, {\n    class: normalizeClass([\"vuecal__cell\", $options.cellClasses]),\n    name: `slide-fade--${$options.transitionDirection}`,\n    tag: \"div\",\n    appear: $props.options.transitions,\n    style: normalizeStyle($options.cellStyles)\n  }, {\n    default: withCtx(() => [\n      (openBlock(true), createElementBlock(Fragment, null, renderList($options.splitsCount ? $options.splits : 1, (split, i) => {\n        return openBlock(), createElementBlock(\"div\", {\n          class: normalizeClass([\"vuecal__flex vuecal__cell-content\", $options.splitsCount && $options.splitClasses(split)]),\n          key: $props.options.transitions ? `${$options.view.id}-${$props.data.content}-${i}` : i,\n          \"data-split\": $options.splitsCount ? split.id : false,\n          column: \"\",\n          tabindex: \"0\",\n          \"aria-label\": $props.data.content,\n          onFocus: _cache[0] || (_cache[0] = ($event) => $options.onCellFocus($event)),\n          onKeypress: _cache[1] || (_cache[1] = withKeys(($event) => $options.onCellkeyPressEnter($event), [\"enter\"])),\n          onTouchstart: ($event) => !$options.isDisabled && $options.onCellTouchStart($event, $options.splitsCount ? split.id : null),\n          onMousedown: ($event) => !$options.isDisabled && $options.onCellMouseDown($event, $options.splitsCount ? split.id : null),\n          onClick: _cache[2] || (_cache[2] = ($event) => !$options.isDisabled && $options.onCellClick($event)),\n          onDblclick: _cache[3] || (_cache[3] = ($event) => !$options.isDisabled && $options.onCellDblClick($event)),\n          onContextmenu: _cache[4] || (_cache[4] = ($event) => !$options.isDisabled && $props.options.cellContextmenu && $options.onCellContextMenu($event)),\n          onDragenter: _cache[5] || (_cache[5] = ($event) => !$options.isDisabled && $props.editEvents.drag && $options.dnd && $options.dnd.cellDragEnter($event, _ctx.$data, $props.data.startDate)),\n          onDragover: ($event) => !$options.isDisabled && $props.editEvents.drag && $options.dnd && $options.dnd.cellDragOver($event, _ctx.$data, $props.data.startDate, $options.splitsCount ? split.id : null),\n          onDragleave: _cache[6] || (_cache[6] = ($event) => !$options.isDisabled && $props.editEvents.drag && $options.dnd && $options.dnd.cellDragLeave($event, _ctx.$data, $props.data.startDate)),\n          onDrop: ($event) => !$options.isDisabled && $props.editEvents.drag && $options.dnd && $options.dnd.cellDragDrop($event, _ctx.$data, $props.data.startDate, $options.splitsCount ? split.id : null)\n        }, [\n          $props.options.showTimeInCells && $props.options.time && $options.isWeekOrDayView && !$props.allDay ? (openBlock(), createElementBlock(\"div\", _hoisted_2$1, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList($options.vuecal.timeCells, (cell, i2) => {\n              return openBlock(), createElementBlock(\"span\", {\n                class: \"cell-time-label\",\n                key: i2\n              }, toDisplayString(cell.label), 1);\n            }), 128))\n          ])) : createCommentVNode(\"\", true),\n          $options.isWeekOrDayView && !$props.allDay && $options.specialHours.length ? (openBlock(true), createElementBlock(Fragment, { key: 1 }, renderList($options.specialHours, (block, i2) => {\n            return openBlock(), createElementBlock(\"div\", {\n              class: normalizeClass([\"vuecal__special-hours\", `vuecal__special-hours--day${block.day} ${block.class}`]),\n              style: normalizeStyle(`height: ${block.height}px;top: ${block.top}px`)\n            }, [\n              block.label ? (openBlock(), createElementBlock(\"div\", {\n                key: 0,\n                class: \"special-hours-label\",\n                innerHTML: block.label\n              }, null, 8, _hoisted_3$1)) : createCommentVNode(\"\", true)\n            ], 6);\n          }), 256)) : createCommentVNode(\"\", true),\n          renderSlot(_ctx.$slots, \"cell-content\", {\n            events: $options.events,\n            selectCell: ($event) => $options.selectCell($event, true),\n            split: $options.splitsCount ? split : false\n          }),\n          $options.eventsCount && ($options.isWeekOrDayView || $options.view.id === \"month\" && $props.options.eventsOnMonthView) ? (openBlock(), createElementBlock(\"div\", _hoisted_4$1, [\n            (openBlock(true), createElementBlock(Fragment, null, renderList($options.splitsCount ? split.events : $options.events, (event, j) => {\n              return openBlock(), createBlock(_component_event, {\n                key: j,\n                \"cell-formatted-date\": $props.data.formattedDate,\n                event,\n                \"all-day\": $props.allDay,\n                \"cell-events\": $options.splitsCount ? split.events : $options.events,\n                overlaps: (($options.splitsCount ? split.overlaps[event._eid] : _ctx.cellOverlaps[event._eid]) || []).overlaps,\n                \"event-position\": (($options.splitsCount ? split.overlaps[event._eid] : _ctx.cellOverlaps[event._eid]) || []).position,\n                \"overlaps-streak\": $options.splitsCount ? split.overlapsStreak : _ctx.cellOverlapsStreak\n              }, {\n                event: withCtx(({ event: event2, view }) => [\n                  renderSlot(_ctx.$slots, \"event\", {\n                    view,\n                    event: event2\n                  })\n                ]),\n                _: 2\n              }, 1032, [\"cell-formatted-date\", \"event\", \"all-day\", \"cell-events\", \"overlaps\", \"event-position\", \"overlaps-streak\"]);\n            }), 128))\n          ])) : createCommentVNode(\"\", true)\n        ], 42, _hoisted_1$2);\n      }), 128)),\n      $options.timelineVisible ? (openBlock(), createElementBlock(\"div\", {\n        class: \"vuecal__now-line\",\n        style: normalizeStyle(`top: ${$options.todaysTimePosition}px`),\n        key: $props.options.transitions ? `${$options.view.id}-now-line` : \"now-line\",\n        title: $options.utils.date.formatTime($options.vuecal.now)\n      }, null, 12, _hoisted_5$1)) : createCommentVNode(\"\", true)\n    ]),\n    _: 3\n  }, 8, [\"class\", \"name\", \"appear\", \"style\"]);\n}\nconst _sfc_main$2 = {\n  inject: [\"vuecal\", \"utils\", \"modules\", \"view\", \"domEvents\"],\n  components: { Event },\n  props: {\n    // Vue-cal main component options (props).\n    options: { type: Object, default: () => ({}) },\n    editEvents: { type: Object, required: true },\n    data: { type: Object, required: true },\n    cellSplits: { type: Array, default: () => [] },\n    minTimestamp: { type: [Number, null], default: null },\n    maxTimestamp: { type: [Number, null], default: null },\n    cellWidth: { type: [Number, Boolean], default: false },\n    allDay: { type: Boolean, default: false }\n  },\n  data: () => ({\n    cellOverlaps: {},\n    cellOverlapsStreak: 1,\n    // Largest amount of simultaneous events in cell.\n    // On mouse down, save the time at cursor so it can be reused on cell focus event\n    // where there is no cursor coords.\n    timeAtCursor: null,\n    highlighted: false,\n    // On event drag over.\n    highlightedSplit: null\n  }),\n  methods: {\n    getSplitAtCursor({ target }) {\n      const targetIsSplit = target.classList.contains(\"vuecal__cell-split\");\n      let split = targetIsSplit ? target : this.vuecal.findAncestor(target, \"vuecal__cell-split\");\n      if (split) {\n        split = split.attributes[\"data-split\"].value;\n        if (parseInt(split).toString() === split.toString()) split = parseInt(split);\n      }\n      return split || null;\n    },\n    splitClasses(split) {\n      return {\n        \"vuecal__cell-split\": true,\n        \"vuecal__cell-split--highlighted\": this.highlightedSplit === split.id,\n        [split.class]: !!split.class\n      };\n    },\n    checkCellOverlappingEvents() {\n      if (this.options.time && this.eventsCount && !this.splitsCount) {\n        if (this.eventsCount === 1) {\n          this.cellOverlaps = [];\n          this.cellOverlapsStreak = 1;\n        } else [this.cellOverlaps, this.cellOverlapsStreak] = this.utils.event.checkCellOverlappingEvents(this.events, this.options);\n      }\n    },\n    isDOMElementAnEvent(el) {\n      return this.vuecal.isDOMElementAnEvent(el);\n    },\n    /**\n     * Select a cell and go to narrower view on double click or single click according to vuecalProps option.\n     */\n    selectCell(DOMEvent, force = false) {\n      const split = this.splitsCount ? this.getSplitAtCursor(DOMEvent) : null;\n      this.utils.cell.selectCell(force, this.timeAtCursor, split);\n      this.timeAtCursor = null;\n    },\n    onCellkeyPressEnter(DOMEvent) {\n      if (!this.isSelected) this.onCellFocus(DOMEvent);\n      const split = this.splitsCount ? this.getSplitAtCursor(DOMEvent) : null;\n      this.utils.cell.keyPressEnterCell(this.timeAtCursor, split);\n      this.timeAtCursor = null;\n    },\n    /**\n     * On cell focus, from tab key or from mousedown, highlight the cell and emit\n     * the cell-focus event with the date of the cell start when focusing from tab or\n     * the date & time at cursor if click/touch.\n     */\n    onCellFocus(DOMEvent) {\n      if (!this.isSelected && !this.isDisabled) {\n        this.isSelected = this.data.startDate;\n        const split = this.splitsCount ? this.getSplitAtCursor(DOMEvent) : null;\n        const date = this.timeAtCursor || this.data.startDate;\n        this.vuecal.$emit(\"cell-focus\", split ? { date, split } : date);\n      }\n    },\n    onCellMouseDown(DOMEvent, split = null, touch = false) {\n      if (\"ontouchstart\" in window && !touch) return false;\n      if (!this.isSelected) this.onCellFocus(DOMEvent);\n      const { clickHoldACell, focusAnEvent } = this.domEvents;\n      this.domEvents.cancelClickEventCreation = false;\n      clickHoldACell.eventCreated = false;\n      this.timeAtCursor = new Date(this.data.startDate);\n      const { minutes, cursorCoords: { y } } = this.vuecal.minutesAtCursor(DOMEvent);\n      this.timeAtCursor.setMinutes(minutes);\n      const mouseDownOnEvent = this.isDOMElementAnEvent(DOMEvent.target);\n      if (!mouseDownOnEvent && focusAnEvent._eid) {\n        (this.view.events.find((e) => e._eid === focusAnEvent._eid) || {}).focused = false;\n      }\n      if (this.editEvents.create && !mouseDownOnEvent) this.setUpEventCreation(DOMEvent, y);\n    },\n    setUpEventCreation(DOMEvent, startCursorY) {\n      if (this.options.dragToCreateEvent && [\"week\", \"day\"].includes(this.view.id)) {\n        const { dragCreateAnEvent } = this.domEvents;\n        dragCreateAnEvent.startCursorY = startCursorY;\n        dragCreateAnEvent.split = this.splitsCount ? this.getSplitAtCursor(DOMEvent) : null;\n        dragCreateAnEvent.start = this.timeAtCursor;\n        if (this.options.snapToTime) {\n          let timeMinutes = this.timeAtCursor.getHours() * 60 + this.timeAtCursor.getMinutes();\n          const plusHalfSnapTime = timeMinutes + this.options.snapToTime / 2;\n          timeMinutes = plusHalfSnapTime - plusHalfSnapTime % this.options.snapToTime;\n          dragCreateAnEvent.start.setHours(0, timeMinutes, 0, 0);\n        }\n      } else if (this.options.cellClickHold && [\"month\", \"week\", \"day\"].includes(this.view.id)) {\n        this.setUpCellHoldTimer(DOMEvent);\n      }\n    },\n    // When click & holding a cell, and if allowed, set a timeout to create an event (can be cancelled).\n    setUpCellHoldTimer(DOMEvent) {\n      const { clickHoldACell } = this.domEvents;\n      clickHoldACell.cellId = `${this.vuecal._.uid}_${this.data.formattedDate}`;\n      clickHoldACell.split = this.splitsCount ? this.getSplitAtCursor(DOMEvent) : null;\n      clickHoldACell.timeoutId = setTimeout(() => {\n        if (clickHoldACell.cellId && !this.domEvents.cancelClickEventCreation) {\n          const { _eid } = this.utils.event.createAnEvent(\n            this.timeAtCursor,\n            null,\n            clickHoldACell.split ? { split: clickHoldACell.split } : {}\n          );\n          clickHoldACell.eventCreated = _eid;\n        }\n      }, clickHoldACell.timeout);\n    },\n    onCellTouchStart(DOMEvent, split = null) {\n      this.onCellMouseDown(DOMEvent, split, true);\n    },\n    onCellClick(DOMEvent) {\n      if (!this.isDOMElementAnEvent(DOMEvent.target)) this.selectCell(DOMEvent);\n    },\n    onCellDblClick(DOMEvent) {\n      const date = new Date(this.data.startDate);\n      date.setMinutes(this.vuecal.minutesAtCursor(DOMEvent).minutes);\n      const split = this.splitsCount ? this.getSplitAtCursor(DOMEvent) : null;\n      this.vuecal.$emit(\"cell-dblclick\", split ? { date, split } : date);\n      if (this.options.dblclickToNavigate) this.vuecal.switchToNarrowerView();\n    },\n    onCellContextMenu(DOMEvent) {\n      DOMEvent.stopPropagation();\n      DOMEvent.preventDefault();\n      const date = new Date(this.data.startDate);\n      const { cursorCoords, minutes } = this.vuecal.minutesAtCursor(DOMEvent);\n      date.setMinutes(minutes);\n      const split = this.splitsCount ? this.getSplitAtCursor(DOMEvent) : null;\n      this.vuecal.$emit(\"cell-contextmenu\", { date, ...cursorCoords, ...split || {}, e: DOMEvent });\n    }\n  },\n  computed: {\n    // Drag & drop module.\n    dnd() {\n      return this.modules.dnd;\n    },\n    nowInMinutes() {\n      return this.utils.date.dateToMinutes(this.vuecal.now);\n    },\n    isBeforeMinDate() {\n      return this.minTimestamp !== null && this.minTimestamp > this.data.endDate.getTime();\n    },\n    isAfterMaxDate() {\n      return this.maxTimestamp && this.maxTimestamp < this.data.startDate.getTime();\n    },\n    // Is the current cell disabled or not.\n    isDisabled() {\n      const { disableDays } = this.options;\n      const { isYearsOrYearView } = this.vuecal;\n      if (disableDays.length && disableDays.includes(this.data.formattedDate) && !isYearsOrYearView) return true;\n      return this.isBeforeMinDate || this.isAfterMaxDate;\n    },\n    // Is the current cell selected or not.\n    isSelected: {\n      get() {\n        let selected = false;\n        const { selectedDate } = this.view;\n        if (this.view.id === \"years\") {\n          selected = selectedDate.getFullYear() === this.data.startDate.getFullYear();\n        } else if (this.view.id === \"year\") {\n          selected = selectedDate.getFullYear() === this.data.startDate.getFullYear() && selectedDate.getMonth() === this.data.startDate.getMonth();\n        } else selected = selectedDate.getTime() === this.data.startDate.getTime();\n        return selected;\n      },\n      set(date) {\n        this.view.selectedDate = date;\n        this.vuecal.$emit(\"update:selected-date\", this.view.selectedDate);\n      }\n    },\n    // Cache result for performance.\n    isWeekOrDayView() {\n      return [\"week\", \"day\"].includes(this.view.id);\n    },\n    transitionDirection() {\n      return this.vuecal.transitionDirection;\n    },\n    specialHours() {\n      return this.data.specialHours.map((block) => {\n        let { from, to } = block;\n        from = Math.max(from, this.options.timeFrom);\n        to = Math.min(to, this.options.timeTo);\n        return {\n          ...block,\n          height: (to - from) * this.timeScale,\n          top: (from - this.options.timeFrom) * this.timeScale\n        };\n      });\n    },\n    events() {\n      const { startDate: cellStart, endDate: cellEnd } = this.data;\n      let events = [];\n      if (!([\"years\", \"year\"].includes(this.view.id) && !this.options.eventsCountOnYearView)) {\n        events = this.view.events.slice(0);\n        if (this.view.id === \"month\") {\n          events.push(...this.view.outOfScopeEvents);\n        }\n        events = events.filter((e) => this.utils.event.eventInRange(e, cellStart, cellEnd));\n        if (this.options.showAllDayEvents && this.view.id !== \"month\") events = events.filter((e) => !!e.allDay === this.allDay);\n        if (this.options.time && this.isWeekOrDayView && !this.allDay) {\n          const { timeFrom, timeTo } = this.options;\n          events = events.filter((e) => {\n            const segment = e.daysCount > 1 && e.segments[this.data.formattedDate] || {};\n            const singleDayInRange = e.daysCount === 1 && e.startTimeMinutes < timeTo && e.endTimeMinutes > timeFrom;\n            const multipleDayInRange = e.daysCount > 1 && (segment.startTimeMinutes < timeTo && segment.endTimeMinutes > timeFrom);\n            const recurrMultDayInRange = false;\n            return e.allDay || singleDayInRange || multipleDayInRange || recurrMultDayInRange;\n          });\n        }\n        if (this.options.time && this.isWeekOrDayView && !(this.options.showAllDayEvents && this.allDay)) {\n          events.sort((a, b) => a.start < b.start ? -1 : 1);\n        }\n        if (!this.cellSplits.length) this.$nextTick(this.checkCellOverlappingEvents);\n      }\n      return events;\n    },\n    eventsCount() {\n      return this.events.length;\n    },\n    splits() {\n      return this.cellSplits.map((item, i) => {\n        const events = this.events.filter((e) => e.split === item.id);\n        const [overlaps, streak] = this.utils.event.checkCellOverlappingEvents(events.filter((e) => !e.background && !e.allDay), this.options);\n        return {\n          ...item,\n          overlaps,\n          overlapsStreak: streak,\n          events\n        };\n      });\n    },\n    splitsCount() {\n      return this.splits.length;\n    },\n    cellClasses() {\n      return {\n        [this.data.class]: !!this.data.class,\n        \"vuecal__cell--current\": this.data.current,\n        // E.g. Current year in years view.\n        \"vuecal__cell--today\": this.data.today,\n        \"vuecal__cell--out-of-scope\": this.data.outOfScope,\n        \"vuecal__cell--before-min\": this.isDisabled && this.isBeforeMinDate,\n        \"vuecal__cell--after-max\": this.isDisabled && this.isAfterMaxDate,\n        \"vuecal__cell--disabled\": this.isDisabled,\n        \"vuecal__cell--selected\": this.isSelected,\n        \"vuecal__cell--highlighted\": this.highlighted,\n        \"vuecal__cell--has-splits\": this.splitsCount,\n        \"vuecal__cell--has-events\": this.eventsCount\n      };\n    },\n    cellStyles() {\n      return {\n        // cellWidth is only applied when hiding weekdays on month and week views.\n        ...this.cellWidth ? { width: `${this.cellWidth}%` } : {}\n      };\n    },\n    timelineVisible() {\n      const { time, timeTo } = this.options;\n      return this.data.today && this.isWeekOrDayView && time && !this.allDay && this.nowInMinutes <= timeTo;\n    },\n    todaysTimePosition() {\n      if (!this.data.today || !this.options.time) return;\n      const minutesFromTop = this.nowInMinutes - this.options.timeFrom;\n      return Math.round(minutesFromTop * this.timeScale);\n    },\n    timeScale() {\n      return this.options.timeCellHeight / this.options.timeStep;\n    }\n  }\n};\nconst Cell = /* @__PURE__ */ _export_sfc(_sfc_main$2, [[\"render\", render$2]]);\nconst _hoisted_1$1 = {\n  key: 0,\n  class: \"vuecal__all-day-text\",\n  style: { \"width\": \"3em\" }\n};\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_vuecal_cell = resolveComponent(\"vuecal-cell\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: \"vuecal__flex vuecal__all-day\",\n    style: normalizeStyle($props.cellOrSplitMinWidth && { height: $props.height })\n  }, [\n    !$props.cellOrSplitMinWidth ? (openBlock(), createElementBlock(\"div\", _hoisted_1$1, [\n      createElementVNode(\"span\", null, toDisplayString($props.label), 1)\n    ])) : createCommentVNode(\"\", true),\n    createElementVNode(\"div\", {\n      class: normalizeClass([\"vuecal__flex vuecal__cells\", `${$options.view.id}-view`]),\n      grow: \"\",\n      style: normalizeStyle($props.cellOrSplitMinWidth ? `min-width: ${$props.cellOrSplitMinWidth}px` : \"\")\n    }, [\n      (openBlock(true), createElementBlock(Fragment, null, renderList($props.cells, (cell, i) => {\n        return openBlock(), createBlock(_component_vuecal_cell, {\n          key: i,\n          options: $props.options,\n          \"edit-events\": $options.editEvents,\n          data: cell,\n          \"all-day\": true,\n          \"cell-width\": $props.options.hideWeekdays.length && ($options.vuecal.isWeekView || $options.vuecal.isMonthView) && $options.vuecal.cellWidth,\n          \"min-timestamp\": $props.options.minTimestamp,\n          \"max-timestamp\": $props.options.maxTimestamp,\n          \"cell-splits\": $props.daySplits\n        }, {\n          event: withCtx(({ event, view }) => [\n            renderSlot(_ctx.$slots, \"event\", {\n              view,\n              event\n            })\n          ]),\n          _: 2\n        }, 1032, [\"options\", \"edit-events\", \"data\", \"cell-width\", \"min-timestamp\", \"max-timestamp\", \"cell-splits\"]);\n      }), 128))\n    ], 6)\n  ], 4);\n}\nconst _sfc_main$1 = {\n  inject: [\"vuecal\", \"view\", \"editEvents\"],\n  components: { \"vuecal-cell\": Cell },\n  props: {\n    // Vue-cal main component options (props).\n    options: { type: Object, required: true },\n    cells: { type: Array, required: true },\n    label: { type: String, required: true },\n    daySplits: { type: Array, default: () => [] },\n    shortEvents: { type: Boolean, default: true },\n    height: { type: String, default: \"\" },\n    cellOrSplitMinWidth: { type: Number, default: null }\n  },\n  computed: {\n    hasCellOrSplitWidth() {\n      return !!(this.options.minCellWidth || this.daySplits.length && this.options.minSplitWidth);\n    }\n  }\n};\nconst AllDayBar = /* @__PURE__ */ _export_sfc(_sfc_main$1, [[\"render\", render$1]]);\nconst _hoisted_1 = [\"lang\"];\nconst _hoisted_2 = { class: \"default\" };\nconst _hoisted_3 = {\n  key: 0,\n  class: \"vuecal__flex vuecal__body\",\n  grow: \"\"\n};\nconst _hoisted_4 = [\"onBlur\", \"innerHTML\"];\nconst _hoisted_5 = [\"innerHTML\"];\nconst _hoisted_6 = [\"innerHTML\"];\nconst _hoisted_7 = {\n  class: \"vuecal__flex\",\n  row: \"\",\n  grow: \"\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"vuecal__time-column\"\n};\nconst _hoisted_9 = { class: \"vuecal__time-cell-label\" };\nconst _hoisted_10 = {\n  key: 1,\n  class: \"vuecal__flex vuecal__week-numbers\",\n  column: \"\"\n};\nconst _hoisted_11 = [\"wrap\", \"column\"];\nconst _hoisted_12 = [\"onBlur\", \"innerHTML\"];\nconst _hoisted_13 = [\"innerHTML\"];\nconst _hoisted_14 = [\"innerHTML\"];\nconst _hoisted_15 = [\"wrap\"];\nconst _hoisted_16 = [\"innerHTML\"];\nconst _hoisted_17 = [\"innerHTML\"];\nconst _hoisted_18 = {\n  key: 2,\n  class: \"vuecal__cell-events-count\"\n};\nconst _hoisted_19 = {\n  key: 3,\n  class: \"vuecal__no-event\"\n};\nconst _hoisted_20 = [\"onBlur\", \"innerHTML\"];\nconst _hoisted_21 = [\"innerHTML\"];\nconst _hoisted_22 = {\n  key: 2,\n  class: \"vuecal__event-time\"\n};\nconst _hoisted_23 = { key: 0 };\nconst _hoisted_24 = {\n  key: 1,\n  class: \"days-to-end\"\n};\nconst _hoisted_25 = [\"innerHTML\"];\nconst _hoisted_26 = {\n  key: 0,\n  class: \"vuecal__scrollbar-check\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_vuecal_header = resolveComponent(\"vuecal-header\");\n  const _component_all_day_bar = resolveComponent(\"all-day-bar\");\n  const _component_weekdays_headings = resolveComponent(\"weekdays-headings\");\n  const _component_vuecal_cell = resolveComponent(\"vuecal-cell\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\"vuecal__flex vuecal\", $options.cssClasses]),\n    column: \"\",\n    ref: \"vuecal\",\n    lang: $props.locale\n  }, [\n    createVNode(_component_vuecal_header, {\n      options: _ctx.$props,\n      \"edit-events\": $options.editEvents,\n      \"view-props\": { views: $options.views, weekDaysInHeader: $options.weekDaysInHeader },\n      \"week-days\": $options.weekDays,\n      \"has-splits\": $options.hasSplits,\n      \"day-splits\": $options.daySplits,\n      \"switch-to-narrower-view\": $options.switchToNarrowerView\n    }, createSlots({\n      \"arrow-prev\": withCtx(() => [\n        renderSlot(_ctx.$slots, \"arrow-prev\", {}, () => [\n          _cache[0] || (_cache[0] = createTextVNode(\"\")),\n          _cache[1] || (_cache[1] = createElementVNode(\"i\", { class: \"angle\" }, null, -1)),\n          _cache[2] || (_cache[2] = createTextVNode(\"\"))\n        ])\n      ]),\n      \"arrow-next\": withCtx(() => [\n        renderSlot(_ctx.$slots, \"arrow-next\", {}, () => [\n          _cache[3] || (_cache[3] = createTextVNode(\"\")),\n          _cache[4] || (_cache[4] = createElementVNode(\"i\", { class: \"angle\" }, null, -1)),\n          _cache[5] || (_cache[5] = createTextVNode(\"\"))\n        ])\n      ]),\n      \"today-button\": withCtx(() => [\n        renderSlot(_ctx.$slots, \"today-button\", {}, () => [\n          createElementVNode(\"span\", _hoisted_2, toDisplayString($data.texts.today), 1)\n        ])\n      ]),\n      title: withCtx(() => [\n        renderSlot(_ctx.$slots, \"title\", {\n          title: $options.viewTitle,\n          view: $data.view\n        }, () => [\n          createTextVNode(toDisplayString($options.viewTitle), 1)\n        ])\n      ]),\n      _: 2\n    }, [\n      _ctx.$slots[\"weekday-heading\"] ? {\n        name: \"weekday-heading\",\n        fn: withCtx(({ heading, view }) => [\n          renderSlot(_ctx.$slots, \"weekday-heading\", {\n            heading,\n            view\n          })\n        ]),\n        key: \"0\"\n      } : void 0,\n      _ctx.$slots[\"split-label\"] ? {\n        name: \"split-label\",\n        fn: withCtx(({ split }) => [\n          renderSlot(_ctx.$slots, \"split-label\", {\n            split,\n            view: $data.view.id\n          })\n        ]),\n        key: \"1\"\n      } : void 0\n    ]), 1032, [\"options\", \"edit-events\", \"view-props\", \"week-days\", \"has-splits\", \"day-splits\", \"switch-to-narrower-view\"]),\n    !$props.hideBody ? (openBlock(), createElementBlock(\"div\", _hoisted_3, [\n      createVNode(Transition, {\n        name: `slide-fade--${$data.transitionDirection}`,\n        appear: $props.transitions\n      }, {\n        default: withCtx(() => [\n          (openBlock(), createElementBlock(\"div\", {\n            class: \"vuecal__flex\",\n            style: { \"min-width\": \"100%\" },\n            key: $props.transitions ? $data.view.id : false,\n            column: \"\"\n          }, [\n            $props.showAllDayEvents && $options.hasTimeColumn && (!$options.cellOrSplitMinWidth || $options.isDayView && !$props.minSplitWidth) ? (openBlock(), createBlock(_component_all_day_bar, normalizeProps(mergeProps({ key: 0 }, $options.allDayBar)), {\n              event: withCtx(({ event, view }) => [\n                renderSlot(_ctx.$slots, \"event\", {\n                  view,\n                  event\n                }, () => [\n                  $options.editEvents.title && event.titleEditable ? (openBlock(), createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"vuecal__event-title vuecal__event-title--edit\",\n                    contenteditable: \"\",\n                    onBlur: ($event) => $options.onEventTitleBlur($event, event),\n                    innerHTML: event.title\n                  }, null, 40, _hoisted_4)) : event.title ? (openBlock(), createElementBlock(\"div\", {\n                    key: 1,\n                    class: \"vuecal__event-title\",\n                    innerHTML: event.title\n                  }, null, 8, _hoisted_5)) : createCommentVNode(\"\", true),\n                  event.content && !$options.hasShortEvents && !$options.isShortMonthView ? (openBlock(), createElementBlock(\"div\", {\n                    key: 2,\n                    class: \"vuecal__event-content\",\n                    innerHTML: event.content\n                  }, null, 8, _hoisted_6)) : createCommentVNode(\"\", true)\n                ])\n              ]),\n              _: 3\n            }, 16)) : createCommentVNode(\"\", true),\n            createElementVNode(\"div\", {\n              class: normalizeClass([\"vuecal__bg\", { vuecal__flex: !$options.hasTimeColumn }]),\n              column: \"\"\n            }, [\n              createElementVNode(\"div\", _hoisted_7, [\n                $options.hasTimeColumn ? (openBlock(), createElementBlock(\"div\", _hoisted_8, [\n                  $props.showAllDayEvents && $options.cellOrSplitMinWidth && !($options.isDayView && !$props.minSplitWidth) ? (openBlock(), createElementBlock(\"div\", {\n                    key: 0,\n                    class: \"vuecal__all-day-text\",\n                    style: normalizeStyle({ height: $options.allDayBar.height })\n                  }, [\n                    createElementVNode(\"span\", null, toDisplayString($data.texts.allDay), 1)\n                  ], 4)) : createCommentVNode(\"\", true),\n                  (openBlock(true), createElementBlock(Fragment, null, renderList($options.timeCells, (cell, i) => {\n                    return openBlock(), createElementBlock(\"div\", {\n                      class: \"vuecal__time-cell\",\n                      key: i,\n                      style: normalizeStyle(`height: ${$props.timeCellHeight}px`)\n                    }, [\n                      renderSlot(_ctx.$slots, \"time-cell\", {\n                        hours: cell.hours,\n                        minutes: cell.minutes\n                      }, () => [\n                        _cache[6] || (_cache[6] = createElementVNode(\"span\", { class: \"vuecal__time-cell-line\" }, null, -1)),\n                        createElementVNode(\"span\", _hoisted_9, toDisplayString(cell.label), 1)\n                      ])\n                    ], 4);\n                  }), 128))\n                ])) : createCommentVNode(\"\", true),\n                $props.showWeekNumbers && $options.isMonthView ? (openBlock(), createElementBlock(\"div\", _hoisted_10, [\n                  (openBlock(), createElementBlock(Fragment, null, renderList(6, (i) => {\n                    return createElementVNode(\"div\", {\n                      class: \"vuecal__flex vuecal__week-number-cell\",\n                      key: i,\n                      grow: \"\"\n                    }, [\n                      renderSlot(_ctx.$slots, \"week-number-cell\", {\n                        week: $options.getWeekNumber(i - 1)\n                      }, () => [\n                        createTextVNode(toDisplayString($options.getWeekNumber(i - 1)), 1)\n                      ])\n                    ]);\n                  }), 64))\n                ])) : createCommentVNode(\"\", true),\n                createElementVNode(\"div\", {\n                  class: normalizeClass([\"vuecal__flex vuecal__cells\", `${$data.view.id}-view`]),\n                  grow: \"\",\n                  wrap: !$options.cellOrSplitMinWidth || !$options.isWeekView,\n                  column: !!$options.cellOrSplitMinWidth\n                }, [\n                  $options.cellOrSplitMinWidth && $options.isWeekView ? (openBlock(), createBlock(_component_weekdays_headings, {\n                    key: 0,\n                    \"transition-direction\": $data.transitionDirection,\n                    \"week-days\": $options.weekDays,\n                    \"switch-to-narrower-view\": $options.switchToNarrowerView,\n                    style: normalizeStyle($options.cellOrSplitMinWidth ? `min-width: ${$options.cellOrSplitMinWidth}px` : \"\")\n                  }, createSlots({ _: 2 }, [\n                    _ctx.$slots[\"weekday-heading\"] ? {\n                      name: \"weekday-heading\",\n                      fn: withCtx(({ heading, view }) => [\n                        renderSlot(_ctx.$slots, \"weekday-heading\", {\n                          heading,\n                          view\n                        })\n                      ]),\n                      key: \"0\"\n                    } : void 0,\n                    _ctx.$slots[\"split-label\"] ? {\n                      name: \"split-label\",\n                      fn: withCtx(({ split }) => [\n                        renderSlot(_ctx.$slots, \"split-label\", {\n                          split,\n                          view: $data.view.id\n                        })\n                      ]),\n                      key: \"1\"\n                    } : void 0\n                  ]), 1032, [\"transition-direction\", \"week-days\", \"switch-to-narrower-view\", \"style\"])) : $options.hasSplits && $props.stickySplitLabels && $props.minSplitWidth ? (openBlock(), createElementBlock(\"div\", {\n                    key: 1,\n                    class: \"vuecal__flex vuecal__split-days-headers\",\n                    style: normalizeStyle($options.cellOrSplitMinWidth ? `min-width: ${$options.cellOrSplitMinWidth}px` : \"\")\n                  }, [\n                    (openBlock(true), createElementBlock(Fragment, null, renderList($options.daySplits, (split, i) => {\n                      return openBlock(), createElementBlock(\"div\", {\n                        class: normalizeClass([\"day-split-header\", split.class || false]),\n                        key: i\n                      }, [\n                        renderSlot(_ctx.$slots, \"split-label\", {\n                          split,\n                          view: $data.view.id\n                        }, () => [\n                          createTextVNode(toDisplayString(split.label), 1)\n                        ])\n                      ], 2);\n                    }), 128))\n                  ], 4)) : createCommentVNode(\"\", true),\n                  $props.showAllDayEvents && $options.hasTimeColumn && ($options.isWeekView && $options.cellOrSplitMinWidth || $options.isDayView && $options.hasSplits && $props.minSplitWidth) ? (openBlock(), createBlock(_component_all_day_bar, normalizeProps(mergeProps({ key: 2 }, $options.allDayBar)), {\n                    event: withCtx(({ event, view }) => [\n                      renderSlot(_ctx.$slots, \"event\", {\n                        view,\n                        event\n                      }, () => [\n                        $options.editEvents.title && event.titleEditable ? (openBlock(), createElementBlock(\"div\", {\n                          key: 0,\n                          class: \"vuecal__event-title vuecal__event-title--edit\",\n                          contenteditable: \"\",\n                          onBlur: ($event) => $options.onEventTitleBlur($event, event),\n                          innerHTML: event.title\n                        }, null, 40, _hoisted_12)) : event.title ? (openBlock(), createElementBlock(\"div\", {\n                          key: 1,\n                          class: \"vuecal__event-title\",\n                          innerHTML: event.title\n                        }, null, 8, _hoisted_13)) : createCommentVNode(\"\", true),\n                        event.content && !$options.hasShortEvents && !$options.isShortMonthView ? (openBlock(), createElementBlock(\"div\", {\n                          key: 2,\n                          class: \"vuecal__event-content\",\n                          innerHTML: event.content\n                        }, null, 8, _hoisted_14)) : createCommentVNode(\"\", true)\n                      ])\n                    ]),\n                    _: 3\n                  }, 16)) : createCommentVNode(\"\", true),\n                  createElementVNode(\"div\", {\n                    class: \"vuecal__flex\",\n                    ref: (el) => $data.cellsEl = el,\n                    grow: \"\",\n                    wrap: !$options.cellOrSplitMinWidth || !$options.isWeekView,\n                    style: normalizeStyle($options.cellOrSplitMinWidth ? `min-width: ${$options.cellOrSplitMinWidth}px` : \"\")\n                  }, [\n                    (openBlock(true), createElementBlock(Fragment, null, renderList($options.viewCells, (cell, i) => {\n                      return openBlock(), createBlock(_component_vuecal_cell, {\n                        key: i,\n                        options: _ctx.$props,\n                        \"edit-events\": $options.editEvents,\n                        data: cell,\n                        \"cell-width\": $props.hideWeekdays.length && ($options.isWeekView || $options.isMonthView) && $options.cellWidth,\n                        \"min-timestamp\": $options.minTimestamp,\n                        \"max-timestamp\": $options.maxTimestamp,\n                        \"cell-splits\": $options.hasSplits && $options.daySplits || []\n                      }, {\n                        \"cell-content\": withCtx(({ events, split, selectCell }) => [\n                          renderSlot(_ctx.$slots, \"cell-content\", {\n                            cell,\n                            view: $data.view,\n                            goNarrower: selectCell,\n                            events\n                          }, () => [\n                            split && !$props.stickySplitLabels ? (openBlock(), createElementBlock(\"div\", {\n                              key: 0,\n                              class: \"split-label\",\n                              innerHTML: split.label\n                            }, null, 8, _hoisted_16)) : createCommentVNode(\"\", true),\n                            cell.content ? (openBlock(), createElementBlock(\"div\", {\n                              key: 1,\n                              class: \"vuecal__cell-date\",\n                              innerHTML: cell.content\n                            }, null, 8, _hoisted_17)) : createCommentVNode(\"\", true),\n                            ($options.isMonthView && !$props.eventsOnMonthView || $options.isYearsOrYearView && $props.eventsCountOnYearView) && events.length ? (openBlock(), createElementBlock(\"div\", _hoisted_18, [\n                              renderSlot(_ctx.$slots, \"events-count\", {\n                                view: $data.view,\n                                events\n                              }, () => [\n                                createTextVNode(toDisplayString(events.length), 1)\n                              ])\n                            ])) : createCommentVNode(\"\", true),\n                            !$options.cellOrSplitHasEvents(events, split) && $options.isWeekOrDayView ? (openBlock(), createElementBlock(\"div\", _hoisted_19, [\n                              renderSlot(_ctx.$slots, \"no-event\", {}, () => [\n                                createTextVNode(toDisplayString($data.texts.noEvent), 1)\n                              ])\n                            ])) : createCommentVNode(\"\", true)\n                          ])\n                        ]),\n                        event: withCtx(({ event, view }) => [\n                          renderSlot(_ctx.$slots, \"event\", {\n                            view,\n                            event\n                          }, () => [\n                            $options.editEvents.title && event.titleEditable ? (openBlock(), createElementBlock(\"div\", {\n                              key: 0,\n                              class: \"vuecal__event-title vuecal__event-title--edit\",\n                              contenteditable: \"\",\n                              onBlur: ($event) => $options.onEventTitleBlur($event, event),\n                              innerHTML: event.title\n                            }, null, 40, _hoisted_20)) : event.title ? (openBlock(), createElementBlock(\"div\", {\n                              key: 1,\n                              class: \"vuecal__event-title\",\n                              innerHTML: event.title\n                            }, null, 8, _hoisted_21)) : createCommentVNode(\"\", true),\n                            $props.time && !event.allDay && !($options.isMonthView && (event.allDay || $props.showAllDayEvents === \"short\")) && !$options.isShortMonthView ? (openBlock(), createElementBlock(\"div\", _hoisted_22, [\n                              createTextVNode(toDisplayString($data.utils.date.formatTime(event.start, $options.TimeFormat)), 1),\n                              event.endTimeMinutes ? (openBlock(), createElementBlock(\"span\", _hoisted_23, \"- \" + toDisplayString($data.utils.date.formatTime(event.end, $options.TimeFormat, null, true)), 1)) : createCommentVNode(\"\", true),\n                              event.daysCount > 1 && (event.segments[cell.formattedDate] || {}).isFirstDay ? (openBlock(), createElementBlock(\"small\", _hoisted_24, \"+\" + toDisplayString(event.daysCount - 1) + toDisplayString(($data.texts.day[0] || \"\").toLowerCase()), 1)) : createCommentVNode(\"\", true)\n                            ])) : createCommentVNode(\"\", true),\n                            event.content && !($options.isMonthView && event.allDay && $props.showAllDayEvents === \"short\") && !$options.isShortMonthView ? (openBlock(), createElementBlock(\"div\", {\n                              key: 3,\n                              class: \"vuecal__event-content\",\n                              innerHTML: event.content\n                            }, null, 8, _hoisted_25)) : createCommentVNode(\"\", true)\n                          ])\n                        ]),\n                        \"no-event\": withCtx(() => [\n                          renderSlot(_ctx.$slots, \"no-event\", {}, () => [\n                            createTextVNode(toDisplayString($data.texts.noEvent), 1)\n                          ])\n                        ]),\n                        _: 2\n                      }, 1032, [\"options\", \"edit-events\", \"data\", \"cell-width\", \"min-timestamp\", \"max-timestamp\", \"cell-splits\"]);\n                    }), 128))\n                  ], 12, _hoisted_15)\n                ], 10, _hoisted_11)\n              ])\n            ], 2)\n          ]))\n        ]),\n        _: 3\n      }, 8, [\"name\", \"appear\"]),\n      !$data.ready ? (openBlock(), createElementBlock(\"div\", _hoisted_26, _cache[7] || (_cache[7] = [\n        createElementVNode(\"div\", null, null, -1)\n      ]))) : createCommentVNode(\"\", true)\n    ])) : createCommentVNode(\"\", true)\n  ], 10, _hoisted_1);\n}\nconst minutesInADay = 24 * 60;\nconst textsDefaults = {\n  weekDays: Array(7).fill(\"\"),\n  weekDaysShort: [],\n  months: Array(12).fill(\"\"),\n  years: \"\",\n  year: \"\",\n  month: \"\",\n  week: \"\",\n  day: \"\",\n  today: \"\",\n  noEvent: \"\",\n  allDay: \"\",\n  deleteEvent: \"\",\n  createEvent: \"\",\n  dateFormat: \"dddd MMMM D, YYYY\",\n  am: \"am\",\n  pm: \"pm\"\n};\nconst validViews = [\"years\", \"year\", \"month\", \"week\", \"day\"];\nconst dateUtils = new DateUtils(textsDefaults);\nconst _sfc_main = {\n  name: \"vue-cal\",\n  components: { \"vuecal-cell\": Cell, \"vuecal-header\": Header, WeekdaysHeadings, AllDayBar },\n  // By Vue design, passing props loses the reactivity unless it's a method or reactive OBJECT.\n  provide() {\n    return {\n      vuecal: this,\n      utils: this.utils,\n      modules: this.modules,\n      // Methods.\n      previous: this.previous,\n      next: this.next,\n      switchView: this.switchView,\n      updateSelectedDate: this.updateSelectedDate,\n      editEvents: this.editEvents,\n      // Objects.\n      view: this.view,\n      domEvents: this.domEvents\n    };\n  },\n  props: {\n    activeView: { type: String, default: \"week\" },\n    // Only used if there are daySplits with minSplitWidth, to add the same height top spacer on time column.\n    allDayBarHeight: { type: [String, Number], default: \"25px\" },\n    cellClickHold: { type: Boolean, default: true },\n    cellContextmenu: { type: Boolean, default: false },\n    clickToNavigate: { type: Boolean, default: false },\n    dblclickToNavigate: { type: Boolean, default: true },\n    disableDatePrototypes: { type: Boolean, default: false },\n    disableDays: { type: Array, default: () => [] },\n    disableViews: { type: Array, default: () => [] },\n    dragToCreateEvent: { type: Boolean, default: true },\n    // Start a drag creation after dragging a certain amount of pixels.\n    // This prevents drag creation by mistake when you want to navigate.\n    dragToCreateThreshold: { type: Number, default: 15 },\n    editableEvents: { type: [Boolean, Object], default: false },\n    events: { type: Array, default: () => [] },\n    eventsCountOnYearView: { type: Boolean, default: false },\n    eventsOnMonthView: { type: [Boolean, String], default: false },\n    hideBody: { type: Boolean, default: false },\n    hideTitleBar: { type: Boolean, default: false },\n    hideViewSelector: { type: Boolean, default: false },\n    hideWeekdays: { type: Array, default: () => [] },\n    hideWeekends: { type: Boolean, default: false },\n    locale: { type: [String, Object], default: \"en\" },\n    maxDate: { type: [String, Date], default: \"\" },\n    minCellWidth: { type: Number, default: 0 },\n    minDate: { type: [String, Date], default: \"\" },\n    minEventWidth: { type: Number, default: 0 },\n    minSplitWidth: { type: Number, default: 0 },\n    onEventClick: { type: [Function, null], default: null },\n    onEventCreate: { type: [Function, null], default: null },\n    onEventDblclick: { type: [Function, null], default: null },\n    overlapsPerTimeStep: { type: Boolean, default: false },\n    resizeX: { type: Boolean, default: false },\n    selectedDate: { type: [String, Date], default: \"\" },\n    showAllDayEvents: { type: [Boolean, String], default: false },\n    showTimeInCells: { type: Boolean, default: false },\n    showWeekNumbers: { type: [Boolean, String], default: false },\n    snapToTime: { type: Number, default: 0 },\n    small: { type: Boolean, default: false },\n    specialHours: { type: Object, default: () => ({}) },\n    splitDays: { type: Array, default: () => [] },\n    startWeekOnSunday: { type: Boolean, default: false },\n    stickySplitLabels: { type: Boolean, default: false },\n    time: { type: Boolean, default: true },\n    timeCellHeight: { type: Number, default: 40 },\n    // In pixels.\n    timeFormat: { type: String, default: \"\" },\n    timeFrom: { type: Number, default: 0 },\n    // In minutes.\n    timeStep: { type: Number, default: 60 },\n    // In minutes.\n    timeTo: { type: Number, default: minutesInADay },\n    // In minutes.\n    todayButton: { type: Boolean, default: false },\n    transitions: { type: Boolean, default: true },\n    twelveHour: { type: Boolean, default: false },\n    watchRealTime: { type: Boolean, default: false },\n    // Expensive, so only trigger on demand.\n    xsmall: { type: Boolean, default: false }\n  },\n  data() {\n    return {\n      ready: false,\n      // Is vue-cal ready.\n      // Make texts reactive before a locale is loaded.\n      texts: { ...textsDefaults },\n      utils: {\n        // Remove prototypes ASAP if the user wants so.\n        date: (this.disableDatePrototypes ? dateUtils.removePrototypes() : false) || dateUtils,\n        cell: null,\n        // Note: Destructuring class method loses the `this` context and Vue Cal becomes inaccessible\n        // from the event utils function. Don't do:\n        // const { eventInRange, createEventSegments } = this.utils.event\n        event: null\n      },\n      modules: { dnd: null },\n      cellsEl: null,\n      // At any time this object will be filled with current view, visible events and selected date.\n      view: {\n        id: \"\",\n        title: \"\",\n        startDate: null,\n        endDate: null,\n        firstCellDate: null,\n        lastCellDate: null,\n        selectedDate: null,\n        // All the events are stored in the mutableEvents array, but subset of visible ones are passed\n        // Into the current view for fast lookup and manipulation.\n        events: []\n      },\n      eventIdIncrement: 1,\n      // Internal unique id.\n      // Preset at now date on load, but updated every minute if watchRealTime,\n      // or updated at least on each cells rerender, in order to keep Today's date accurate.\n      now: /* @__PURE__ */ new Date(),\n      // Useful when watchRealTime = true, 2 timeouts: 1 to snap to round minutes, then 1 every minute.\n      timeTickerIds: [null, null],\n      // All the possible events/cells interractions:\n      // e.g. focus, click, click & hold, resize, drag & drop (coming).\n      domEvents: {\n        resizeAnEvent: {\n          _eid: null,\n          // Only one at a time.\n          start: null,\n          split: null,\n          segment: null,\n          originalEndTimeMinutes: 0,\n          originalEnd: null,\n          end: null,\n          startCell: null,\n          endCell: null\n        },\n        dragAnEvent: {\n          // Only one at a time, only needed for vuecal dragging-event class.\n          _eid: null\n        },\n        dragCreateAnEvent: {\n          startCursorY: null,\n          start: null,\n          // The cell date where we start the drag.\n          split: null,\n          event: null\n        },\n        focusAnEvent: {\n          _eid: null,\n          // Only one at a time.\n          // Useful to detect a full click (mousedown + mouseup on same event).\n          // E.g. Only call onEventClick function (if any) on full click.\n          mousedUp: false\n        },\n        clickHoldAnEvent: {\n          _eid: null,\n          // Only one at a time.\n          timeout: 1200,\n          // Hold for 1.2s to delete an event.\n          timeoutId: null\n        },\n        dblTapACell: {\n          taps: 0,\n          timeout: 500\n          // Allowed latency between first and second click.\n        },\n        clickHoldACell: {\n          cellId: null,\n          split: null,\n          timeout: 1200,\n          // Hold for 1.2s to create an event.\n          timeoutId: null,\n          eventCreated: false\n        },\n        // A single click can trigger event creation if the user decides so.\n        // But prevent this to happen on click & hold, on event click and on resize event.\n        cancelClickEventCreation: false\n      },\n      // The events source of truth.\n      // An array of mutable events updated each time given external events array changes.\n      mutableEvents: [],\n      // Transition when switching view. left when going toward the past, right when going toward future.\n      transitionDirection: \"right\"\n    };\n  },\n  methods: {\n    /**\n     * Only import locale on demand to keep a small library weight.\n     *\n     * @param {String|Object} locale the language user whishes to have on vue-cal.\n     */\n    async loadLocale(locale) {\n      if (typeof this.locale === \"object\") {\n        this.texts = Object.assign({}, textsDefaults, locale);\n        this.utils.date.updateTexts(this.texts);\n        return;\n      }\n      const texts = await __variableDynamicImportRuntimeHelper(/* @__PURE__ */ Object.assign({ \"./i18n/ar.json\": () => import(\"./i18n/ar.es.js\"), \"./i18n/bg.json\": () => import(\"./i18n/bg.es.js\"), \"./i18n/bn.json\": () => import(\"./i18n/bn.es.js\"), \"./i18n/bs.json\": () => import(\"./i18n/bs.es.js\"), \"./i18n/ca.json\": () => import(\"./i18n/ca.es.js\"), \"./i18n/cs.json\": () => import(\"./i18n/cs.es.js\"), \"./i18n/da.json\": () => import(\"./i18n/da.es.js\"), \"./i18n/de.json\": () => import(\"./i18n/de.es.js\"), \"./i18n/el.json\": () => import(\"./i18n/el.es.js\"), \"./i18n/en.json\": () => import(\"./i18n/en.es.js\"), \"./i18n/es.json\": () => import(\"./i18n/es.es.js\"), \"./i18n/et.json\": () => import(\"./i18n/et.es.js\"), \"./i18n/fa.json\": () => import(\"./i18n/fa.es.js\"), \"./i18n/fi.json\": () => import(\"./i18n/fi.es.js\"), \"./i18n/fr.json\": () => import(\"./i18n/fr.es.js\"), \"./i18n/he.json\": () => import(\"./i18n/he.es.js\"), \"./i18n/hr.json\": () => import(\"./i18n/hr.es.js\"), \"./i18n/hu.json\": () => import(\"./i18n/hu.es.js\"), \"./i18n/id.json\": () => import(\"./i18n/id.es.js\"), \"./i18n/is.json\": () => import(\"./i18n/is.es.js\"), \"./i18n/it.json\": () => import(\"./i18n/it.es.js\"), \"./i18n/ja.json\": () => import(\"./i18n/ja.es.js\"), \"./i18n/ka.json\": () => import(\"./i18n/ka.es.js\"), \"./i18n/ko.json\": () => import(\"./i18n/ko.es.js\"), \"./i18n/lt.json\": () => import(\"./i18n/lt.es.js\"), \"./i18n/mn.json\": () => import(\"./i18n/mn.es.js\"), \"./i18n/nl.json\": () => import(\"./i18n/nl.es.js\"), \"./i18n/no.json\": () => import(\"./i18n/no.es.js\"), \"./i18n/pl.json\": () => import(\"./i18n/pl.es.js\"), \"./i18n/pt-br.json\": () => import(\"./i18n/pt-br.es.js\"), \"./i18n/pt-pt.json\": () => import(\"./i18n/pt-pt.es.js\"), \"./i18n/ro.json\": () => import(\"./i18n/ro.es.js\"), \"./i18n/ru.json\": () => import(\"./i18n/ru.es.js\"), \"./i18n/sk.json\": () => import(\"./i18n/sk.es.js\"), \"./i18n/sl.json\": () => import(\"./i18n/sl.es.js\"), \"./i18n/sq.json\": () => import(\"./i18n/sq.es.js\"), \"./i18n/sr.json\": () => import(\"./i18n/sr.es.js\"), \"./i18n/sv.json\": () => import(\"./i18n/sv.es.js\"), \"./i18n/tr.json\": () => import(\"./i18n/tr.es.js\"), \"./i18n/uk.json\": () => import(\"./i18n/uk.es.js\"), \"./i18n/vi.json\": () => import(\"./i18n/vi.es.js\"), \"./i18n/zh-cn.json\": () => import(\"./i18n/zh-cn.es.js\"), \"./i18n/zh-hk.json\": () => import(\"./i18n/zh-hk.es.js\") }), `./i18n/${locale}.json`, 3);\n      this.texts = Object.assign({}, textsDefaults, texts);\n      this.utils.date.updateTexts(this.texts);\n    },\n    /**\n     * Only import drag and drop module on demand to keep a small library weight.\n     */\n    loadDragAndDrop() {\n      import(\"./drag-and-drop.es.js\").then((response) => {\n        const { DragAndDrop } = response;\n        this.modules.dnd = new DragAndDrop(this);\n      }).catch(() => console.warn(\"Vue Cal: Missing drag & drop module.\"));\n    },\n    /**\n     * Checks that the given view is in the array of valid views or use 'week' otherwise.\n     * Then check the view is enabled or use the first enabled view instead.\n     * Raises error and warning if needed.\n     *\n     * @param {String} view The view to validate.\n     * @return {String} a valid view.\n     */\n    validateView(view) {\n      if (!validViews.includes(view)) {\n        console.error(`Vue Cal: invalid active-view parameter provided: \"${view}\".\nA valid view must be one of: ${validViews.join(\", \")}.`);\n        view = \"week\";\n      }\n      if (!this.enabledViews.includes(view)) {\n        console.warn(`Vue Cal: the provided active-view \"${view}\" is disabled. Using the \"${this.enabledViews[0]}\" view instead.`);\n        view = this.enabledViews[0];\n      }\n      return view;\n    },\n    /**\n     * On click/dblclick of a cell go to a narrower view if available.\n     * E.g. Click on month cell takes you to week view if not hidden, otherwise on day view if not hidden.\n     *\n     * @param {String | Date} date A starting date for the view, if none, fallbacks to the selected date,\n     *                             If also empty fallbacks to the current view start date.\n     */\n    switchToNarrowerView(date = null) {\n      this.transitionDirection = \"right\";\n      const view = this.enabledViews[this.enabledViews.indexOf(this.view.id) + 1];\n      if (view) this.switchView(view, date);\n    },\n    /**\n     * Switches to the specified view on view selector click, or programmatically form external call (via $refs).\n     * If a date is given, it will be selected and if the view does not contain it, it will go to that date.\n     *\n     * @param {String} view the view to go to. Among `years`, `year`, `month`, `week`, `day`.\n     * @param {String | Date} date A starting date for the view, if none, fallbacks to the selected date,\n     *                             If also empty fallbacks to the current view start date.\n     * @param {Boolean} fromViewSelector to know if the caller is the built-in view selector.\n     */\n    switchView(view, date = null, fromViewSelector = false) {\n      view = this.validateView(view);\n      const ud2 = this.utils.date;\n      const viewDateBeforeChange = this.view.startDate && this.view.startDate.getTime();\n      if (this.transitions && fromViewSelector) {\n        if (this.view.id === view) return;\n        const views = this.enabledViews;\n        this.transitionDirection = views.indexOf(this.view.id) > views.indexOf(view) ? \"left\" : \"right\";\n      }\n      const oldView = this.view.id;\n      this.view.events = [];\n      this.view.id = view;\n      this.view.firstCellDate = null;\n      this.view.lastCellDate = null;\n      if (!date) date = this.view.selectedDate || this.view.startDate;\n      switch (view) {\n        case \"years\": {\n          this.view.startDate = new Date(Math.floor(date.getFullYear() / 25) * 25 || 2e3, 0, 1);\n          this.view.endDate = new Date(this.view.startDate.getFullYear() + 25, 0, 1);\n          this.view.endDate.setSeconds(-1);\n          break;\n        }\n        case \"year\": {\n          this.view.startDate = new Date(date.getFullYear(), 0, 1);\n          this.view.endDate = new Date(date.getFullYear() + 1, 0, 1);\n          this.view.endDate.setSeconds(-1);\n          break;\n        }\n        case \"month\": {\n          this.view.startDate = new Date(date.getFullYear(), date.getMonth(), 1);\n          this.view.endDate = new Date(date.getFullYear(), date.getMonth() + 1, 1);\n          this.view.endDate.setSeconds(-1);\n          let startDate = new Date(this.view.startDate);\n          if (startDate.getDay() !== (this.startWeekOnSunday ? 0 : 1)) {\n            startDate = ud2.getPreviousFirstDayOfWeek(startDate, this.startWeekOnSunday);\n          }\n          this.view.firstCellDate = startDate;\n          this.view.lastCellDate = ud2.addDays(startDate, 41);\n          this.view.lastCellDate.setHours(23, 59, 59, 0);\n          if (this.hideWeekends) {\n            if ([0, 6].includes(this.view.firstCellDate.getDay())) {\n              const daysToAdd = this.view.firstCellDate.getDay() === 6 && !this.startWeekOnSunday ? 2 : 1;\n              this.view.firstCellDate = ud2.addDays(this.view.firstCellDate, daysToAdd);\n            }\n            if ([0, 6].includes(this.view.startDate.getDay())) {\n              const daysToAdd = this.view.startDate.getDay() === 6 ? 2 : 1;\n              this.view.startDate = ud2.addDays(this.view.startDate, daysToAdd);\n            }\n            if ([0, 6].includes(this.view.lastCellDate.getDay())) {\n              const daysToSubtract = this.view.lastCellDate.getDay() === 0 && !this.startWeekOnSunday ? 2 : 1;\n              this.view.lastCellDate = ud2.subtractDays(this.view.lastCellDate, daysToSubtract);\n            }\n            if ([0, 6].includes(this.view.endDate.getDay())) {\n              const daysToSubtract = this.view.endDate.getDay() === 0 ? 2 : 1;\n              this.view.endDate = ud2.subtractDays(this.view.endDate, daysToSubtract);\n            }\n          }\n          break;\n        }\n        case \"week\": {\n          date = ud2.getPreviousFirstDayOfWeek(date, this.startWeekOnSunday);\n          const weekDaysCount = this.hideWeekends ? 5 : 7;\n          this.view.startDate = this.hideWeekends && this.startWeekOnSunday ? ud2.addDays(date, 1) : date;\n          this.view.startDate.setHours(0, 0, 0, 0);\n          this.view.endDate = ud2.addDays(date, weekDaysCount);\n          this.view.endDate.setSeconds(-1);\n          break;\n        }\n        case \"day\": {\n          this.view.startDate = date;\n          this.view.startDate.setHours(0, 0, 0, 0);\n          this.view.endDate = new Date(date);\n          this.view.endDate.setHours(23, 59, 59, 0);\n          break;\n        }\n      }\n      this.addEventsToView();\n      const viewDate = this.view.startDate && this.view.startDate.getTime();\n      if (oldView === view && viewDate === viewDateBeforeChange) return;\n      this.$emit(\"update:activeView\", view);\n      if (this.ready) {\n        const startDate = this.view.startDate;\n        const params = {\n          view,\n          startDate,\n          endDate: this.view.endDate,\n          ...this.isMonthView ? {\n            firstCellDate: this.view.firstCellDate,\n            lastCellDate: this.view.lastCellDate,\n            outOfScopeEvents: this.view.outOfScopeEvents.map(this.cleanupEvent)\n          } : {},\n          events: this.view.events.map(this.cleanupEvent),\n          ...this.isWeekView ? { week: ud2.getWeek(this.startWeekOnSunday ? ud2.addDays(startDate, 1) : startDate) } : {}\n        };\n        this.$emit(\"view-change\", params);\n      }\n    },\n    /**\n     * Shorthand function for external call (via $refs).\n     */\n    previous() {\n      this.previousNext(false);\n    },\n    /**\n     * Shorthand function for external call (via $refs).\n     */\n    next() {\n      this.previousNext();\n    },\n    /**\n     * On click on previous or next arrow, update the calendar visible date range.\n     *\n     * @param {Boolean} next\n     */\n    previousNext(next = true) {\n      const ud2 = this.utils.date;\n      this.transitionDirection = next ? \"right\" : \"left\";\n      const modifier = next ? 1 : -1;\n      let firstCellDate = null;\n      const { startDate, id: viewId } = this.view;\n      switch (viewId) {\n        case \"years\":\n          firstCellDate = new Date(startDate.getFullYear() + 25 * modifier, 0, 1);\n          break;\n        case \"year\":\n          firstCellDate = new Date(startDate.getFullYear() + 1 * modifier, 1, 1);\n          break;\n        case \"month\":\n          firstCellDate = new Date(startDate.getFullYear(), startDate.getMonth() + 1 * modifier, 1);\n          break;\n        case \"week\":\n          firstCellDate = ud2[next ? \"addDays\" : \"subtractDays\"](ud2.getPreviousFirstDayOfWeek(startDate, this.startWeekOnSunday), 7);\n          break;\n        case \"day\":\n          firstCellDate = ud2[next ? \"addDays\" : \"subtractDays\"](startDate, 1);\n          const weekDay = firstCellDate.getDay();\n          const weekDayIndex = this.startWeekOnSunday ? weekDay : (weekDay || 7) - 1;\n          const isDayHidden = this.weekDays[weekDayIndex].hide;\n          if (isDayHidden) {\n            const daysWithIndex = this.weekDays.map((day, i) => ({ ...day, i }));\n            let daysFromDate = 0;\n            if (next) {\n              [...daysWithIndex.slice(weekDayIndex), ...daysWithIndex].find((day) => {\n                daysFromDate++;\n                return !day.hide;\n              }).i;\n              daysFromDate--;\n            } else {\n              [...daysWithIndex, ...daysWithIndex.slice(0, weekDayIndex)].reverse().find((day) => {\n                daysFromDate++;\n                return !day.hide;\n              }).i;\n            }\n            firstCellDate = ud2[next ? \"addDays\" : \"subtractDays\"](firstCellDate, daysFromDate);\n          }\n          break;\n      }\n      if (firstCellDate) this.switchView(viewId, firstCellDate);\n    },\n    /**\n     * Add events (subset from mutableEvents) to the current view (in `this.view.events`).\n     * This is done for performance, so that all the cells have a quick lookup of only what's needed.\n     *\n     * @param {Array} events\n     */\n    addEventsToView(events = []) {\n      const ue = this.utils.event;\n      const { startDate, endDate, firstCellDate, lastCellDate } = this.view;\n      if (!events.length) this.view.events = [];\n      events = events.length ? events : [...this.mutableEvents];\n      if (!events || this.isYearsOrYearView && !this.eventsCountOnYearView) return;\n      let filteredEvents = events.filter((e) => ue.eventInRange(e, startDate, endDate));\n      if (!this.isYearsOrYearView && !(this.isMonthView && !this.eventsOnMonthView)) {\n        filteredEvents = filteredEvents.map((e) => {\n          return e.daysCount > 1 ? ue.createEventSegments(e, firstCellDate || startDate, lastCellDate || endDate) : e;\n        });\n      }\n      this.view.events.push(...filteredEvents);\n      if (this.isMonthView) {\n        this.view.outOfScopeEvents = [];\n        events.forEach((e) => {\n          if (ue.eventInRange(e, firstCellDate, startDate) || ue.eventInRange(e, endDate, lastCellDate)) {\n            if (!this.view.events.some((e2) => e2._eid === e._eid)) this.view.outOfScopeEvents.push(e);\n          }\n        });\n      }\n    },\n    /**\n     * find a DOM ancestor of a given DOM node `el` matching given class name.\n     *\n     * @param {Object} el a DOM node to find ancestor from.\n     * @param {String} Class the CSS class name of the ancestor.\n     * @return {Object} The matched DOM node or null if no match.\n     */\n    findAncestor(el, Class) {\n      while ((el = el.parentElement) && !el.classList.contains(Class)) {\n      }\n      return el;\n    },\n    /**\n     * Tells whether a clicked DOM node is or is within a calendar event.\n     *\n     * @param {Object} el a DOM node to check if event.\n     * @return {Boolean} true if the given DOM node is - or is in - an event.\n     */\n    isDOMElementAnEvent(el) {\n      return el.classList.contains(\"vuecal__event\") || this.findAncestor(el, \"vuecal__event\");\n    },\n    /**\n     * Capture mousemove anywhere in the page.\n     * If resizing an event was started earlier, this will update event end.\n     * If resizing was not started, this method is calculation is avoided with a premature return.\n     * Notes: Event resizing is started in cell component (onMouseDown) but place onMouseMove & onMouseUp\n     *        handlers in the single-instance parent for performance.\n     *\n     * @param {Object} e the native DOM event object.\n     */\n    onMouseMove(e) {\n      const { resizeAnEvent, dragAnEvent, dragCreateAnEvent } = this.domEvents;\n      if (resizeAnEvent._eid === null && dragAnEvent._eid === null && !dragCreateAnEvent.start) return;\n      e.preventDefault();\n      if (resizeAnEvent._eid) this.eventResizing(e);\n      else if (this.dragToCreateEvent && dragCreateAnEvent.start) this.eventDragCreation(e);\n    },\n    /**\n     * Capture mouseup anywhere in the page, not only on a cell or event.\n     * Then end up any resize, drag & drop, click & hold or event or cell.\n     * Notes: Mouseup can never cancel a click with preventDefault or stopPropagation,\n     *        But it always happens before the click event.\n     *\n     * @param {Object} e the native DOM event object.\n     */\n    onMouseUp(e) {\n      const {\n        focusAnEvent,\n        resizeAnEvent,\n        clickHoldAnEvent,\n        clickHoldACell,\n        dragCreateAnEvent\n      } = this.domEvents;\n      const { _eid: isClickHoldingEvent } = clickHoldAnEvent;\n      const { _eid: wasResizing } = resizeAnEvent;\n      let hasResized = false;\n      const { event: dragCreatedEvent, start: dragCreateStarted } = dragCreateAnEvent;\n      const mouseUpOnEvent = this.isDOMElementAnEvent(e.target);\n      const eventClicked = focusAnEvent.mousedUp;\n      focusAnEvent.mousedUp = false;\n      if (mouseUpOnEvent) this.domEvents.cancelClickEventCreation = true;\n      if (clickHoldACell.eventCreated) return;\n      if (wasResizing) {\n        const { originalEnd, originalEndTimeMinutes, endTimeMinutes } = resizeAnEvent;\n        const event = this.view.events.find((e2) => e2._eid === resizeAnEvent._eid);\n        hasResized = endTimeMinutes && endTimeMinutes !== originalEndTimeMinutes;\n        if (event && event.end.getTime() !== originalEnd.getTime()) {\n          const mutableEvent = this.mutableEvents.find((e2) => e2._eid === resizeAnEvent._eid);\n          mutableEvent.endTimeMinutes = event.endTimeMinutes;\n          mutableEvent.end = event.end;\n          const cleanEvent = this.cleanupEvent(event);\n          const originalEvent = {\n            ...this.cleanupEvent(event),\n            end: originalEnd,\n            endTimeMinutes: event.originalEndTimeMinutes\n          };\n          this.$emit(\"event-duration-change\", { event: cleanEvent, oldDate: resizeAnEvent.originalEnd, originalEvent });\n          this.$emit(\"event-change\", { event: cleanEvent, originalEvent });\n        }\n        if (event) event.resizing = false;\n        resizeAnEvent._eid = null;\n        resizeAnEvent.start = null;\n        resizeAnEvent.split = null;\n        resizeAnEvent.segment = null;\n        resizeAnEvent.originalEndTimeMinutes = null;\n        resizeAnEvent.originalEnd = null;\n        resizeAnEvent.endTimeMinutes = null;\n        resizeAnEvent.startCell = null;\n        resizeAnEvent.endCell = null;\n      } else if (dragCreateStarted) {\n        if (dragCreatedEvent) {\n          this.emitWithEvent(\"event-drag-create\", dragCreatedEvent);\n          dragCreateAnEvent.event.resizing = false;\n        }\n        dragCreateAnEvent.start = null;\n        dragCreateAnEvent.split = null;\n        dragCreateAnEvent.event = null;\n      }\n      if (!mouseUpOnEvent && !wasResizing) this.unfocusEvent();\n      if (clickHoldAnEvent.timeoutId && !isClickHoldingEvent) {\n        clearTimeout(clickHoldAnEvent.timeoutId);\n        clickHoldAnEvent.timeoutId = null;\n      }\n      if (clickHoldACell.timeoutId) {\n        clearTimeout(clickHoldACell.timeoutId);\n        clickHoldACell.timeoutId = null;\n      }\n      const eventClickHandler = typeof this.onEventClick === \"function\";\n      if (eventClicked && !hasResized && !isClickHoldingEvent && !dragCreatedEvent && eventClickHandler) {\n        let event = this.view.events.find((e2) => e2._eid === focusAnEvent._eid);\n        if (!event && this.isMonthView) event = this.view.outOfScopeEvents.find((e2) => e2._eid === focusAnEvent._eid);\n        return event && this.onEventClick(event, e);\n      }\n    },\n    /**\n     * Capture `escape` keypress when delete button is visible, and cancel deletion.\n     *\n     * @param {Object} e the native DOM event object.\n     */\n    onKeyUp(e) {\n      if (e.keyCode === 27) this.cancelDelete();\n    },\n    /**\n     * On mousemove while resising an event.\n     *\n     * @param {Object} e the native DOM event object.\n     */\n    eventResizing(e) {\n      const { resizeAnEvent } = this.domEvents;\n      const event = this.view.events.find((e2) => e2._eid === resizeAnEvent._eid) || { segments: {} };\n      const { minutes, cursorCoords } = this.minutesAtCursor(e);\n      const segment = event.segments && event.segments[resizeAnEvent.segment];\n      const { date: ud2, event: ue } = this.utils;\n      const newEndTimeMins = Math.max(minutes, this.timeFrom + 1, (segment || event).startTimeMinutes + 1);\n      event.endTimeMinutes = resizeAnEvent.endTimeMinutes = newEndTimeMins;\n      if (this.snapToTime) {\n        const plusHalfSnapTime = event.endTimeMinutes + this.snapToTime / 2;\n        event.endTimeMinutes = plusHalfSnapTime - plusHalfSnapTime % this.snapToTime;\n      }\n      if (segment) segment.endTimeMinutes = event.endTimeMinutes;\n      event.end.setHours(0, event.endTimeMinutes, event.endTimeMinutes === minutesInADay ? -1 : 0, 0);\n      if (this.resizeX && this.isWeekView) {\n        event.daysCount = ud2.countDays(event.start, event.end);\n        const cells = this.cellsEl;\n        const cellWidth = cells.offsetWidth / cells.childElementCount;\n        const endCell = Math.floor(cursorCoords.x / cellWidth);\n        if (resizeAnEvent.startCell === null) resizeAnEvent.startCell = endCell - (event.daysCount - 1);\n        if (resizeAnEvent.endCell !== endCell) {\n          resizeAnEvent.endCell = endCell;\n          const newEnd = ud2.addDays(event.start, endCell - resizeAnEvent.startCell);\n          const newDaysCount = Math.max(ud2.countDays(event.start, newEnd), 1);\n          if (newDaysCount !== event.daysCount) {\n            let lastSegmentFormattedDate = null;\n            if (newDaysCount > event.daysCount) lastSegmentFormattedDate = ue.addEventSegment(event);\n            else lastSegmentFormattedDate = ue.removeEventSegment(event);\n            resizeAnEvent.segment = lastSegmentFormattedDate;\n            event.endTimeMinutes += 1e-3;\n          }\n        }\n      }\n      this.$emit(\"event-resizing\", { _eid: event._eid, end: event.end, endTimeMinutes: event.endTimeMinutes });\n    },\n    /**\n     * On mousemove while dragging to create an event.\n     *\n     * @param {Object} e the native DOM event object.\n     */\n    eventDragCreation(e) {\n      const { dragCreateAnEvent } = this.domEvents;\n      const { start, startCursorY, split } = dragCreateAnEvent;\n      const timeAtCursor = new Date(start);\n      const { minutes, cursorCoords: { y } } = this.minutesAtCursor(e);\n      if (!dragCreateAnEvent.event && Math.abs(startCursorY - y) < this.dragToCreateThreshold) return;\n      if (!dragCreateAnEvent.event) {\n        dragCreateAnEvent.event = this.utils.event.createAnEvent(start, 1, { split });\n        if (!dragCreateAnEvent.event) {\n          dragCreateAnEvent.start = null;\n          dragCreateAnEvent.split = null;\n          dragCreateAnEvent.event = null;\n          return;\n        }\n        dragCreateAnEvent.event.resizing = true;\n      } else {\n        timeAtCursor.setHours(0, minutes, minutes === minutesInADay ? -1 : 0, 0);\n        if (this.snapToTime) {\n          let timeMinutes = timeAtCursor.getHours() * 60 + timeAtCursor.getMinutes();\n          const plusHalfSnapTime = timeMinutes + this.snapToTime / 2;\n          timeMinutes = plusHalfSnapTime - plusHalfSnapTime % this.snapToTime;\n          timeAtCursor.setHours(0, timeMinutes, 0, 0);\n        }\n        const dragFromBottom = start < timeAtCursor;\n        const { event } = dragCreateAnEvent;\n        event.start = dragFromBottom ? start : timeAtCursor;\n        event.end = dragFromBottom ? timeAtCursor : start;\n        event.startTimeMinutes = event.start.getHours() * 60 + event.start.getMinutes();\n        event.endTimeMinutes = event.end.getHours() * 60 + event.end.getMinutes();\n      }\n    },\n    /**\n     * Unfocus an event (e.g. when clicking outside of focused event).\n     */\n    unfocusEvent() {\n      const { focusAnEvent, clickHoldAnEvent } = this.domEvents;\n      const event = this.view.events.find((e) => e._eid === (focusAnEvent._eid || clickHoldAnEvent._eid));\n      focusAnEvent._eid = null;\n      clickHoldAnEvent._eid = null;\n      if (event) {\n        event.focused = false;\n        event.deleting = false;\n      }\n    },\n    /**\n     * Cancel an event deletion (e.g. when clicking outside of visible delete button).\n     */\n    cancelDelete() {\n      const { clickHoldAnEvent } = this.domEvents;\n      if (clickHoldAnEvent._eid) {\n        const event = this.view.events.find((e) => e._eid === clickHoldAnEvent._eid);\n        if (event) event.deleting = false;\n        clickHoldAnEvent._eid = null;\n        clickHoldAnEvent.timeoutId = null;\n      }\n    },\n    /**\n     * After editing an event title (if `this.editable`), save the new string into the event object\n     * and emit event to the outside world.\n     *\n     * @param {Object} e the native DOM event object.\n     * @param {Object} event the vue-cal event object.\n     */\n    onEventTitleBlur(e, event) {\n      if (event.title === e.target.innerHTML) return;\n      const oldTitle = event.title;\n      event.title = e.target.innerHTML;\n      const cleanEvent = this.cleanupEvent(event);\n      this.$emit(\"event-title-change\", { event: cleanEvent, oldTitle });\n      this.$emit(\"event-change\", { event: cleanEvent, originalEvent: { ...cleanEvent, title: oldTitle } });\n    },\n    /**\n     * The `mutableEvents` array of events is the source of truth.\n     * It is first populated from the `events` prop and every time the `events` prop changes.\n     * When the user updates an event through interractions, the event gets updated here.\n     * Notes: mutableEvents couldn't be a computed variable based on this.events, because we add\n     *        items to the array. (Cannot mutate props)\n     */\n    updateMutableEvents() {\n      const ud2 = this.utils.date;\n      this.mutableEvents = [];\n      this.events.forEach((event) => {\n        const start = typeof event.start === \"string\" ? ud2.stringToDate(event.start) : event.start;\n        const startDateF = ud2.formatDateLite(start);\n        const startTimeMinutes = ud2.dateToMinutes(start);\n        let end = null;\n        if (typeof event.end === \"string\" && event.end.includes(\"24:00\")) {\n          end = new Date(event.end.replace(\" 24:00\", \"\"));\n          end.setHours(23, 59, 59, 0);\n        } else end = typeof event.end === \"string\" ? ud2.stringToDate(event.end) : event.end;\n        let endDateF = ud2.formatDateLite(end);\n        let endTimeMinutes = ud2.dateToMinutes(end);\n        if (!endTimeMinutes || endTimeMinutes === minutesInADay) {\n          if (!this.time || typeof event.end === \"string\" && event.end.length === 10) {\n            end.setHours(23, 59, 59, 0);\n          } else end.setSeconds(end.getSeconds() - 1);\n          endDateF = ud2.formatDateLite(end);\n          endTimeMinutes = minutesInADay;\n        }\n        const multipleDays = startDateF !== endDateF;\n        event = Object.assign({ ...this.utils.event.eventDefaults }, event, {\n          // Keep the event ids scoped to this calendar instance.\n          _eid: `${this._.uid}_${this.eventIdIncrement++}`,\n          segments: multipleDays ? {} : null,\n          start,\n          startTimeMinutes,\n          end,\n          endTimeMinutes,\n          daysCount: multipleDays ? ud2.countDays(start, end) : 1,\n          class: event.class\n        });\n        this.mutableEvents.push(event);\n      });\n    },\n    /**\n     * Get the number of minutes from the top to the mouse cursor.\n     *\n     * @param {Object} e the native DOM event object.\n     * @return {Object} containing { minutes: {Number}, cursorCoords: { x: {Number}, y: {Number} } }\n     */\n    minutesAtCursor(e) {\n      return this.utils.cell.minutesAtCursor(e);\n    },\n    /**\n     * Creates a new event in vue-cal memory (in the mutableEvents array) starting at the given date & time.\n     * Proxy method to allow call from cell click & hold or external call (via $refs).\n     * Notes: Event duration is by default 2 hours. You can override the event end through eventOptions.\n     *\n     * @param {String | Date} dateTime date & time at which the event will start.\n     * @param {Number} duration the event duration in minutes.\n     * @param {Object} eventOptions an object of options to override the event creation defaults.\n     *                              (can be any key allowed in an event object)\n     * @return {Object} the created event.\n     */\n    createEvent(dateTime, duration, eventOptions = {}) {\n      return this.utils.event.createAnEvent(dateTime, duration, eventOptions);\n    },\n    /**\n     * Remove all the vue-cal private vars from the event (before returning it through $emit()).\n     *\n     * @param {Object} event the event object to cleanup.\n     */\n    cleanupEvent(event) {\n      event = { ...event };\n      const discardProps = [\n        \"segments\",\n        \"deletable\",\n        \"deleting\",\n        \"titleEditable\",\n        \"resizable\",\n        \"resizing\",\n        \"draggable\",\n        \"dragging\",\n        \"draggingStatic\",\n        \"focused\"\n      ];\n      discardProps.forEach((prop) => {\n        if (prop in event) delete event[prop];\n      });\n      if (!event.repeat) delete event.repeat;\n      return event;\n    },\n    /**\n     * Emits an event (custom DOM event) to the outside world.\n     * This event has an event name and a clean calendar event as a parameter.\n     *\n     * @param {String} eventName the name of the custom emitted event (e.g. `event-focus`).\n     * @param {Object} event the event to return to the outside world.\n     */\n    emitWithEvent(eventName, event) {\n      this.$emit(eventName, this.cleanupEvent(event));\n    },\n    /**\n     * Update the selected date:\n     * - on created, from given selectedDate prop\n     * - on click/dblClick of another cell\n     * - from external call (via $refs)\n     * - when the given selectedDate prop changes.\n     * If date is not in the view, the view will change to show it.\n     *\n     * @param {String | Date} date The date to select.\n     */\n    updateSelectedDate(date) {\n      if (date && typeof date === \"string\") date = this.utils.date.stringToDate(date);\n      else date = new Date(date);\n      if (date && date instanceof Date) {\n        const { selectedDate } = this.view;\n        if (selectedDate) this.transitionDirection = selectedDate.getTime() > date.getTime() ? \"left\" : \"right\";\n        date.setHours(0, 0, 0, 0);\n        if (!selectedDate || selectedDate.getTime() !== date.getTime()) this.view.selectedDate = date;\n        this.switchView(this.view.id);\n      }\n      this.$emit(\"update:selected-date\", this.view.selectedDate);\n    },\n    /**\n     * Double checks the week number is correct. Read below to understand!\n     * this is a wrapper around the `getWeek()` function for performance:\n     * As this is called multiple times from the template and cannot be in computed since there is\n     * a parameter, this wrapper function avoids the `getWeek()` function call 5 times out of 6\n     * using the computed `firstCellDateWeekNumber`.\n     *\n     * Reason why:\n     * Getting the week number is not that straightforward as there might be a 53rd week in the year.\n     * Whenever the year starts on a Thursday or any leap year starting on a Wednesday, this week will be 53.\n     *\n     * @param {Number} weekFromFirstCell Number from 0 to 6.\n     */\n    getWeekNumber(weekFromFirstCell) {\n      const ud2 = this.utils.date;\n      const firstCellWeekNumber = this.firstCellDateWeekNumber;\n      const currentWeekNumber = firstCellWeekNumber + weekFromFirstCell;\n      const modifier = this.startWeekOnSunday ? 1 : 0;\n      if (currentWeekNumber > 52) {\n        return ud2.getWeek(ud2.addDays(this.view.firstCellDate, 7 * weekFromFirstCell + modifier));\n      } else return currentWeekNumber;\n    },\n    /**\n     * Only if watchRealTime is true.\n     * Pull the current time from user machine every minute to keep vue-cal accurate even when idle.\n     * This will redraw the now line every minute and ensure that Today's date is always accurate.\n     */\n    timeTick() {\n      this.now = /* @__PURE__ */ new Date();\n      this.timeTickerIds[1] = setTimeout(this.timeTick, 60 * 1e3);\n    },\n    /**\n     * Updates the localized texts in use in the Date prototypes. (E.g. new Date().format())\n     * Callable from outside of Vue Cal.\n     */\n    updateDateTexts() {\n      this.utils.date.updateTexts(this.texts);\n    },\n    /**\n     * On Windows devices, the .vuecal__bg's vertical scrollbar takes space and pushes the content.\n     * This function will also push the weekdays-headings and all-day bar to have them properly aligned.\n     * The calculated style will be placed in the document head in a style tag so it's only done once\n     * (the scrollbar width never changes).\n     * Ref. https://github.com/antoniandre/vue-cal/issues/221\n     */\n    alignWithScrollbar() {\n      if (document.getElementById(\"vuecal-align-with-scrollbar\")) return;\n      const bg = this.$refs.vuecal.getElementsByClassName(\"vuecal__scrollbar-check\")[0];\n      const scrollbarWidth = bg.offsetWidth - bg.children[0].offsetWidth;\n      if (scrollbarWidth) {\n        const style = document.createElement(\"style\");\n        style.id = \"vuecal-align-with-scrollbar\";\n        style.type = \"text/css\";\n        style.innerHTML = `.vuecal--view-with-time .vuecal__weekdays-headings,.vuecal--view-with-time .vuecal__all-day {padding-right: ${scrollbarWidth}px}`;\n        document.head.appendChild(style);\n      }\n    },\n    /**\n     * Tells wether there are events in the given cell or split and returns a Boolean.\n     * This function simplifies the template.\n     *\n     * @param {Array} events The cell events.\n     * @param {Object|Boolean} split The current split object if any or false.\n     * @return {Boolean} true if there are events, false otherwise.\n     */\n    cellOrSplitHasEvents(events, split = null) {\n      return events.length && (!split && events.length || split && events.some((e) => e.split === split.id));\n    }\n  },\n  created() {\n    this.utils.cell = new CellUtils(this);\n    this.utils.event = new EventUtils(this, this.utils.date);\n    this.loadLocale(this.locale);\n    if (this.editEvents.drag) this.loadDragAndDrop();\n    this.updateMutableEvents(this.events);\n    this.view.id = this.currentView;\n    if (this.selectedDate) this.updateSelectedDate(this.selectedDate);\n    else {\n      this.view.selectedDate = /* @__PURE__ */ new Date();\n      this.switchView(this.currentView);\n    }\n    if (this.time && this.watchRealTime) {\n      this.timeTickerIds[0] = setTimeout(this.timeTick, (60 - this.now.getSeconds()) * 1e3);\n    }\n  },\n  mounted() {\n    const ud2 = this.utils.date;\n    const hasTouch = \"ontouchstart\" in window;\n    const { resize, drag, create, delete: deletable, title } = this.editEvents;\n    const hasEventClickHandler = this.onEventClick && typeof this.onEventClick === \"function\";\n    if (resize || drag || create || deletable || title || hasEventClickHandler) {\n      window.addEventListener(hasTouch ? \"touchend\" : \"mouseup\", this.onMouseUp);\n    }\n    if (resize || drag || create && this.dragToCreateEvent) {\n      window.addEventListener(hasTouch ? \"touchmove\" : \"mousemove\", this.onMouseMove, { passive: false });\n    }\n    if (title) window.addEventListener(\"keyup\", this.onKeyUp);\n    if (hasTouch) {\n      this.$refs.vuecal.oncontextmenu = function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n      };\n    }\n    if (!this.hideBody) this.alignWithScrollbar();\n    const startDate = this.view.startDate;\n    const params = {\n      view: this.view.id,\n      startDate,\n      endDate: this.view.endDate,\n      ...this.isMonthView ? { firstCellDate: this.view.firstCellDate, lastCellDate: this.view.lastCellDate } : {},\n      events: this.view.events.map(this.cleanupEvent),\n      ...this.isWeekView ? { week: ud2.getWeek(this.startWeekOnSunday ? ud2.addDays(startDate, 1) : startDate) } : {}\n    };\n    this.$emit(\"ready\", params);\n    this.ready = true;\n  },\n  beforeUnmount() {\n    const hasTouch = \"ontouchstart\" in window;\n    window.removeEventListener(hasTouch ? \"touchmove\" : \"mousemove\", this.onMouseMove, { passive: false });\n    window.removeEventListener(hasTouch ? \"touchend\" : \"mouseup\", this.onMouseUp);\n    window.removeEventListener(\"keyup\", this.onKeyUp);\n    if (this.timeTickerIds[0]) clearTimeout(this.timeTickerIds[0]);\n    if (this.timeTickerIds[1]) clearTimeout(this.timeTickerIds[1]);\n    this.timeTickerIds = [null, null];\n  },\n  computed: {\n    editEvents() {\n      if (this.editableEvents && typeof this.editableEvents === \"object\") {\n        return {\n          title: !!this.editableEvents.title,\n          drag: !!this.editableEvents.drag,\n          resize: !!this.editableEvents.resize,\n          create: !!this.editableEvents.create,\n          delete: !!this.editableEvents.delete\n        };\n      }\n      return {\n        title: !!this.editableEvents,\n        drag: !!this.editableEvents,\n        resize: !!this.editableEvents,\n        create: !!this.editableEvents,\n        delete: !!this.editableEvents\n      };\n    },\n    views() {\n      return {\n        years: { label: this.texts.years, enabled: !this.disableViews.includes(\"years\") },\n        year: { label: this.texts.year, enabled: !this.disableViews.includes(\"year\") },\n        month: { label: this.texts.month, enabled: !this.disableViews.includes(\"month\") },\n        week: { label: this.texts.week, enabled: !this.disableViews.includes(\"week\") },\n        day: { label: this.texts.day, enabled: !this.disableViews.includes(\"day\") }\n      };\n    },\n    currentView() {\n      return this.validateView(this.activeView);\n    },\n    enabledViews() {\n      return Object.keys(this.views).filter((view) => this.views[view].enabled);\n    },\n    hasTimeColumn() {\n      return this.time && this.isWeekOrDayView;\n    },\n    isShortMonthView() {\n      return this.isMonthView && this.eventsOnMonthView === \"short\";\n    },\n    firstCellDateWeekNumber() {\n      const ud2 = this.utils.date;\n      const date = this.view.firstCellDate;\n      return ud2.getWeek(this.startWeekOnSunday ? ud2.addDays(date, 1) : date);\n    },\n    // For week & day views.\n    timeCells() {\n      const timeCells = [];\n      for (let i = this.timeFrom, max = this.timeTo; i < max; i += this.timeStep) {\n        timeCells.push({\n          hours: Math.floor(i / 60),\n          minutes: i % 60,\n          label: this.utils.date.formatTime(i, this.TimeFormat),\n          // The texts (3rd param) are given on Vue Cal init.\n          value: i\n        });\n      }\n      return timeCells;\n    },\n    TimeFormat() {\n      return this.timeFormat || (this.twelveHour ? \"h:mm{am}\" : \"HH:mm\");\n    },\n    // Filter out the day splits that are hidden.\n    daySplits() {\n      return (this.splitDays.filter((item) => !item.hide) || []).map((item, i) => ({ ...item, id: item.id || i + 1 }));\n    },\n    // Whether the current view has days splits.\n    hasSplits() {\n      return this.daySplits.length && this.isWeekOrDayView;\n    },\n    hasShortEvents() {\n      return this.showAllDayEvents === \"short\";\n    },\n    // Returns the min cell width or the min split width if any.\n    cellOrSplitMinWidth() {\n      let minWidth = null;\n      if (this.hasSplits && this.minSplitWidth) minWidth = this.visibleDaysCount * this.minSplitWidth * this.daySplits.length;\n      else if (this.minCellWidth && this.isWeekView) minWidth = this.visibleDaysCount * this.minCellWidth;\n      return minWidth;\n    },\n    allDayBar() {\n      let height = this.allDayBarHeight || null;\n      if (height && !isNaN(height)) height += \"px\";\n      return {\n        cells: this.viewCells,\n        options: this.$props,\n        label: this.texts.allDay,\n        shortEvents: this.hasShortEvents,\n        daySplits: this.hasSplits && this.daySplits || [],\n        cellOrSplitMinWidth: this.cellOrSplitMinWidth,\n        height\n      };\n    },\n    minTimestamp() {\n      let date = null;\n      if (this.minDate && typeof this.minDate === \"string\") date = this.utils.date.stringToDate(this.minDate);\n      else if (this.minDate && this.minDate instanceof Date) date = this.minDate;\n      return date ? date.getTime() : null;\n    },\n    maxTimestamp() {\n      let date = null;\n      if (this.maxDate && typeof this.maxDate === \"string\") date = this.utils.date.stringToDate(this.maxDate);\n      else if (this.maxDate && this.maxDate instanceof Date) date = this.maxDate;\n      return date ? date.getTime() : null;\n    },\n    weekDays() {\n      let { weekDays, weekDaysShort = [] } = this.texts;\n      weekDays = weekDays.slice(0).map((day, i) => ({\n        label: day,\n        ...weekDaysShort.length ? { short: weekDaysShort[i] } : {},\n        hide: this.hideWeekends && i >= 5 || this.hideWeekdays.length && this.hideWeekdays.includes(i + 1)\n      }));\n      if (this.startWeekOnSunday) weekDays.unshift(weekDays.pop());\n      return weekDays;\n    },\n    weekDaysInHeader() {\n      return this.isMonthView || // hasSplits check is important here in case the user toggles the splits but keep minSplitWidth.\n      this.isWeekView && !this.minCellWidth && !(this.hasSplits && this.minSplitWidth);\n    },\n    months() {\n      return this.texts.months.map((month) => ({ label: month }));\n    },\n    // Validate and fill up the special hours object once for all at root level and not in cell.\n    specialDayHours() {\n      if (!this.specialHours || !Object.keys(this.specialHours).length) return {};\n      return Array(7).fill(\"\").map((cell, i) => {\n        let day = this.specialHours[i + 1] || [];\n        if (!Array.isArray(day)) day = [day];\n        cell = [];\n        day.forEach(({ from, to, class: Class, label }, j) => {\n          cell[j] = {\n            day: i + 1,\n            from: ![null, void 0].includes(from) ? from * 1 : null,\n            to: ![null, void 0].includes(to) ? to * 1 : null,\n            class: Class || \"\",\n            label: label || \"\"\n          };\n        });\n        return cell;\n      });\n    },\n    viewTitle() {\n      const ud2 = this.utils.date;\n      let title = \"\";\n      const date = this.view.startDate;\n      const year = date.getFullYear();\n      const month = date.getMonth();\n      switch (this.view.id) {\n        case \"years\": {\n          title = this.texts.years;\n          break;\n        }\n        case \"year\": {\n          title = year;\n          break;\n        }\n        case \"month\": {\n          title = `${this.months[month].label} ${year}`;\n          break;\n        }\n        case \"week\": {\n          const lastDayOfWeek = this.view.endDate;\n          const y1 = date.getFullYear();\n          let m1 = this.texts.months[date.getMonth()];\n          if (this.xsmall) m1 = m1.substring(0, 3);\n          let formattedMonthYear = `${m1} ${y1}`;\n          if (lastDayOfWeek.getMonth() !== date.getMonth()) {\n            const y2 = lastDayOfWeek.getFullYear();\n            let m2 = this.texts.months[lastDayOfWeek.getMonth()];\n            if (this.xsmall) m2 = m2.substring(0, 3);\n            if (y1 === y2) formattedMonthYear = `${m1} - ${m2} ${y1}`;\n            else {\n              if (this.small) formattedMonthYear = `${m1.substring(0, 3)} ${y1} - ${m2.substring(0, 3)} ${y2}`;\n              else formattedMonthYear = `${m1} ${y1} - ${m2} ${y2}`;\n            }\n          }\n          title = `${this.texts.week} ${ud2.getWeek(this.startWeekOnSunday ? ud2.addDays(date, 1) : date)} (${formattedMonthYear})`;\n          break;\n        }\n        case \"day\": {\n          title = this.utils.date.formatDate(date, this.texts.dateFormat, this.texts);\n          break;\n        }\n      }\n      return title;\n    },\n    viewCells() {\n      const ud2 = this.utils.date;\n      let cells = [];\n      let fromYear = null;\n      let todayFound = false;\n      if (!this.watchRealTime) this.now = /* @__PURE__ */ new Date();\n      const now2 = this.now;\n      switch (this.view.id) {\n        case \"years\": {\n          fromYear = this.view.startDate.getFullYear();\n          cells = Array.apply(null, Array(25)).map((cell, i) => {\n            const startDate = new Date(fromYear + i, 0, 1);\n            const endDate = new Date(fromYear + i + 1, 0, 1);\n            endDate.setSeconds(-1);\n            return {\n              startDate,\n              formattedDate: ud2.formatDateLite(startDate),\n              endDate,\n              content: fromYear + i,\n              current: fromYear + i === now2.getFullYear()\n            };\n          });\n          break;\n        }\n        case \"year\": {\n          fromYear = this.view.startDate.getFullYear();\n          cells = Array.apply(null, Array(12)).map((cell, i) => {\n            const startDate = new Date(fromYear, i, 1);\n            const endDate = new Date(fromYear, i + 1, 1);\n            endDate.setSeconds(-1);\n            return {\n              startDate,\n              formattedDate: ud2.formatDateLite(startDate),\n              endDate,\n              content: this.xsmall ? this.months[i].label.substr(0, 3) : this.months[i].label,\n              current: i === now2.getMonth() && fromYear === now2.getFullYear()\n            };\n          });\n          break;\n        }\n        case \"month\": {\n          const month = this.view.startDate.getMonth();\n          const firstCellDate = new Date(this.view.firstCellDate);\n          todayFound = false;\n          cells = Array.apply(null, Array(42)).map((cell, i) => {\n            const startDate = ud2.addDays(firstCellDate, i);\n            const endDate = new Date(startDate);\n            endDate.setHours(23, 59, 59, 0);\n            const isToday = !todayFound && ud2.isToday(startDate) && !todayFound++;\n            return {\n              startDate,\n              formattedDate: ud2.formatDateLite(startDate),\n              endDate,\n              content: startDate.getDate(),\n              today: isToday,\n              outOfScope: startDate.getMonth() !== month,\n              class: `vuecal__cell--day${startDate.getDay() || 7}`\n            };\n          });\n          if (this.hideWeekends || this.hideWeekdays.length) {\n            cells = cells.filter((cell) => {\n              const day = cell.startDate.getDay() || 7;\n              return !(this.hideWeekends && day >= 6 || this.hideWeekdays.length && this.hideWeekdays.includes(day));\n            });\n          }\n          break;\n        }\n        case \"week\": {\n          todayFound = false;\n          const firstDayOfWeek = this.view.startDate;\n          const weekDays = this.weekDays;\n          cells = weekDays.map((cell, i) => {\n            const startDate = ud2.addDays(firstDayOfWeek, this.startWeekOnSunday && this.hideWeekends ? i - 1 : i);\n            const endDate = new Date(startDate);\n            endDate.setHours(23, 59, 59, 0);\n            const dayOfWeek = (startDate.getDay() || 7) - 1;\n            return {\n              startDate,\n              formattedDate: ud2.formatDateLite(startDate),\n              endDate,\n              // To increase performance skip checking isToday if today already found.\n              today: !todayFound && ud2.isToday(startDate) && !todayFound++,\n              specialHours: this.specialDayHours[dayOfWeek] || []\n            };\n          }).filter((cell, i) => !weekDays[i].hide);\n          break;\n        }\n        case \"day\": {\n          const startDate = this.view.startDate;\n          const endDate = new Date(this.view.startDate);\n          endDate.setHours(23, 59, 59, 0);\n          const dayOfWeek = (startDate.getDay() || 7) - 1;\n          cells = [{\n            startDate,\n            formattedDate: ud2.formatDateLite(startDate),\n            endDate,\n            today: ud2.isToday(startDate),\n            specialHours: this.specialDayHours[dayOfWeek] || []\n          }];\n          break;\n        }\n      }\n      return cells;\n    },\n    // Only when hiding weekdays on month and week views.\n    visibleDaysCount() {\n      if (this.isDayView) return 1;\n      return 7 - this.weekDays.reduce((total, day) => total + day.hide, 0);\n    },\n    cellWidth() {\n      return 100 / this.visibleDaysCount;\n    },\n    cssClasses() {\n      const { resizeAnEvent, dragAnEvent, dragCreateAnEvent } = this.domEvents;\n      return {\n        [`vuecal--${this.view.id}-view`]: true,\n        [`vuecal--${this.locale}`]: this.locale,\n        \"vuecal--no-time\": !this.time,\n        \"vuecal--view-with-time\": this.hasTimeColumn,\n        \"vuecal--week-numbers\": this.showWeekNumbers && this.isMonthView,\n        \"vuecal--twelve-hour\": this.twelveHour,\n        \"vuecal--click-to-navigate\": this.clickToNavigate,\n        \"vuecal--hide-weekends\": this.hideWeekends,\n        \"vuecal--split-days\": this.hasSplits,\n        \"vuecal--sticky-split-labels\": this.hasSplits && this.stickySplitLabels,\n        \"vuecal--overflow-x\": this.minCellWidth && this.isWeekView || this.hasSplits && this.minSplitWidth,\n        \"vuecal--small\": this.small,\n        \"vuecal--xsmall\": this.xsmall,\n        \"vuecal--resizing-event\": resizeAnEvent._eid,\n        \"vuecal--drag-creating-event\": dragCreateAnEvent.event,\n        \"vuecal--dragging-event\": dragAnEvent._eid,\n        \"vuecal--events-on-month-view\": this.eventsOnMonthView,\n        \"vuecal--short-events\": this.isMonthView && this.eventsOnMonthView === \"short\",\n        \"vuecal--has-touch\": typeof window !== \"undefined\" && \"ontouchstart\" in window\n      };\n    },\n    isYearsOrYearView() {\n      return [\"years\", \"year\"].includes(this.view.id);\n    },\n    isYearsView() {\n      return this.view.id === \"years\";\n    },\n    isYearView() {\n      return this.view.id === \"year\";\n    },\n    isMonthView() {\n      return this.view.id === \"month\";\n    },\n    isWeekOrDayView() {\n      return [\"week\", \"day\"].includes(this.view.id);\n    },\n    isWeekView() {\n      return this.view.id === \"week\";\n    },\n    isDayView() {\n      return this.view.id === \"day\";\n    }\n  },\n  watch: {\n    events: {\n      // To be able to detect an event attribute change, it has to be first initialized with a value.\n      handler(events, oldEvents) {\n        this.updateMutableEvents(events);\n        this.addEventsToView();\n      },\n      deep: true\n    },\n    locale(locale) {\n      this.loadLocale(locale);\n    },\n    selectedDate(date) {\n      this.updateSelectedDate(date);\n    },\n    activeView(newVal) {\n      this.switchView(newVal);\n    }\n  }\n};\nconst index = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", render]]);\nexport {\n  index as default\n};\n","<template>\r\n  <!-- Modal overlay for displaying the add activity form -->\r\n  <div v-if=\"isModalVisible\" class=\"modal-overlay\">\r\n    <div class=\"modal\">\r\n      <div class=\"modal-header\">\r\n        <button class=\"cancel-button\" @click=\"closeModal\">Cancel</button>\r\n        <h3 class=\"modal-title\">Add Activity</h3>\r\n      </div>\r\n      <div class=\"divider-line\"></div>\r\n\r\n      <div class=\"modal-body\">\r\n        <form @submit.prevent=\"saveActivity\">\r\n          <!-- Activity title input field -->\r\n          <label for=\"activityTitle\">Title</label>\r\n          <input\r\n            v-model=\"activityName\"\r\n            type=\"text\"\r\n            id=\"activityTitle\"\r\n            placeholder=\"Title\"\r\n            required\r\n          />\r\n\r\n          <!-- Activity date input field -->\r\n          <label for=\"activityDate\">Date</label>\r\n          <input\r\n            v-model=\"activityDate\"\r\n            type=\"date\"\r\n            id=\"activityDate\"\r\n            required\r\n          />\r\n\r\n          <!-- Time input fields with validation error display if needed -->\r\n          <label for=\"timeRange\">Time</label>\r\n          <div class=\"time-range\">\r\n            <input v-model=\"startTime\" type=\"time\" required />\r\n            <p class=\"dividers\">-</p>\r\n            <input v-model=\"endTime\" type=\"time\" required />\r\n          </div>\r\n          <p v-if=\"timeError\" class=\"time-error\">{{ timeError }}</p>\r\n\r\n          <!-- Location input field -->\r\n          <label for=\"location\">Location</label>\r\n          <input\r\n            v-model=\"activityLocation\"\r\n            type=\"text\"\r\n            id=\"location\"\r\n            placeholder=\"Enter location\"\r\n          />\r\n\r\n          <!-- Description input field -->\r\n          <label for=\"description\">Description</label>\r\n          <textarea\r\n            v-model=\"activityDescription\"\r\n            id=\"description\"\r\n            placeholder=\"Description\"\r\n          ></textarea>\r\n\r\n          <!-- Footer with save button, disabled if form is invalid -->\r\n          <div class=\"modal-footer\">\r\n            <button type=\"submit\" class=\"save-button\" :disabled=\"!isFormValid\">\r\n              Save\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      activityName: \"\", // Stores the activity title\r\n      activityDescription: \"\", // Stores the activity description\r\n      activityDate: new Date().toISOString().substr(0, 10), // Default to today's date\r\n      startTime: \"19:30\", // Default start time\r\n      endTime: \"22:00\", // Default end time\r\n      activityLocation: \"\", // Stores the location\r\n      isModalVisible: true, // Controls the visibility of the modal\r\n      timeError: \"\", // Error message for invalid time range\r\n    };\r\n  },\r\n  computed: {\r\n    // Validates form inputs and checks that startTime is before endTime\r\n    isFormValid() {\r\n      return (\r\n        this.activityName.trim() !== \"\" &&\r\n        this.activityDate.trim() !== \"\" &&\r\n        this.startTime.trim() !== \"\" &&\r\n        this.endTime.trim() !== \"\" &&\r\n        this.isTimeRangeValid // Only valid if startTime < endTime\r\n      );\r\n    },\r\n    // Returns true if startTime is earlier than endTime\r\n    isTimeRangeValid() {\r\n      return this.compareTimes(this.startTime, this.endTime);\r\n    },\r\n  },\r\n  watch: {\r\n    // Watch startTime and endTime changes to validate the time range\r\n    startTime() {\r\n      this.validateTimeRange();\r\n    },\r\n    endTime() {\r\n      this.validateTimeRange();\r\n    },\r\n  },\r\n  methods: {\r\n    // Close activity modal\r\n    closeModal() {\r\n      this.isModalVisible = false;\r\n      this.$emit(\"close\");\r\n    },\r\n    // Helper function to compare start and end times\r\n    compareTimes(start, end) {\r\n      const [startHours, startMinutes] = start.split(\":\").map(Number);\r\n      const [endHours, endMinutes] = end.split(\":\").map(Number);\r\n\r\n      // Returns true if end time is after start time\r\n      return (\r\n        endHours > startHours ||\r\n        (endHours === startHours && endMinutes > startMinutes)\r\n      );\r\n    },\r\n    // Validates the time range and sets error message if invalid\r\n    validateTimeRange() {\r\n      if (!this.isTimeRangeValid) {\r\n        this.timeError = \"End time must be after start time.\";\r\n      } else {\r\n        this.timeError = \"\";\r\n      }\r\n    },\r\n    // Saves the activity data if form is valid, then resets and closes modal\r\n    saveActivity() {\r\n      if (!this.isFormValid) return;\r\n\r\n      const activityStart = new Date(`${this.activityDate}T${this.startTime}`);\r\n      const activityEnd = new Date(`${this.activityDate}T${this.endTime}`);\r\n\r\n      const newActivity = {\r\n        title: this.activityName,\r\n        start: activityStart.toISOString(),\r\n        end: activityEnd.toISOString(),\r\n        location: this.activityLocation,\r\n        description: this.activityDescription,\r\n      };\r\n\r\n      this.$emit(\"save-activity\", newActivity); // Emit the new activity to parent\r\n      this.resetForm();\r\n      this.closeModal();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.modal-overlay {\r\n  position: fixed;\r\n  padding-top: 90px;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999;\r\n}\r\n\r\n.modal {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 500px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.modal-title {\r\n  color: #2c3f50;\r\n  font-weight: bold;\r\n  font-size: 1.5rem;\r\n  margin-right: 40px;\r\n  text-align: center;\r\n  flex-grow: 1;\r\n}\r\n\r\n.cancel-button {\r\n  background-color: #fff;\r\n  color: #565656;\r\n  padding: 5px 0;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n}\r\n\r\n.divider-line {\r\n  height: 1px;\r\n  background-color: #ccc;\r\n  margin-top: 5px;\r\n}\r\n\r\n.modal-body {\r\n  margin-top: 15px;\r\n}\r\n\r\n.modal-body label {\r\n  margin-bottom: 15px;\r\n  font-weight: bold;\r\n}\r\n\r\n.modal-body input,\r\n.modal-body textarea {\r\n  width: 100%;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  border: 2px solid #bbb;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n  background-color: white;\r\n  color: #2c3f50;\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n}\r\n\r\n.modal-body input::placeholder,\r\n.modal-body textarea::placeholder {\r\n  color: #888;\r\n}\r\n\r\n.time-range {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.time-range input[type=\"time\"] {\r\n  width: 45%;\r\n}\r\n\r\n.time-range span {\r\n  margin: 0 5px;\r\n}\r\n\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 10px;\r\n}\r\n\r\n.save-button {\r\n  background-color: #f8683b;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n}\r\n\r\n.save-button:hover {\r\n  background-color: #fa5d2d;\r\n}\r\n\r\n.save-button:disabled {\r\n  background-color: #ddd;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.dividers {\r\n  color: #bbb;\r\n  margin: 0 20px;\r\n  margin-bottom: 7px;\r\n  font-size: 1.5rem;\r\n}\r\n\r\n#description {\r\n  height: 100px;\r\n  min-height: 45px;\r\n  max-height: 300px;\r\n  resize: vertical;\r\n  width: 100%;\r\n}\r\n\r\n.time-error {\r\n  color: red;\r\n  font-size: 0.9rem;\r\n  margin-top: 5px;\r\n}\r\n</style>\r\n","import { render } from \"./CreateActivityModal.vue?vue&type=template&id=bb464cac&scoped=true\"\nimport script from \"./CreateActivityModal.vue?vue&type=script&lang=js\"\nexport * from \"./CreateActivityModal.vue?vue&type=script&lang=js\"\n\nimport \"./CreateActivityModal.vue?vue&type=style&index=0&id=bb464cac&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bb464cac\"]])\n\nexport default __exports__","<template>\r\n  <!-- Modal overlay to contain the form for creating or editing an adventure -->\r\n  <div v-if=\"isModalVisible\" class=\"modal-overlay\">\r\n    <div class=\"modal\">\r\n      <div class=\"modal-header\">\r\n        <button class=\"cancel-button\" @click=\"closeModal\">Cancel</button>\r\n        <!-- Conditional title based on editing state -->\r\n        <h3 v-if=\"isEditing\" class=\"modal-title-1\">Edit Adventure</h3>\r\n        <h3 v-else class=\"modal-title-2\">New Adventure</h3>\r\n      </div>\r\n      <div class=\"divider-line\"></div>\r\n\r\n      <div class=\"modal-body\">\r\n        <form @submit.prevent=\"saveAdventure\">\r\n          <!-- Adventure name input field -->\r\n          <label>Adventure Name</label>\r\n          <input\r\n            v-model=\"adventureName\"\r\n            type=\"text\"\r\n            placeholder=\"Name this Adventure\"\r\n            required\r\n          />\r\n\r\n          <!-- Adventure description input field -->\r\n          <label>Description</label>\r\n          <input\r\n            v-model=\"adventureDescription\"\r\n            type=\"text\"\r\n            placeholder=\"Give this Adventure a description\"\r\n          />\r\n\r\n          <!-- Friend email input with add button -->\r\n          <label>Add Friends</label>\r\n          <div class=\"add-friend-input\">\r\n            <input\r\n              v-model=\"friendEmail\"\r\n              type=\"email\"\r\n              placeholder=\"Enter friends email\"\r\n            />\r\n            <button type=\"button\" class=\"add-button\" @click=\"addFriend\">\r\n              Add\r\n            </button>\r\n          </div>\r\n\r\n          <!-- List of added friends, each with a remove option -->\r\n          <div class=\"friends-list\">\r\n            <span\r\n              v-for=\"(friend, index) in friends\"\r\n              :key=\"index\"\r\n              class=\"friend-item\"\r\n            >\r\n              {{ friend.email }}\r\n              <button @click=\"removeFriend(index)\">x</button>\r\n            </span>\r\n          </div>\r\n\r\n          <!-- Save button to submit the adventure form -->\r\n          <div class=\"modal-footer\">\r\n            <button type=\"submit\" class=\"save-button\" :disabled=\"!isFormValid\">\r\n              {{ isEditing ? \"Update\" : \"Save\" }}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebaseApp from \"@/firebase.js\";\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n\r\nconst db = getFirestore(firebaseApp);\r\n\r\nexport default {\r\n  props: {\r\n    currentUserEmail: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    editingAdventure: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      adventureName: \"\", // Adventure name input field\r\n      adventureDescription: \"\", // Adventure description input field\r\n      friends: [], // List to hold friends added to the adventure\r\n      friendEmail: \"\", // Input field for friend's email\r\n      isEditing: false, // Flag to check if adventure is in editing mode\r\n      isModalVisible: true, // Modal visibility toggle\r\n      userNotFound: \"\", // Error message if user is not found\r\n    };\r\n  },\r\n  computed: {\r\n    // Check if form is valid (i.e., adventure name is provided)\r\n    isFormValid() {\r\n      return this.adventureName.trim() !== \"\";\r\n    },\r\n  },\r\n  methods: {\r\n    // Close the modal and reset userNotFound message\r\n    closeModal() {\r\n      this.isModalVisible = false;\r\n      this.userNotFound = \"\";\r\n      this.$emit(\"close\");\r\n    },\r\n    // Save the adventure data and emit to the parent component\r\n    saveAdventure() {\r\n      if (!this.isFormValid) return;\r\n\r\n      const adventureData = {\r\n        name: this.adventureName,\r\n        description: this.adventureDescription,\r\n        friends: this.friends.map((friend) => friend.email),\r\n      };\r\n      this.$emit(\"save-adventure\", adventureData); // Emit saved adventure data\r\n      this.resetForm();\r\n      this.closeModal();\r\n    },\r\n    // Adds a friend after validating they are in the database\r\n    async addFriend() {\r\n      if (!this.friendEmail) return;\r\n\r\n      // Ensure user isn't adding themselves or a duplicate friend\r\n      if (\r\n        this.friends.some((friend) => friend.email === this.friendEmail) ||\r\n        this.friendEmail === this.currentUserEmail\r\n      ) {\r\n        alert(\"User already added or cannot add yourself.\");\r\n        this.friendEmail = \"\";\r\n        return;\r\n      }\r\n\r\n      // Check if user exists in Firebase\r\n      const userDocRef = doc(db, \"Users\", this.friendEmail);\r\n      const userSnapshot = await getDoc(userDocRef);\r\n\r\n      if (userSnapshot.exists()) {\r\n        this.friends.push({ email: this.friendEmail });\r\n        console.log(\"Friend added to list:\", this.friendEmail);\r\n      } else {\r\n        alert(\"User does not exist.\"); // Notify if user is not in Firebase\r\n      }\r\n      this.friendEmail = \"\"; // Reset email input\r\n    },\r\n    // Removes friend from the list by index\r\n    removeFriend(index) {\r\n      this.friends.splice(index, 1);\r\n    },\r\n    // Reset form fields when the modal closes\r\n    resetForm() {\r\n      this.adventureName = \"\";\r\n      this.adventureDescription = \"\";\r\n      this.friends = [];\r\n      this.friendEmail = \"\";\r\n      this.isEditing = false;\r\n    },\r\n  },\r\n  created() {\r\n    // Populate form fields if editing an existing adventure\r\n    if (this.editingAdventure) {\r\n      this.isEditing = true;\r\n      this.adventureName = this.editingAdventure.name;\r\n      this.adventureDescription = this.editingAdventure.description;\r\n      this.friends =\r\n        this.editingAdventure.friends\r\n          ?.filter((email) => email !== this.currentUserEmail)\r\n          .map((email) => ({ email })) || [];\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Modal overlay styles for centering and background */\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 90px;\r\n  align-items: center;\r\n  z-index: 9999;\r\n}\r\n\r\n/* Modal container styles */\r\n.modal {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 500px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n/* Modal header styling */\r\n.modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.modal-title-1 {\r\n  color: #2c3f50;\r\n  font-weight: bold;\r\n  font-size: 1.5rem;\r\n  margin: 0 55px 0 0;\r\n  text-align: center;\r\n  flex-grow: 1;\r\n}\r\n\r\n.modal-title-2 {\r\n  color: #2c3f50;\r\n  font-weight: bold;\r\n  font-size: 1.5rem;\r\n  margin: 0 45px 0 0;\r\n  text-align: center;\r\n  flex-grow: 1;\r\n}\r\n\r\n/* Cancel button styling */\r\n.cancel-button {\r\n  background-color: #fff;\r\n  color: #565656;\r\n  padding: 5px 0;\r\n  border: none;\r\n  cursor: pointer;\r\n  font-size: 15px;\r\n}\r\n\r\n.divider-line {\r\n  height: 1px;\r\n  background-color: #ccc;\r\n  margin-top: 5px;\r\n}\r\n\r\n.modal-body {\r\n  margin-top: 15px;\r\n}\r\n\r\n/* Label and input styling in the modal body */\r\n.modal-body label {\r\n  margin-bottom: 15px;\r\n  font-weight: bold;\r\n}\r\n\r\n.modal-body input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  margin-bottom: 10px;\r\n  border: 2px solid #ccc;\r\n  border-radius: 5px;\r\n  font-size: 1rem;\r\n  background-color: white;\r\n  color: black;\r\n}\r\n\r\n.modal-body input::placeholder {\r\n  color: #888;\r\n}\r\n\r\n/* Add friend input with add button */\r\n.add-friend-input {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.add-friend-input input {\r\n  flex: 1;\r\n  padding: 10px;\r\n  border: 2px solid #ccc;\r\n  border-right: none;\r\n  border-radius: 5px 0 0 5px;\r\n}\r\n\r\n/* Add button styling */\r\n.add-button {\r\n  padding: 5px 15px;\r\n  font-size: 1rem;\r\n  background-color: #bdbdbd;\r\n  color: white;\r\n  border: none;\r\n  height: 42.5px;\r\n  border-radius: 0 5px 5px 0;\r\n  border: 2px solid #bdbdbd;\r\n  cursor: pointer;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.add-button:hover {\r\n  background-color: #8a8a8a;\r\n}\r\n\r\n/* Friends list styling */\r\n.friends-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-top: 10px;\r\n}\r\n\r\n.friend-item {\r\n  background-color: #e0e0e0;\r\n  padding: 5px 10px;\r\n  margin: 5px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.friend-item button {\r\n  background: none;\r\n  border: none;\r\n  font-size: 12px;\r\n  margin-left: 5px;\r\n  cursor: pointer;\r\n}\r\n\r\n.friend-item button:hover {\r\n  color: red;\r\n}\r\n\r\n/* Save button styling */\r\n.modal-footer {\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 10px;\r\n}\r\n\r\n.save-button {\r\n  background-color: #f8683b;\r\n  color: white;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n}\r\n\r\n.save-button:hover {\r\n  background-color: #fa5d2d;\r\n}\r\n\r\n.save-button:disabled {\r\n  background-color: #ddd;\r\n  cursor: not-allowed;\r\n}\r\n</style>\r\n","import { render } from \"./CreateAdventureModal.vue?vue&type=template&id=49bbc84f&scoped=true\"\nimport script from \"./CreateAdventureModal.vue?vue&type=script&lang=js\"\nexport * from \"./CreateAdventureModal.vue?vue&type=script&lang=js\"\n\nimport \"./CreateAdventureModal.vue?vue&type=style&index=0&id=49bbc84f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-49bbc84f\"]])\n\nexport default __exports__","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","import { render } from \"./Adventures.vue?vue&type=template&id=12b03ec8&scoped=true\"\nimport script from \"./Adventures.vue?vue&type=script&lang=js\"\nexport * from \"./Adventures.vue?vue&type=script&lang=js\"\n\nimport \"./Adventures.vue?vue&type=style&index=0&id=12b03ec8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-12b03ec8\"]])\n\nexport default __exports__","import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\n\r\n    const firebaseConfig = {\r\n        // The firebase if from our shared firebase account\r\n        apiKey: \"AIzaSyBIvMKxanaRLaXbKNyMjvnrT51qiOXUGUQ\",\r\n        authDomain: \"hiddenkittens-ce78f.firebaseapp.com\",\r\n        projectId: \"hiddenkittens-ce78f\",\r\n        storageBucket: \"hiddenkittens-ce78f.appspot.com\",\r\n        messagingSenderId: \"217815978130\",\r\n        appId: \"1:217815978130:web:c3060088a75f253434564b\",\r\n        measurementId: \"G-QLL1TDRGGH\"\r\n    };\r\n\r\n    const firebaseApp = initializeApp(firebaseConfig);\r\n    const auth = getAuth(firebaseApp);\r\n\r\n    export default firebaseApp;\r\n\r\n    \r\n"],"names":["class","toggleNewAdventureForm","adventures","adventure","key","id","loadAdventure","name","friends","length","activities","toggleDropdown","activeDropdown","openEditAdventureForm","leaveAdventure","currentAdventure","showInfoBox","description","getActivityCount","getAdventurerCount","openAddActivityForm","events","calendarEvents","time","handleEventClick","src","alt","selectedAdventureId","closeModal","saveActivity","showNewAdventureForm","showEditAdventureForm","currentUserEmail","editingAdventure","saveAdventure","closeEditModal","updateActivity","for","editActivity","type","placeholder","required","title","editActivityDate","editActivityStartTime","editActivityEndTime","timeError","location","disabled","removeActivity","__defProp","Object","defineProperty","__defNormalProp","obj","value","enumerable","configurable","writable","__publicField","__variableDynamicImportRuntimeHelper","glob","path","segs","v","Promise","resolve","_","reject","queueMicrotask","setTimeout","bind","Error","split","now","todayDate","todayF","_dateObject","_timeObject","DateUtils","constructor","texts","noPrototypes","this","date","getHours","getMinutes","_texts","Date","prototype","addDays","_initDatePrototypes","days","subtractDays","addHours","hours","subtractHours","addMinutes","minutes","subtractMinutes","getWeek","isToday","isLeapYear","format","formatDate","formatTime","removePrototypes","updateTexts","_todayFormatted","getDate","getFullYear","getMonth","d","valueOf","setDate","setHours","setMinutes","UTC","dayNum","getUTCDay","setUTCDate","getUTCDate","yearStart","getUTCFullYear","Math","ceil","year","getPreviousFirstDayOfWeek","weekStartsOnSunday","prevFirstDayOfWeek","dayModifier","getDay","stringToDate","replace","countDays","start","end","timezoneDiffMs","getTimezoneOffset","datesInSameTimeStep","date1","date2","timeStep","abs","getTime","formatDateLite","dateObj","YYYY","_hydrateDateObject","YY","M","MM","MMM","MMMM","MMMMG","D","DD","S","dd","ddd","dddd","HH","_hydrateTimeObject","H","hh","h","am","AM","mm","m","contents","result","round","shouldRound","s","getSeconds","formatTimeLite","timeObj","formatted","_nth","day","dayNumber","toString","substring","months","monthsGenitive","weekDays","substr","floor","pm","toUpperCase","minutesInADay$2","CellUtils","vuecal","force","_vuecal","$emit","clickToNavigate","switchToNarrowerView","dblclickToNavigate","window","domEvents","dblTapACell","taps","timeout","e","left","top","cellsEl","getBoundingClientRect","clientX","clientY","touches","x","y","cursorCoords","timeCellHeight","timeFrom","$props","getPosition","parseInt","max","min","defaultEventDuration","minutesInADay$1","ud","_cellOverlaps","_comparisonArray","EventUtils","dateUtils2","_eid","startTimeMinutes","endTimeMinutes","content","background","allDay","segments","repeat","daysCount","deletable","deleting","titleEditable","resizable","resizing","draggable","dragging","draggingStatic","focused","createAnEvent","dateTime","duration","eventOptions","dateToMinutes","event","eventDefaults","uid","eventIdIncrement","onEventCreate","deleteAnEvent","startDateF","endDateF","mutableEvents","push","addEventsToView","emitWithEvent","cleanupEvent","originalEvent","addEventSegment","isFirstDay","isLastDay","previousSegment","formattedDate","keys","removeEventSegment","segmentsCount","createEventSegments","viewStartDate","viewEndDate","viewStartTimestamp","viewEndTimestamp","timestamp","eventStartAtMidnight","eventStart","eventEnd","repeatedEventStartFound","until","createSegment","nextMidnight","tmpDate","tmpDateFormatted","occurrences","filter","view","checkCellOverlappingEvents","cellEvents","options","slice","forEach","shift","overlaps","position","e2","eventIsInRange","eventInRange","eventsInSameTimeStep","overlapsPerTimeStep","pos1","pos2","indexOf","splice","Set","longestStreak","item","overlapsRow","map","id2","sort","a","b","findIndex","getOverlapsStreak","cellOverlaps","streak","removeFromStreak","includes","overlapsWithoutSelf","id3","startTimestamp2","endTimestamp2","startTimestamp","endTimestamp","_hoisted_1$5","_hoisted_2$3","_hoisted_3$3","grow","_hoisted_4$3","_hoisted_5$3","_hoisted_6$2","_hoisted_7$2","_hoisted_8$2","render$5","_ctx","_cache","$setup","$data","$options","headings","heading","i","hide","today","clickable","cellHeadingsClickable","style","weekdayCellStyles","onClick","$event","selectCell","onDblclick","transitionDirection","appear","transitions","default","column","dayOfMonth","$slots","cleanupHeading","full","small","xsmall","hasSplits","stickySplitLabels","daySplits","i2","label","_export_sfc","sfc","props","target","__vccOpts","val","_sfc_main$5","inject","String","Array","Function","methods","DOMEvent","selectedDate","utils","cell","computed","todayFound","startDate","startWeekOnSunday","hideWeekends","short","cellWidth","reduce","total","hideWeekdays","width","WeekdaysHeadings","_hoisted_1$4","_hoisted_2$2","role","_hoisted_3$2","_hoisted_4$2","_hoisted_5$2","_hoisted_6$1","_hoisted_7$1","_hoisted_8$1","render$4","_component_weekdays_headings","hideViewSelector","viewProps","views","enabled","highlightedControl","onDragenter","editEvents","drag","dnd","viewSelectorDragEnter","onDragleave","viewSelectorDragLeave","switchView","hideTitleBar","args","previous","broaderView","switchToBroaderView","todayButton","goToToday","next","weekDaysInHeader","fn","showDaySplits","_sfc_main$4","components","Boolean","Number","data","updateSelectedDate","get","set","direction","enabledViews","minSplitWidth","modules","Header","_hoisted_1$3","render$3","eventClasses","eventStyles","tabindex","onFocus","focusEvent","onKeypress","onEnterKeypress","onMouseenter","onMouseEnter","onMouseleave","onMouseLeave","onTouchstart","onTouchStart","onMousedown","onMouseDown","onMouseup","onMouseUp","onTouchend","onTouchmove","onTouchMove","onDblClick","onDragstart","onDragStart","onDragend","onDragEnd","delete","deleteEvent","touchDeleteEvent","contenteditable","onResizeHandleMouseDown","_sfc_main$3","cellFormattedDate","eventPosition","overlapsStreak","touch","dragThreshold","startX","startY","dragged","clickHoldAnEvent","focusAnEvent","resizeAnEvent","dragAnEvent","timeoutId","mousedUp","preventDefault","onEventClick","onEventDblclick","eventDragStart","eventDragEnd","assign","segment","originalEnd","originalEndTimeMinutes","cancelDeleteEvent","focusedEvent","find","cancelDelete","eventDimensions","minutesFromTop","timeTo","bottom","height","minEventWidth","resize","Event","_hoisted_1$2","_hoisted_2$1","_hoisted_3$1","_hoisted_4$1","_hoisted_5$1","render$2","_component_event","cellClasses","tag","cellStyles","splitsCount","splits","splitClasses","onCellFocus","onCellkeyPressEnter","isDisabled","onCellTouchStart","onCellMouseDown","onCellClick","onCellDblClick","onContextmenu","cellContextmenu","onCellContextMenu","cellDragEnter","onDragover","cellDragOver","cellDragLeave","onDrop","cellDragDrop","showTimeInCells","isWeekOrDayView","timeCells","specialHours","block","innerHTML","eventsCount","eventsOnMonthView","j","cellOverlapsStreak","event2","timelineVisible","todaysTimePosition","_sfc_main$2","cellSplits","minTimestamp","maxTimestamp","timeAtCursor","highlighted","highlightedSplit","getSplitAtCursor","targetIsSplit","classList","contains","findAncestor","attributes","isDOMElementAnEvent","el","isSelected","keyPressEnterCell","clickHoldACell","cancelClickEventCreation","eventCreated","minutesAtCursor","mouseDownOnEvent","create","setUpEventCreation","startCursorY","dragToCreateEvent","dragCreateAnEvent","snapToTime","timeMinutes","plusHalfSnapTime","cellClickHold","setUpCellHoldTimer","cellId","stopPropagation","nowInMinutes","isBeforeMinDate","endDate","isAfterMaxDate","disableDays","isYearsOrYearView","selected","from","to","timeScale","cellStart","cellEnd","eventsCountOnYearView","outOfScopeEvents","showAllDayEvents","singleDayInRange","multipleDayInRange","recurrMultDayInRange","$nextTick","current","outOfScope","Cell","_hoisted_1$1","render$1","_component_vuecal_cell","cellOrSplitMinWidth","cells","isWeekView","isMonthView","_sfc_main$1","shortEvents","hasCellOrSplitWidth","minCellWidth","AllDayBar","row","_component_vuecal_header","_component_all_day_bar","cssClasses","ref","lang","locale","viewTitle","hideBody","hasTimeColumn","isDayView","allDayBar","onBlur","onEventTitleBlur","hasShortEvents","isShortMonthView","vuecal__flex","showWeekNumbers","week","getWeekNumber","wrap","viewCells","goNarrower","cellOrSplitHasEvents","noEvent","TimeFormat","toLowerCase","ready","minutesInADay","textsDefaults","fill","weekDaysShort","years","month","createEvent","dateFormat","validViews","dateUtils","_sfc_main","provide","activeView","allDayBarHeight","disableDatePrototypes","disableViews","dragToCreateThreshold","editableEvents","maxDate","minDate","resizeX","splitDays","timeFormat","twelveHour","watchRealTime","firstCellDate","lastCellDate","timeTickerIds","startCell","endCell","loadLocale","loadDragAndDrop","then","response","DragAndDrop","catch","console","warn","validateView","error","join","fromViewSelector","ud2","viewDateBeforeChange","oldView","setSeconds","daysToAdd","daysToSubtract","weekDaysCount","viewDate","params","previousNext","modifier","viewId","weekDay","weekDayIndex","isDayHidden","daysWithIndex","daysFromDate","reverse","ue","filteredEvents","some","Class","parentElement","onMouseMove","eventResizing","eventDragCreation","isClickHoldingEvent","wasResizing","hasResized","dragCreatedEvent","dragCreateStarted","mouseUpOnEvent","eventClicked","mutableEvent","cleanEvent","oldDate","unfocusEvent","clearTimeout","eventClickHandler","onKeyUp","keyCode","newEndTimeMins","offsetWidth","childElementCount","newEnd","newDaysCount","lastSegmentFormattedDate","dragFromBottom","oldTitle","updateMutableEvents","multipleDays","discardProps","prop","eventName","weekFromFirstCell","firstCellWeekNumber","firstCellDateWeekNumber","currentWeekNumber","timeTick","updateDateTexts","alignWithScrollbar","document","getElementById","bg","$refs","getElementsByClassName","scrollbarWidth","children","createElement","head","appendChild","created","currentView","mounted","hasTouch","hasEventClickHandler","addEventListener","passive","oncontextmenu","beforeUnmount","removeEventListener","minWidth","visibleDaysCount","isNaN","unshift","pop","specialDayHours","isArray","lastDayOfWeek","y1","m1","formattedMonthYear","y2","m2","fromYear","now2","apply","firstDayOfWeek","dayOfWeek","isYearsView","isYearView","watch","handler","oldEvents","deep","newVal","index","activityName","activityDate","startTime","endTime","activityLocation","activityDescription","isFormValid","toISOString","isModalVisible","trim","isTimeRangeValid","compareTimes","validateTimeRange","startHours","startMinutes","endHours","endMinutes","activityStart","activityEnd","newActivity","resetForm","__exports__","adventureName","adventureDescription","friendEmail","addFriend","friend","email","removeFriend","isEditing","db","firebase","userNotFound","adventureData","alert","userDocRef","userSnapshot","exists","log","getRandomValues","rnds8","Uint8Array","rng","crypto","msCrypto","validate","uuid","test","byteToHex","stringify","arr","offset","arguments","undefined","TypeError","v4","buf","rnds","random","VueCal","CreateActivityModal","CreateAdventureModal","showAddActivityModal","showEditActivityModal","currentUserID","currentActivity","isEditTimeRangeValid","validateEditTimeRange","auth","async","user","loadUserAdventures","handleClickOutsideDropdown","activity","adventureIDs","adventureSnapshots","docs","doc","selectedAdventure","adventureDoc","userEmails","fullAdventureData","adventureId","adventureRef","linkUsersToAdventure","addAdventureToUser","userDoc","adventureID","closest","toTimeString","updatedActivity","updatedActivities","render","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp"],"sourceRoot":""}