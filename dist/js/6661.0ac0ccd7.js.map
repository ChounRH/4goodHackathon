{"version":3,"file":"js/6661.0ac0ccd7.js","mappings":"4sBA8GE,MAAMA,GAAQ,UACRC,EAAOD,EAAME,OAAOD,KACpBE,GAAQ,QAAI,MACZC,GAAW,QAAI,MACfC,GAAmB,QAAI,IACvBC,GAAc,QAAI,IAClBC,GAAqB,QAAI,GACzBC,GAAc,SAAI,GAClBC,GAAqB,SAAI,GAEzBC,GAA2B,SAAS,KACxC,MAAMC,EAAMR,EAAMS,OAAOC,iBAAmB,GAC5C,OAAOF,EAAIG,WAAW,YAAcH,EAAIG,WAAW,YAAcH,EAAM,UAAUA,GAAK,IAIxF,SAASI,EAAcC,GACrB,IAAKA,EAAS,MAAO,GACrB,MAAM,MAAEC,EAAK,WAAEC,EAAU,YAAEC,EAAW,WAAEC,EAAU,aAAEC,EAAY,WAAEC,GAAeN,EACjF,MAAO,CAACC,EAAOC,EAAYC,EAAaC,EAAYC,EAAcC,GAAYC,OAAOC,SAASC,KAAK,KACrG,CAGA,SAASC,IACPlB,EAAYI,OAASJ,EAAYI,KACnC,CAGA,SAASe,IACPlB,EAAmBG,OAASH,EAAmBG,KACjD,CAGA,MAAMgB,GAAc,SAAS,IACpBpB,EAAYI,MAAQT,EAAMS,MAAMiB,KAAOvB,EAAYM,QAItDkB,EAAqBC,MAAOC,IAChC,IACE,MAAMC,QAAiB,QAAcD,GAC/BE,EAAO,IAAIC,KAAK,CAACF,GAAW,CAAEG,KAAM,eAC1ChC,EAASQ,MAAQyB,IAAIC,gBAAgBJ,EACvC,CAAE,MAAOK,GACPC,QAAQD,MAAM,wBAAyBA,EACzC,GAIIE,EAAoBV,UACxB,IACE,MAAME,QAAiB,QAAU,6BAA6BhC,aAC9D,GAAIgC,EAASS,MAAQT,EAASS,KAAKC,OAAQ,CACzCxC,EAAMS,MAAQqB,EAASS,KAAK,GAC5BrC,EAAiBO,MAAQG,EAAcZ,EAAMS,MAAMI,SAGnD,MAAMa,EAAO1B,EAAMS,MAAMiB,MAAQ,GAKjC,GAJAvB,EAAYM,MAAQiB,EAAKe,MAAM,EAAG,GAClCrC,EAAmBK,MAAQiB,EAAKc,OAAS,EAAId,EAAKc,OAAS,EAAI,EAG3DxC,EAAMS,MAAMiC,QAAU1C,EAAMS,MAAMiC,OAAOF,OAAQ,CACnD,MAAMG,EAAiB3C,EAAMS,MAAMiC,OAAO,GAAG5C,WACvC6B,EAAmBgB,EAC3B,CACF,CACF,CAAE,MAAOP,GACPC,QAAQD,MAAM,gCAAiCA,EACjD,G,OAGF,QAAUE,G,yqFChLZ,MAAMM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,G","sources":["webpack://hiddenkittens/./src/components/Details/ShopDetails.vue","webpack://hiddenkittens/./src/components/Details/ShopDetails.vue?0f72"],"sourcesContent":["<template>\r\n  <div v-if=\"place\">\r\n    <div class=\"base-layer\">\r\n    <div class=\"restaurant-details-container\">\r\n      <div class=\"restaurant-main-content\">\r\n        <div class=\"category-box-container\">\r\n          <div class=\"category-box\">\r\n            Shops\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Restaurant Name with Bookmark Button -->\r\n        <div class=\"restaurant-header\">\r\n          <h2 class=\"restaurant-name\">{{ place.name }}</h2>\r\n          <AddToBookmarkList\r\n            :itemUUID=\"place.uuid\" \r\n            @added=\"handleBookmarkAdded\"\r\n            class=\"add-to-bookmark-btn\"\r\n          />\r\n        </div>\r\n\r\n        <h4 class=\"restaurant-categories\">\r\n          {{ place.description }}\r\n        </h4>\r\n\r\n        <!-- Display tags with a toggle to show all or limited -->\r\n        <div class=\"restaurant-tags\">\r\n          <span \r\n            v-for=\"(tag, index) in visibleTags\" \r\n            :key=\"index\" \r\n            class=\"tag-box\"\r\n          >\r\n            {{ tag }}\r\n          </span>\r\n          <span \r\n            v-if=\"remainingTagsCount > 0 && !showAllTags\" \r\n            class=\"tag-box more-tags\"\r\n            @click=\"toggleShowAllTags\"\r\n            style=\"cursor: pointer;\"\r\n          >\r\n            +{{ remainingTagsCount }} more\r\n          </span>\r\n          <span \r\n            v-if=\"showAllTags\" \r\n            class=\"show-less\" \r\n            @click=\"toggleShowAllTags\"\r\n            style=\"cursor: pointer; color: #007bff;\"\r\n          >\r\n            Show less\r\n          </span>\r\n        </div>\r\n\r\n        <div v-if=\"mediaUrl\" class=\"restaurant-image\">\r\n          <img :src=\"mediaUrl\" alt=\"Restaurant Image\" />\r\n        </div>\r\n        <br>\r\n        <h3>Description</h3>\r\n        <div class=\"divider-line\"></div>\r\n        <div v-if=\"place.body\" v-html=\"place.body\" class=\"descriptions-body\"></div>\r\n        <br>\r\n        <h3>Nearest MRT</h3>\r\n        <div class=\"divider-line\"></div>\r\n        <p class=\"descriptions\">{{ place.nearestMrtStation || 'No MRT available.' }}</p>\r\n        <br>\r\n      </div>\r\n\r\n      <!-- Sidebar with contact and rating information -->\r\n      <div class=\"restaurant-sidebar\">\r\n        <div class=\"restaurant-info\">\r\n          <h3>Information</h3>\r\n          <div class=\"divider-line\"></div>\r\n          <p><i class=\"pi pi-map-marker\"></i> {{ formattedAddress }}</p>\r\n          <p><i class=\"pi pi-phone\"></i> {{ place.contact?.primaryContactNo || 'Not available' }}</p>\r\n          <p><i class=\"pi pi-clock\"></i> \r\n            <span @click=\"toggleOperatingHours\" class=\"operating-hours-link\">\r\n              Operating hours\r\n            </span>\r\n          </p>\r\n          <a :href=\"formattedOfficialWebsite\" target=\"_blank\">\r\n            <i class=\"pi pi-globe\"></i> Website\r\n          </a>\r\n        </div>\r\n\r\n        <div class=\"restaurant-rating\">\r\n          <h3>Rate and review</h3>\r\n          <div class=\"divider-line-2\"></div>\r\n          <div class=\"rating-section\">\r\n            <RatingsAndReviews :rating=\"place.rating\" :reviews=\"place.reviews\" :uniqueid=\"uuid\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Operating Hours Popup -->\r\n    <OperatingHours v-if=\"showOperatingHours\" @close=\"toggleOperatingHours\" />\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Loading state when place is null -->\r\n  <p v-else>Loading place details...</p>\r\n</template>\r\n  \r\n  <script setup>\r\n  import { onMounted, ref, computed } from 'vue'; \r\n  import { useRoute } from 'vue-router';\r\n  import { getPlaces, downloadMedia } from '@/tihServices.js';\r\n  import OperatingHours from './OperatingHours.vue';\r\n  import RatingsAndReviews from './RatingsAndReviews.vue';\r\n  import AddToBookmarkList from \"@/components/AddToBookmarkList.vue\";\r\n  \r\n  const route = useRoute();\r\n  const uuid = route.params.uuid;\r\n  const place = ref(null);\r\n  const mediaUrl = ref(null);\r\n  const formattedAddress = ref('');\r\n  const limitedTags = ref([]);\r\n  const remainingTagsCount = ref(0);\r\n  const showAllTags = ref(false);\r\n  const showOperatingHours = ref(false); // Boolean to control the OperatingHours popup\r\n\r\n  const formattedOfficialWebsite = computed(() => {\r\n    const url = place.value?.officialWebsite || '';\r\n    return url.startsWith('http://') || url.startsWith('https://') ? url : `http://${url}`;\r\n  });\r\n  \r\n  // Function to format the address\r\n  function formatAddress(address) {\r\n    if (!address) return '';\r\n    const { block, streetName, floorNumber, unitNumber, buildingName, postalCode } = address;\r\n    return [block, streetName, floorNumber, unitNumber, buildingName, postalCode].filter(Boolean).join(', ');\r\n  }\r\n  \r\n  // Toggle to show all or limited tags\r\n  function toggleShowAllTags() {\r\n    showAllTags.value = !showAllTags.value;\r\n  }\r\n  \r\n  // Toggle the Operating Hours popup\r\n  function toggleOperatingHours() {\r\n    showOperatingHours.value = !showOperatingHours.value;\r\n  }\r\n  \r\n  // Computed: tags to display (limited or full)\r\n  const visibleTags = computed(() => {\r\n    return showAllTags.value ? place.value.tags : limitedTags.value;\r\n  });\r\n  \r\n  // Fetch media URL for the first image\r\n  const fetchFirstImageUrl = async (imageUuid) => {\r\n    try {\r\n      const response = await downloadMedia(imageUuid);\r\n      const blob = new Blob([response], { type: 'image/jpeg' });\r\n      mediaUrl.value = URL.createObjectURL(blob);\r\n    } catch (error) {\r\n      console.error('Error fetching media:', error);\r\n    }\r\n  };\r\n  \r\n  // Fetch place details using the provided uuid\r\n  const fetchPlaceDetails = async () => {\r\n    try {\r\n      const response = await getPlaces(`search/uuids?searchValues=${uuid}&limit=1`);\r\n      if (response.data && response.data.length) {\r\n        place.value = response.data[0];\r\n        formattedAddress.value = formatAddress(place.value.address);\r\n  \r\n        // Handle tags\r\n        const tags = place.value.tags || [];\r\n        limitedTags.value = tags.slice(0, 5); // Get the first 5 tags\r\n        remainingTagsCount.value = tags.length > 5 ? tags.length - 5 : 0; // Calculate how many tags are left\r\n  \r\n        // Fetch the first image UUID and get its URL\r\n        if (place.value.images && place.value.images.length) {\r\n          const firstImageUuid = place.value.images[0].uuid;\r\n          await fetchFirstImageUrl(firstImageUuid);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching place details:', error);\r\n    }\r\n  };\r\n  \r\n  onMounted(fetchPlaceDetails);\r\n</script>\r\n  \r\n<style scoped>\r\n\r\n.descriptions-body {\r\n  margin-top: 14px;\r\n  line-height: 1.6;\r\n  text-align: left;\r\n}\r\n\r\n.base-layer {\r\n  position: fixed;\r\n  top: 80px;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: calc(100vh - 80px);;\r\n  background-color: #f9f9f9;\r\n  display: flex;\r\n  justify-content: center; /* Centers child horizontally */\r\n  align-items: center;\r\n}\r\n\r\n.restaurant-details-container {\r\n  height: calc(100vh - 80px);\r\n  display: flex;\r\n  background-color: #f9f9f9;\r\n}\r\n\r\n@media (min-width: 1400px) { /* Minimum width for adding padding */\r\n  .restaurant-details-container {\r\n    max-width: 1400px; /* Limits container width to 1200px */\r\n  }\r\n}\r\n\r\n.restaurant-header {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px; /* Space between name and bookmark button */\r\n}\r\n\r\n.large-dot {\r\n  font-size: 1.5rem; /* Adjust this to control the dot size */\r\n  vertical-align: middle;\r\n  margin: 0 1px; /* Optional: add spacing around the dot */\r\n  color: #535353;\r\n}\r\n\r\n.category-box {\r\n  background-color: white;\r\n  color: #ff6b35; /* Icon and text color */\r\n  padding: 5px 10px 1px 10px;\r\n  border: 2px solid #ff6b35; /* Orange border */\r\n  border-radius: 5px;\r\n  margin: 20px 0 0 0;\r\n  font-size: 1rem;\r\n  font-weight: bold;\r\n  display: inline-flex;\r\n}\r\n.category-box-container {\r\n  text-align: left;\r\n  margin: 0 0 8px 0;\r\n}\r\n\r\nh3 {\r\n  font-size: 20px;\r\n  font-weight: bold; \r\n  text-align: left;\r\n}\r\n\r\nh4 {\r\n  text-align: left;\r\n  color: #535353;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.descriptions {\r\n  text-align: left; \r\n}\r\n\r\n.restaurant-main-content {\r\n  flex: 3;\r\n  overflow-y: auto;\r\n  padding: 0 20px 40vh 20px;\r\n  max-height: calc(100vh - 80px);\r\n}\r\n\r\n.restaurant-sidebar {\r\n  flex: 1.3;\r\n  background-color: #fff;\r\n  height: auto;\r\n  margin: 20px 20px 20px 0;\r\n  padding:20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.restaurant-name {\r\n  font-size: 2rem;\r\n  text-align: left;\r\n  font-weight: bold;\r\n}\r\n\r\n.restaurant-image img {\r\n  width: 60%; \r\n  height: auto; \r\n  border-radius: 10px;\r\n}\r\n\r\n.restaurant-tags {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.restaurant-info {\r\n  margin-bottom: 30px;\r\n  text-align: left; /* Ensure the content is left-aligned */\r\n}\r\n\r\n.restaurant-info p, \r\n.restaurant-info a {\r\n  font-size: 0.95rem;\r\n  margin-bottom: 10px;\r\n  color: #007bff;\r\n  display: flex;\r\n  align-items: center; /* Align icons and text vertically */\r\n}\r\n\r\n.restaurant-info i {\r\n  color: rgb(0, 70, 144); /* Change the icon color */\r\n  margin-right: 10px; /* Add space between icon and text */\r\n  font-size: 1.2rem; /* Adjust icon size if needed */\r\n  vertical-align: middle; /* Aligns the icon in the middle of the line */\r\n}\r\n\r\n.restaurant-info a {\r\n  text-decoration: none;\r\n}\r\n\r\n.restaurant-info a:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.tag-box {\r\n  background-color: #e0e0e0;\r\n  padding: 5px 10px;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n  color: #333;\r\n  white-space: nowrap;\r\n}\r\n\r\n.more-tags {\r\n  background-color: #d5d5d5;\r\n}\r\n\r\n.show-less {\r\n  background-color: transparent; /* No background for \"Show less\" */\r\n  color: #007bff; /* Blue color like a link */\r\n  text-decoration: underline; /* Underlined to indicate clickable */\r\n  cursor: pointer;\r\n  padding: 5px 10px;\r\n  border-radius: 20px;\r\n  font-size: 0.9rem;\r\n}\r\n\r\n.divider-line {\r\n  height: 1px;\r\n  background-color: #ccc; /* You can change the color */\r\n  margin: 10px 0; /* Adjust the space around the line */\r\n}\r\n\r\n.divider-line-2 {\r\n  height: 1px;\r\n  background-color: #ccc; /* You can change the color */\r\n  margin: 10px 0 3px 0; /* Adjust the space around the line */\r\n}\r\n\r\n.restaurant-image img {\r\n  width: 100%;\r\n  height: auto;\r\n  border-radius: 10px;\r\n}\r\n\r\n.book-now {\r\n  background-color: #ff6b35;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  margin-top: 20px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.book-now:hover {\r\n  background-color: #e65a2b;\r\n}\r\n\r\n.restaurant-info {\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.restaurant-info p, .restaurant-info a {\r\n  font-size: 0.95rem;\r\n  margin-bottom: 10px;\r\n  color: #007bff;\r\n}\r\n\r\n.restaurant-info a {\r\n  text-decoration: none;\r\n}\r\n\r\n.restaurant-info a:hover {\r\n  text-decoration: underline;\r\n}\r\n\r\n.restaurant-rating {\r\n  margin-top: 20px;\r\n}\r\n\r\n.rating-section {\r\n  display: flex;\r\n  overflow-y: auto;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.rating-number {\r\n  font-size: 2.5rem;\r\n  font-weight: bold;\r\n  color: #ffcc00;\r\n}\r\n\r\n.review-link {\r\n  color: #007bff;\r\n  text-decoration: none;\r\n}\r\n\r\n.review-button {\r\n  background-color: #007bff;\r\n  color: white;\r\n  padding: 10px 15px;\r\n  border: none;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n}\r\n\r\n.review {\r\n  margin-top: 20px;\r\n  background-color: #f9f9f9;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n}\r\n\r\n.review-time {\r\n  font-size: 0.85rem;\r\n  color: #999;\r\n}\r\n\r\n.review-button:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.operating-hours-link {\r\n  color: #007bff;\r\n  cursor: pointer;\r\n  text-decoration: underline;\r\n}\r\n</style>","import script from \"./ShopDetails.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShopDetails.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShopDetails.vue?vue&type=style&index=0&id=16232475&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-16232475\"]])\n\nexport default __exports__"],"names":["route","uuid","params","place","mediaUrl","formattedAddress","limitedTags","remainingTagsCount","showAllTags","showOperatingHours","formattedOfficialWebsite","url","value","officialWebsite","startsWith","formatAddress","address","block","streetName","floorNumber","unitNumber","buildingName","postalCode","filter","Boolean","join","toggleShowAllTags","toggleOperatingHours","visibleTags","tags","fetchFirstImageUrl","async","imageUuid","response","blob","Blob","type","URL","createObjectURL","error","console","fetchPlaceDetails","data","length","slice","images","firstImageUuid","__exports__"],"sourceRoot":""}