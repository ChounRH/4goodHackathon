"use strict";(self["webpackChunkhiddenkittens"]=self["webpackChunkhiddenkittens"]||[]).push([[5380],{3725:(e,a,l)=>{l.r(a),l.d(a,{default:()=>_});var s=l(641),t=l(953),o=l(33),n=l(3751);const u=l.p+"img/google-icon.08733af5.png";var i=l(7391),r=l(5220);const c=l.p+"img/cat1.7a84a2cc.jpg";var d=l(6647),v=l(6430);const p={class:"background-animation"},k=["src"],m={class:"home-container"},g={class:"logo-container"},h=["src"],w={key:0,class:"form-container"},b={class:"password-container"},y=["type"],L={key:0,class:"error-msg"},f={key:1,class:"form-container"},C={key:0,class:"error-msg"},R={key:1,class:"success-msg"},x={key:2,class:"form-container register-form"},E={class:"password-container"},P=["type"],K={key:0,class:"error-msg"},N={__name:"Home",setup(e){const a=(0,r.rd)(),l=(0,i.xI)(),N=(0,v.aU)(),I=(0,t.KR)(""),U=(0,t.KR)(""),_=(0,t.KR)(""),A=(0,t.KR)(""),B=(0,t.KR)(""),G=(0,t.KR)(!0),H=(0,t.KR)(!1),J=(0,t.KR)(!1),S=(0,t.KR)(""),V=(0,t.KR)(""),X=(0,t.KR)(""),Q=()=>{B.value="",V.value="",X.value=""},T=e=>{localStorage.setItem("isGoogleUser",e?"true":"false")},F=()=>{G.value=!G.value,J.value=!1,_.value="",A.value="",I.value="",U.value="",Q()},$=()=>{H.value=!H.value},j=async()=>{const e=new i.HF;try{const s=await(0,i.df)(l,e),t=s.user,o=(0,v.H9)(N,"Users",t.email),n=await(0,v.x7)(o);n.exists()||await(0,v.BN)(o,{firstName:t.displayName.split(" ")[0]||"",lastName:t.displayName.split(" ")[1]||"",userID:t.uid,Adventures:[],userType:"Google"});const u=(0,v.H9)(N,"Bookmarks",t.uid),r=await(0,v.x7)(u);r.exists()||await(0,v.BN)(o,{bookmarkLists:{}}),T(!0),a.push("/discovery")}catch(s){console.error("Error during Google Sign-In:",s),B.value=`Google Sign-In failed: ${s.message}`}},q=()=>{(0,i.x9)(l,_.value,A.value).then((()=>{T(!1),a.push("/discovery")})).catch((e=>{B.value="Email or password was incorrect"}))},D=e=>{const a=6,l=/[A-Z]/.test(e),s=/[!@#$%^&*(),.?":{}|<>]/.test(e);return e.length<a?"Password must be at least 6 characters long.":l?s?null:"Password must contain at least one special character.":"Password must contain at least one uppercase letter."},M=()=>{const e=D(A.value);e?B.value=e:(0,i.eJ)(l,_.value,A.value).then((async e=>{const a=e.user;await(0,v.BN)((0,v.H9)(N,"Users",a.email),{firstName:I.value,lastName:U.value,userID:a.uid,Adventures:[],userType:"Standard"}),await(0,v.BN)((0,v.H9)(N,"Bookmarks",a.uid),{bookmarkLists:{}}),await(0,i.CI)(l),G.value=!0,B.value="Account created successfully! Please log in.",_.value="",A.value="",I.value="",U.value=""})).catch((e=>{switch(e.code){case"auth/email-already-in-use":B.value="This email is already in use. Please use another email.";break;case"auth/invalid-email":B.value="The email address is invalid. Please enter a valid email.";break;case"auth/weak-password":B.value="Your password is too weak. It must be at least 6 characters.";break;case"auth/missing-password":B.value="Please enter a password.";break;case"auth/operation-not-allowed":B.value="Account creation is currently disabled. Please try again later.";break;case"auth/network-request-failed":B.value="Network error. Please check your internet connection and try again.";break;case"auth/too-many-requests":B.value="Too many attempts. Please wait a moment before trying again.";break;default:B.value=`Registration failed: ${e.message.replace("Firebase: ","")}`;break}}))},W=()=>{S.value?(0,i.J1)(l,S.value).then((()=>{X.value="Password reset email sent. Please check your inbox.",V.value=""})).catch((()=>{V.value="Error: Unable to send reset email."})):V.value="Please enter your email."},Y=(0,t.KR)({top:"50%",left:"50%"});function z(){let e,a;do{e=40*Math.random()+30,a=60*Math.random()+20}while(e>35&&e<65&&a>30&&a<70);Y.value={top:`${e}%`,left:`${a}%`}}return(0,s.sV)((()=>{z(),setInterval((()=>{z()}),5e3)})),(e,a)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",p,[(0,s.Lk)("img",{src:(0,t.R1)(c),alt:"Random Cat",class:"cat",style:(0,o.Tr)(Y.value)},null,12,k)]),(0,s.Lk)("div",m,[(0,s.Lk)("div",g,[(0,s.Lk)("img",{src:(0,t.R1)(d),alt:"Hidden Kittens Logo",class:"app-logo"},null,8,h)]),a[14]||(a[14]=(0,s.Lk)("div",{class:"divider"},null,-1)),a[15]||(a[15]=(0,s.Lk)("p",{class:"welcome-text"}," Your Guide to Amazing Spots and Great Experiences ",-1)),G.value&&!J.value?((0,s.uX)(),(0,s.CE)("div",w,[a[11]||(a[11]=(0,s.Lk)("h1",{class:"title"},"Sign In",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",placeholder:"Email","onUpdate:modelValue":a[0]||(a[0]=e=>_.value=e),class:"input-field"},null,512),[[n.Jo,_.value]]),(0,s.Lk)("div",b,[(0,s.bo)((0,s.Lk)("input",{type:H.value?"text":"password",placeholder:"Password","onUpdate:modelValue":a[1]||(a[1]=e=>A.value=e),class:"input-field"},null,8,y),[[n.hp,A.value]]),(0,s.Lk)("span",{onClick:$,class:"eye-icon"},(0,o.v_)(H.value?"👁️":"🐱"),1)]),(0,s.Lk)("a",{onClick:a[2]||(a[2]=e=>J.value=!0),class:"forgot-password"},"Forgot password?"),B.value?((0,s.uX)(),(0,s.CE)("p",L,(0,o.v_)(B.value),1)):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:q,class:"submit-button"},"Login"),(0,s.Lk)("button",{onClick:j,class:"submit-button google-button"},a[9]||(a[9]=[(0,s.Lk)("img",{src:u,alt:"Google icon",class:"google-icon"},null,-1),(0,s.eW)(" Sign In With Google ")])),(0,s.Lk)("div",{class:"new-account"},[a[10]||(a[10]=(0,s.Lk)("span",null,"New to Hidden Kittens? ",-1)),(0,s.Lk)("a",{onClick:F,class:"join-now"},"Join now")])])):(0,s.Q3)("",!0),J.value?((0,s.uX)(),(0,s.CE)("div",f,[a[12]||(a[12]=(0,s.Lk)("h1",{class:"title"},"Reset Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",placeholder:"Enter your email","onUpdate:modelValue":a[3]||(a[3]=e=>S.value=e),class:"input-field"},null,512),[[n.Jo,S.value]]),V.value?((0,s.uX)(),(0,s.CE)("p",C,(0,o.v_)(V.value),1)):(0,s.Q3)("",!0),X.value?((0,s.uX)(),(0,s.CE)("p",R,(0,o.v_)(X.value),1)):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:W,class:"submit-button"}," Send Reset Email "),(0,s.Lk)("a",{onClick:a[4]||(a[4]=e=>J.value=!1),class:"back-to-signin"},"Back to Login")])):G.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",x,[a[13]||(a[13]=(0,s.Lk)("h1",{class:"title"},"Create an Account",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",placeholder:"First Name","onUpdate:modelValue":a[5]||(a[5]=e=>I.value=e),class:"input-field"},null,512),[[n.Jo,I.value]]),(0,s.bo)((0,s.Lk)("input",{type:"text",placeholder:"Last Name","onUpdate:modelValue":a[6]||(a[6]=e=>U.value=e),class:"input-field"},null,512),[[n.Jo,U.value]]),(0,s.bo)((0,s.Lk)("input",{type:"text",placeholder:"Email","onUpdate:modelValue":a[7]||(a[7]=e=>_.value=e),class:"input-field"},null,512),[[n.Jo,_.value]]),(0,s.Lk)("div",E,[(0,s.bo)((0,s.Lk)("input",{type:H.value?"text":"password",placeholder:"Password","onUpdate:modelValue":a[8]||(a[8]=e=>A.value=e),class:"input-field"},null,8,P),[[n.hp,A.value]]),(0,s.Lk)("span",{onClick:$,class:"eye-icon"},(0,o.v_)(H.value?"👁️":"🐱"),1)]),B.value?((0,s.uX)(),(0,s.CE)("p",K,(0,o.v_)(B.value),1)):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:M,class:"submit-button"},"Register"),(0,s.Lk)("a",{onClick:F,class:"back-to-signin"},"Back to Login")]))])],64))}};var I=l(6262);const U=(0,I.A)(N,[["__scopeId","data-v-5203882f"]]),_=U}}]);
//# sourceMappingURL=5380.3ab21d9a.js.map